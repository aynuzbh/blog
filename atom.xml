<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CCLMSYğŸ’«</title>
  
  
  <link href="https://www.cclmsy.cc/atom.xml" rel="self"/>
  
  <link href="https://www.cclmsy.cc/"/>
  <updated>2024-08-25T05:49:34.491Z</updated>
  <id>https://www.cclmsy.cc/</id>
  
  <author>
    <name>æ·±ç¿¼ğŸ’«</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡10</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD10.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD10.html</id>
    <published>2024-09-08T16:00:00.000Z</published>
    <updated>2024-08-25T05:49:34.491Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81605">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥10</a></p><h1>A.Surrender to My Will</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $5$ çš„å­—ç¬¦ä¸²ï¼Œ<code>Y</code>ä»£è¡¨æŠ•é™ï¼Œ<code>N</code>ä»£è¡¨ä¸æŠ•é™ï¼Œ<code>-</code>ä»£è¡¨æœªæŠ•ç¥¨ã€‚<br>æŠ•é™äººæ•°ä¸å°äº4äººå³å¯æŠ•é™ã€‚<br>é—®å­—ç¬¦ä¸²è¡¨ç¤ºçš„æŠ•é™ç»“æœã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>è®¡æ•°åˆ¤æ–­</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;cin &gt;&gt; s;</span><br><span class="line">    map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s) mp[c]++;</span><br><span class="line">    <span class="keyword">if</span>(mp[<span class="string">&#x27;Y&#x27;</span>]&gt;=<span class="number">4</span>) &#123;cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span>(mp[<span class="string">&#x27;N&#x27;</span>]&gt;=<span class="number">2</span>) &#123;cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>B.std::pair</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>åŸºç¡€åˆæ³•ç±»å‹<code>int</code>å’Œ<code>double</code>ã€‚<br>å¯¹äºä»»æ„2ä¸ªåˆæ³•ç±»å‹<code>A</code>å’Œ<code>B</code>ï¼Œ<code>pair&lt;A,B&gt;</code>æ˜¯åˆæ³•çš„ï¼Œå¯ä»¥é€šè¿‡<code>.first</code>å’Œ<code>.second</code>åˆ†åˆ«è®¿é—®<code>A</code>å’Œ<code>B</code>æˆå‘˜ã€‚<br>å£°æ˜å˜é‡çš„æ ¼å¼ä¸º<code>pair&lt;A,B&gt; å˜é‡å;</code>ã€‚</p><p>ç»™å®š $n$ ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºå˜é‡å£°æ˜ï¼Œå˜é‡åä¸é‡å¤ã€‚<br>å†ç»™å®š $q$ ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºè®¿é—®å˜é‡ï¼Œè¿”å›è¢«æŸ¥è¯¢çš„æˆå‘˜ç±»å‹ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ¨¡æ‹Ÿé¢˜ï¼Œå¯¹æ¯ä¸ªå˜é‡ç±»å‹æ„å»ºäºŒå‰æ ‘ï¼ŒæŸ¥è¯¢åœ¨äºŒå‰æ ‘ä¸Šè¿›è¡Œã€‚<br>å…·ä½“å®ç°æ–¹å¼å¯ä»¥å‚è€ƒä»£ç ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">pll v[N]; <span class="comment">//pairçš„æ ‘ï¼Œxè¡¨ç¤ºå·¦å­æ ‘ï¼Œyè¡¨ç¤ºå³å­æ ‘</span></span><br><span class="line">map&lt;string,ll&gt; dict; <span class="comment">//å˜é‡äºŒå‰æ ‘çš„æ ¹æ‰€åœ¨ä¸‹æ ‡</span></span><br><span class="line">ll cnt=<span class="number">0</span>;</span><br><span class="line"><span class="function">pll <span class="title">parse_type</span><span class="params">(string s)</span></span>&#123; <span class="comment">//è§£æç±»å‹ï¼Œæ„å»ºæ ‘</span></span><br><span class="line">    <span class="keyword">if</span>(s==<span class="string">&quot;int&quot;</span>) <span class="keyword">return</span> &#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;; <span class="comment">//int</span></span><br><span class="line">    <span class="keyword">if</span>(s==<span class="string">&quot;double&quot;</span>) <span class="keyword">return</span> &#123;<span class="number">-2</span>,<span class="number">-2</span>&#125;; <span class="comment">//double</span></span><br><span class="line">    s=s.<span class="built_in">substr</span>(<span class="number">5</span>,s.<span class="built_in">length</span>()<span class="number">-6</span>); </span><br><span class="line">    ll cntp=<span class="number">0</span>,cntd=<span class="number">0</span>,pos;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,s.<span class="built_in">length</span>()<span class="number">-1</span>)&#123; <span class="comment">//æ‰¾åˆ°å½“å‰pairå¯¹åº”çš„é€—å·ä½ç½®pos</span></span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;p&#x27;</span>) cntp++;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;,&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cntp==cntd) &#123;pos=i;<span class="keyword">break</span>;&#125; </span><br><span class="line">            cntd++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string ltype=s.<span class="built_in">substr</span>(<span class="number">0</span>,pos),rtype=s.<span class="built_in">substr</span>(pos+<span class="number">1</span>,s.<span class="built_in">length</span>()-pos<span class="number">-1</span>);</span><br><span class="line">    ll lidx=cnt++,ridx=cnt++;</span><br><span class="line">    v[lidx]=<span class="built_in">parse_type</span>(ltype);</span><br><span class="line">    v[ridx]=<span class="built_in">parse_type</span>(rtype);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">make_pair</span>(lidx,ridx);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">get_type</span><span class="params">(ll idx)</span></span>&#123; <span class="comment">//é‡ç»„ç±»å‹å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">if</span>(v[idx].x==<span class="number">-1</span>) <span class="keyword">return</span> <span class="string">&quot;int&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(v[idx].x==<span class="number">-2</span>) <span class="keyword">return</span> <span class="string">&quot;double&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;pair&lt;&quot;</span>+<span class="built_in">get_type</span>(v[idx].x)+<span class="string">&quot;,&quot;</span>+<span class="built_in">get_type</span>(v[idx].y)+<span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,q;cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    string type,name;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; type &gt;&gt; name;</span><br><span class="line">        name.<span class="built_in">pop_back</span>();</span><br><span class="line">        dict[name]=cnt++;</span><br><span class="line">        v[dict[name]]=<span class="built_in">parse_type</span>(type);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,q)&#123;</span><br><span class="line">        cin &gt;&gt; name;</span><br><span class="line">        ll j=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;name.<span class="built_in">length</span>()&amp;&amp;name[j]!=<span class="string">&#x27;.&#x27;</span>) j++;</span><br><span class="line">        string main_name=name.<span class="built_in">substr</span>(<span class="number">0</span>,j); j++;</span><br><span class="line">        ll idx=dict[main_name];</span><br><span class="line">        <span class="keyword">while</span>(j&lt;name.<span class="built_in">length</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(name[j]==<span class="string">&#x27;f&#x27;</span>)&#123; <span class="comment">//first</span></span><br><span class="line">                idx=v[idx].x;</span><br><span class="line">                j+=<span class="number">6</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(name[j]==<span class="string">&#x27;s&#x27;</span>)&#123; <span class="comment">//second</span></span><br><span class="line">                idx=v[idx].y;</span><br><span class="line">                j+=<span class="number">7</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">get_type</span>(idx) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>F.Collinear Exception</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>æœ‰ä¸€ $n\times n$ çš„ç‚¹é˜µåˆ—ï¼Œæ¯ä¸ªç‚¹çš„åæ ‡ä¸º $(i,j)$ ï¼Œ$1\leq i,j\leq n$ ã€‚<br>æŒ‰ç»™å®šåºåˆ—å¯¹ç‚¹è¿›è¡Œæ ‡è®°ï¼Œè¦æ±‚æ ‡è®°åä¸èƒ½å­˜åœ¨ä¸‰ä¸ªè¢«æ ‡è®°ç‚¹å…±çº¿ï¼Œå¦åˆ™æ ‡è®°å¤±è´¥ã€‚<br>æŒ‰ç»™å®šåºåˆ—é¡ºåºè¾“å‡ºæ¯ä¸ªç‚¹æ˜¯å¦æ ‡è®°æˆåŠŸã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>æ¯å½“åŠ å…¥ä¸€ä¸ªæ–°çš„ç‚¹æ—¶ï¼Œå’Œå·²æœ‰çš„ç‚¹è¿çº¿ï¼Œæ ‡è®°çº¿ä¸Šçš„æ‰€æœ‰ç‚¹ã€‚<br>è¢«æ ‡è®°çš„ç‚¹ä¸èƒ½å†è¢«åŠ å…¥ã€‚</p><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">vis</span>(n+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n+<span class="number">1</span>,<span class="number">0</span>));</span><br><span class="line">    vector&lt;pll&gt; points;</span><br><span class="line">    ll ub=n*n,xx,yy,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,ub)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; xx &gt;&gt; yy;</span><br><span class="line">        <span class="keyword">if</span>(vis[xx][yy])&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>[tx,ty]:points)&#123; <span class="comment">//æ ‡è®°çº¿ä¸Šçš„ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(xx==tx)&#123;</span><br><span class="line">                <span class="built_in">FORLL</span>(j,<span class="number">1</span>,n) vis[xx][j]=<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                ll dx=xx-tx,dy=yy-ty;</span><br><span class="line">                ll g=__gcd(dx,dy);</span><br><span class="line">                dx/=g;dy/=g;</span><br><span class="line">                ll ttx=tx,tty=ty;</span><br><span class="line">                <span class="keyword">while</span>(ttx&lt;=n&amp;&amp;ttx&gt;=<span class="number">1</span>&amp;&amp;tty&lt;=n&amp;&amp;tty&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">                    vis[ttx][tty]=<span class="number">1</span>;</span><br><span class="line">                    ttx+=dx; tty+=dy;</span><br><span class="line">                &#125;</span><br><span class="line">                ttx=tx; tty=ty;</span><br><span class="line">                <span class="keyword">while</span>(ttx&lt;=n&amp;&amp;ttx&gt;=<span class="number">1</span>&amp;&amp;tty&lt;=n&amp;&amp;tty&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">                    vis[ttx][tty]=<span class="number">1</span>;</span><br><span class="line">                    ttx-=dx; tty-=dy;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        points.<span class="built_in">emplace_back</span>(xx,yy);</span><br><span class="line">        vis[xx][yy]=<span class="number">1</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    &#125;cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.All-in at the Pre-flop</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ä¸¤åç©å®¶åˆå§‹åˆ†åˆ«æœ‰ $a,b$ çš„ç­¹ç ï¼Œæ¯è½®æ¸¸æˆå„æœ‰ $\frac{1}{2}$ çš„æ¦‚ç‡è·èƒœã€‚<br>å‡è®¾å½“å‰è½®ä¸¤åç©å®¶åˆ†åˆ«æœ‰ $x,y$ çš„ç­¹ç ï¼Œé‚£ä¹ˆè¾“å®¶éœ€è¦ä»˜ç»™èµ¢å®¶ $\min(x,y)$ çš„ç­¹ç ã€‚<br>é—®ä¸¤åç©å®¶è·èƒœçš„æ¦‚ç‡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>æ‰“ä¸ªè¡¨ï¼Œè§‚å¯Ÿåˆ°ç­”æ¡ˆæ˜¯ $\frac{a}{a+b},\frac{b}{a+b}$ ã€‚</p><h2 id="å‚è€ƒä»£ç -4">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a,b;cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    ll c=<span class="built_in">inv</span>(<span class="built_in">add</span>(a,b));</span><br><span class="line">    cout &lt;&lt; <span class="built_in">mul</span>(a,c) &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="built_in">mul</span>(b,c) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡10</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡09</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD09.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD09.html</id>
    <published>2024-09-08T16:00:00.000Z</published>
    <updated>2024-08-24T16:13:57.304Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81604">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥9</a></p><h1>A.Image Scaling</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šç”± <code>.</code> å’Œ <code>x</code> ç»„æˆçš„ $n\times m$ çš„ $n\times m$ çŸ©é˜µï¼Œ$x$ éƒ¨åˆ†æ˜¯ä¸€ä¸ªå­çŸ©é˜µã€‚<br>æå–å¹¶åœ¨é•¿å®½æ¯”ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå°†å­çŸ©é˜µå°½å¯èƒ½ç¼©å°å¹¶è¾“å‡ºã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>æ¨¡æ‹Ÿï¼Œç¼©å°åˆ° $1/gcd$</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    ll fl=<span class="number">0</span>,st=<span class="number">-1</span>;</span><br><span class="line">    ll nn=<span class="number">-1</span>,mm,idx;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; s;</span><br><span class="line">        <span class="keyword">if</span>(fl) <span class="keyword">if</span>(s[idx]!=<span class="string">&#x27;x&#x27;</span>) &#123;nn=i-st;<span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">FORLL</span>(j,<span class="number">0</span>,m<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[j]==<span class="string">&#x27;x&#x27;</span>)&#123;</span><br><span class="line">                    fl=<span class="number">1</span>; st=i; idx=j;</span><br><span class="line">                    ll t=j;</span><br><span class="line">                    <span class="keyword">while</span>(t&lt;m&amp;&amp;s[t]==<span class="string">&#x27;x&#x27;</span>) t++;</span><br><span class="line">                    mm=t-j;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nn==<span class="number">-1</span>) nn=n-st;</span><br><span class="line">    ll g=__gcd(nn,mm);</span><br><span class="line">    nn/=g; mm/=g;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,nn<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">0</span>,mm<span class="number">-1</span>)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">        &#125;cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>K.Kill The Monsters</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>$n$ ä¸ªæ€ªå…½ï¼Œç¬¬ $i$ ä¸ªæ€ªå…½çš„ä½“åŠ›ä¸º $a_i$ ã€‚</p><p>æ¯æ¬¡å¯ä»¥è¿›è¡Œä¸€ç§æ“ä½œï¼š</p><ol><li>æ‰€æœ‰æ€ªå…½ä½“åŠ› $-1$</li><li>é€‰æ‹©ä¸€ä¸ªæ€ªå…½ $i$ ä½¿å¾— $a_i\leftarrow \lfloor \dfrac{a_i}{k} \rfloor$</li></ol><p>é—®æœ€å°‘å¤šå°‘æ¬¡æ“ä½œå¯ä»¥ä½¿æ‰€æœ‰æ€ªå…½çš„ä½“åŠ›éƒ½ä¸º $0$ ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>è´ªå¿ƒçš„ï¼Œå…ˆè¿ç»­å¯¹æœ€å¤§ä½“åŠ›çš„æ€ªå…½è¿›è¡Œç¬¬äºŒç§æ“ä½œï¼Œå†è¿›è¡Œç¬¬ä¸€ç§æ“ä½œã€‚<br>ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤æœ€å¤§ä½“åŠ›ã€‚<br>è®°å½“å‰å·²ç»æ“ä½œäº† $cnt$ æ¬¡ï¼Œç”¨ $a_{max}+cnt$ ç»´æŠ¤æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,k,t;cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    priority_queue&lt;ll&gt; pq;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) &#123;cin &gt;&gt; t;pq.<span class="built_in">push</span>(t);&#125;</span><br><span class="line">    ll cur=<span class="number">0</span>,ans=pq.<span class="built_in">top</span>();</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">1</span>) &#123;cout &lt;&lt; ans &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    <span class="keyword">while</span>(pq.<span class="built_in">top</span>()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        t=pq.<span class="built_in">top</span>();pq.<span class="built_in">pop</span>();</span><br><span class="line">        t/=k; cur++;</span><br><span class="line">        pq.<span class="built_in">push</span>(t);</span><br><span class="line">        <span class="built_in">chmin</span>(ans,pq.<span class="built_in">top</span>()+cur);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans  &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡09</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡08</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD08.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD08.html</id>
    <published>2024-08-07T16:00:00.000Z</published>
    <updated>2024-08-24T15:07:18.555Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81603">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥8</a></p><h1>A.Haitang and Game</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªåŒ…å« $n$ ä¸ªæ•°çš„æ­£æ•´æ•°é›†åˆ $S$ ï¼Œæ¯æ¬¡å¯ä»¥ä»ä¸­é€‰æ‹©ä¸¤ä¸ªæ•° $x,y$ æ»¡è¶³ $x,y\in S,\gcd(x,y)\notin S$ï¼Œå°† $\gcd(x,y)$ åŠ å…¥ $S$ ã€‚<br>æœ€å¤šåŠ å…¥æ•°çš„ä¸ªæ•°æ˜¯å¥‡æ•°è¾“å‡º<code>dXqwq</code>ï¼Œå¦åˆ™è¾“å‡º<code>Haitang</code>ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>è€ƒè™‘æœ€ç»ˆé›†åˆä¸­çš„æ•° $d$ ï¼Œä¸€å®šæ»¡è¶³åŸé›†åˆä¸­ï¼Œå®ƒçš„æ‰€æœ‰å€æ•°çš„ $gcd$ ç­‰äºå®ƒã€‚<br>ä»å°åˆ°å¤§æšä¸¾ $d$ ï¼Œå¦‚æœ $d$ æ»¡è¶³ä¸Šè¿°æ¡ä»¶ä¸”ä¸åœ¨åŸé›†åˆä¸­ï¼Œè®¡æ•°ã€‚</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    unordered_set&lt;ll&gt; s;</span><br><span class="line">    ll mx=<span class="number">-1</span>,t;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        s.<span class="built_in">insert</span>(t);</span><br><span class="line">        <span class="built_in">chmax</span>(mx,t);</span><br><span class="line">    &#125;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,mx)&#123;</span><br><span class="line">        ll fl=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll j=i;j&lt;=mx;j+=i)</span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">count</span>(j)) fl=__gcd(fl,j);</span><br><span class="line">        <span class="keyword">if</span>(fl==i&amp;&amp;!s.<span class="built_in">count</span>(i)) cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt%<span class="number">2</span>) cout &lt;&lt; <span class="string">&quot;dXqwq\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;Haitang\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>J.Haitang and Triangle</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æ„é€ ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ’åˆ—ï¼Œå®ƒæ°æœ‰ $m$ ä¸ªé•¿åº¦ä¸º $3$ çš„å­åŒºé—´æ»¡è¶³å­åŒºé—´çš„ä¸‰ä¸ªæ•°èƒ½æ„æˆéé€€åŒ–ä¸‰è§’å½¢ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ„é€ ä¸€ä¸ªé•¿åº¦ä¸º $n-m$ çš„æ’åˆ—ï¼Œå®ƒä¸å«èƒ½å¤Ÿæ„æˆéé€€åŒ–ä¸‰è§’å½¢çš„é•¿åº¦ä¸º $3$ çš„å­åŒºé—´ã€‚<br>æˆ‘ä½¿ç”¨çš„æ–¹æ³•æ˜¯æŠŠ $1\sim n-m$ ä»å¤§åˆ°å°å‡åˆ†æˆä¸‰ç»„ï¼Œç¬¬1ç»„é™åºï¼Œå…¶ä»–ç»„å‡åºï¼ŒæŒ‰321çš„é¡ºåºæ”¾ç½®ã€‚<br>å‡è®¾ $n-m=7$ ï¼Œåˆ†æˆ $[2,1],[3,4],[5,6,7]$ ï¼Œæ’åˆ—ä¸º $5,3,2,\ 6,4,1,\ 7$ ã€‚</p><p>å‰©ä¸‹ $m$ ä¸ªæ•°é™åºæ”¾åœ¨æ’åˆ—çš„å‰é¢ï¼Œå’Œä¸Šé¢çš„æ’åˆ—åˆå¹¶å½¢æˆ $m$ ä¸ªåˆæ³•åŒºé—´ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    ll t = n-m;</span><br><span class="line">    <span class="keyword">if</span>(t&lt;<span class="number">3</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;-1&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    deque&lt;ll&gt; v[<span class="number">3</span>];</span><br><span class="line">    ll t1=t/<span class="number">3</span>,t2=t%<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,t1) v[<span class="number">0</span>].<span class="built_in">emplace_back</span>(i);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,t1+<span class="number">1</span>,t1*<span class="number">2</span>+(t2&gt;<span class="number">1</span>)) v[<span class="number">1</span>].<span class="built_in">emplace_front</span>(i);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,t1*<span class="number">2</span>+(t2&gt;<span class="number">1</span>)+<span class="number">1</span>,t) v[<span class="number">2</span>].<span class="built_in">emplace_front</span>(i);</span><br><span class="line">    <span class="comment">// FORLL(i,0,2) print_vec(v[i]);</span></span><br><span class="line">    vector&lt;ll&gt; ans;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,t1)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;v[<span class="number">2</span>].<span class="built_in">size</span>()) ans.<span class="built_in">emplace_back</span>(v[<span class="number">2</span>][i]);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;v[<span class="number">1</span>].<span class="built_in">size</span>()) ans.<span class="built_in">emplace_back</span>(v[<span class="number">1</span>][i]);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;v[<span class="number">0</span>].<span class="built_in">size</span>()) ans.<span class="built_in">emplace_back</span>(v[<span class="number">0</span>][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL_rev</span>(i,n,t+<span class="number">1</span>) cout &lt;&lt; i &lt;&lt; <span class="built_in">Presentation</span>(i,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,t<span class="number">-1</span>) cout &lt;&lt; ans[i] &lt;&lt; <span class="built_in">Presentation</span>(i,t<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>K.Haitang and Ava</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>åˆ¤æ–­ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦ä»…ç”±è‹¥å¹²ä¸ª <code>ava</code> å’Œ <code>avava</code> ç»„æˆã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>ä» $i=1$ å¼€å§‹ï¼Œå¯¹äºå½“å‰ä½ç½®å¼€å¤´ï¼Œå…ˆæ£€æŸ¥é•¿åº¦ä¸º $5$ çš„å­ä¸²æ˜¯å¦æ˜¯ <code>avava</code> ï¼Œå†æ£€æŸ¥é•¿åº¦ä¸º $3$ çš„å­ä¸²æ˜¯å¦æ˜¯ <code>ava</code> ï¼Œå¦‚æœæ˜¯ï¼Œå°±è·³è¿‡è¿™ä¸ªå­ä¸²ï¼›å¦åˆ™è¾“å‡º<code>NO</code>ã€‚</p><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">pat1 = <span class="string">&#x27;ava&#x27;</span></span><br><span class="line">pat2 = <span class="string">&#x27;avava&#x27;</span></span><br><span class="line"></span><br><span class="line">T = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(T):</span><br><span class="line">    s = <span class="built_in">input</span>()</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(s):</span><br><span class="line">        <span class="keyword">if</span> i+<span class="number">5</span>&lt;=<span class="built_in">len</span>(s) <span class="keyword">and</span> s[i:i+<span class="number">5</span>] == pat2:</span><br><span class="line">            i += <span class="number">5</span></span><br><span class="line">        <span class="keyword">elif</span> i+<span class="number">3</span>&lt;=<span class="built_in">len</span>(s) <span class="keyword">and</span> s[i:i+<span class="number">3</span>] == pat1:</span><br><span class="line">            i += <span class="number">3</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;No&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Yes&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡08</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡06</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU06.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU06.html</id>
    <published>2024-08-04T16:00:00.000Z</published>
    <updated>2024-08-05T17:09:48.637Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A86%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ6ï¼‰</a></p><h1>(1001)HDU7494 é€ èŠ±ï¼ˆç®€å•ç‰ˆï¼‰</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œé—®èƒ½å¦é€šè¿‡åˆ å»ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾—å‰©ä¸‹çš„èŠ‚ç‚¹ç»„æˆ2ä¸ªè¿é€šå—ï¼Œä¸”æ¯ä¸ªè¿é€šå—éƒ½æ˜¯ä¸€ä¸ªèŠèŠ±å›¾ã€‚</p><p>èŠèŠ±å›¾æ˜¯ä¸€æ£µæ ‘ï¼Œä¸”å­˜åœ¨å”¯ä¸€ä¸­å¿ƒç‚¹ä¸å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚ç‰¹æ®Šçš„ï¼Œåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ ‘ä¹Ÿæ˜¯èŠèŠ±å›¾ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>ä¸€æ£µæ ‘åˆ å»ä¸€ä¸ªç‚¹å¾—åˆ°ä¸¤ä¸ªè¿é€šå—ï¼Œé‚£ä¹ˆåˆ å»çš„ç‚¹çš„åº¦å¿…å®šä¸º2ã€‚</p><p>è¿™ä¸ªåˆ å»çš„ç‚¹ $u$ å’Œå¾—åˆ°çš„ä¸¤ä¸ªèŠèŠ±å›¾çš„ä¸­å¿ƒç‚¹ $v_1,v_2$ æœ‰ä¸‰ç§æƒ…å†µï¼š</p><ol><li>$u$ å’Œ $v_1,v_2$ ç›´æ¥ç›¸è¿</li><li>$u$ å’Œ $v_1$ ç›´æ¥ç›¸è¿ï¼Œå’Œ $v_2$ çš„è·ç¦»ä¸º2</li><li>$u$ å’Œ $v_1,v_2$ çš„è·ç¦»éƒ½ä¸º2</li></ol><p>è®°å½•åº¦å¤§äº1çš„èŠ‚ç‚¹ï¼Œè¿™äº›ç‚¹æ˜¯å…³é”®èŠ‚ç‚¹ï¼Œå¯èƒ½æ˜¯ä¸­å¿ƒç‚¹ï¼Œä¹Ÿå¯èƒ½æ˜¯åˆ å»çš„ç‚¹ã€‚</p><p>åº¦å¤§äº1çš„èŠ‚ç‚¹æ•°æœ€å¤šçš„æƒ…å†µæ˜¯ç¬¬ä¸‰ç§ï¼Œæœ€å¤šæœ‰5ä¸ªåº¦å¤§äº1çš„èŠ‚ç‚¹ï¼Œå½¢å¦‚ï¼š</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  8       9</span><br><span class="line">  |       |</span><br><span class="line">1<span class="string">-2</span><span class="string">-3</span><span class="string">-4</span><span class="string">-5</span><span class="string">-6</span><span class="string">-7</span></span><br><span class="line">  |       |</span><br><span class="line">  10      11</span><br></pre></td></tr></table></figure><p>åˆ å»ç‚¹ $u$ åï¼Œå‰©ä½™åº¦å¤§äº1çš„èŠ‚ç‚¹å¿…å®šæ˜¯ä¸­å¿ƒç‚¹ï¼Œä¸ªæ•°ä¸å¤§äº $2-t$ å³æ»¡è¶³ã€‚<br>å…¶ä¸­ï¼Œ $t$ æ˜¯åˆ ç‚¹åä»…ç”±ä¸å¤šäº$2$ä¸ªç‚¹ç»„æˆçš„è¿é€šå—çš„ä¸ªæ•°ã€‚</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    vector&lt;vector&lt;ll&gt;&gt; <span class="built_in">G</span>(n+<span class="number">1</span>);</span><br><span class="line">    ll u,v;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        G[u].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        G[v].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;ll&gt; crit; <span class="comment">//å…³é”®ç‚¹</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) <span class="keyword">if</span>(G[i].<span class="built_in">size</span>()&gt;<span class="number">1</span>) crit.<span class="built_in">emplace_back</span>(i);</span><br><span class="line">    <span class="keyword">if</span>(crit.<span class="built_in">size</span>()&gt;<span class="number">5</span>) &#123;cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>;<span class="keyword">return</span>;&#125; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> u:crit) <span class="keyword">if</span>(G[u].<span class="built_in">size</span>()==<span class="number">2</span>)&#123; <span class="comment">//æšä¸¾åˆ é™¤çš„ç‚¹</span></span><br><span class="line">        ll cnt2=<span class="number">0</span>,cnt1=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:G[u])&#123; <span class="comment">//ç›¸é‚»çš„2ä¸ªç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(G[v].<span class="built_in">size</span>()==<span class="number">2</span>)&#123; </span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> w:G[v])  <span class="comment">//w==u:è¿™ä¸€ç«¯çš„è¿é€šå—åªæœ‰2ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(w!=u) <span class="keyword">if</span>(G[w].<span class="built_in">size</span>()&gt;<span class="number">1</span>) cnt2++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(G[v].<span class="built_in">size</span>()==<span class="number">1</span>) cnt1++; <span class="comment">//è¿™ä¸€ç«¯çš„è¿é€šå—åªæœ‰1ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        ll t=crit.<span class="built_in">size</span>()<span class="number">-1</span>-cnt2;</span><br><span class="line">        <span class="keyword">if</span>(t&lt;=<span class="number">2</span>-cnt1) &#123; cout &lt;&lt; <span class="string">&quot;Yes\n&quot;</span>; <span class="keyword">return</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1003)HDU7496 é£è½¦ç‹‚é£™</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«ï¼š</p><ol><li><code>L</code> ï¼šè¡¨ç¤ºå·¦è½¬çš„æ–¹å—</li><li><code>R</code> ï¼šè¡¨ç¤ºå³è½¬çš„æ–¹å—</li><li><code>S</code> ï¼šè¡¨ç¤ºç›´è¡Œçš„æ–¹å—</li></ol><p>ä»åŸç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§å­—ç¬¦ä¸²ç»™å®šçš„é¡ºåºï¼Œå…ˆæ”¾ç½®ï¼Œå†æŒ‰ç…§ç»™å®šçš„æ–¹å‘ç§»åŠ¨ã€‚</p><p>åˆæ³•çš„å­—ç¬¦ä¸²æ»¡è¶³ï¼š</p><ol><li>ä¸åœ¨åŒä¸€ä½ç½®æ”¾ç½®ä¸¤ä¸ªæ–¹å—</li><li>æ‰€æœ‰æ–¹å—å½¢æˆä¸€ä¸ªç¯</li></ol><p>é—®ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦åˆæ³•ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ¨¡æ‹Ÿã€‚<br>æ¯èµ°ä¸€æ­¥æ›´æ–°æ²¿é€”æ”¾ç½®äº†æ–¹å—çš„åæ ‡å’Œå½“å‰æ–¹å‘ã€‚<br>ä¸­é€”æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤æ”¾ç½®çš„æ–¹å—ï¼Œæœ€åæ£€æŸ¥æ˜¯å¦å›åˆ°åŸç‚¹ã€æ–¹å‘æ˜¯å¦å›æ­£ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//        0 1 2 3</span></span><br><span class="line"><span class="type">int</span> dx[]=&#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pll cur=&#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> dir=<span class="number">0</span>; <span class="comment">//0:up 1:left 2:down 3:right</span></span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    string s;cin &gt;&gt; s;</span><br><span class="line">    map&lt;pll,<span class="type">int</span>&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(mp.<span class="built_in">count</span>(cur))&#123;  cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>; <span class="keyword">return</span>; &#125;</span><br><span class="line">        mp[cur]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;L&#x27;</span>) dir=(dir+<span class="number">1</span>)%<span class="number">4</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;R&#x27;</span>) dir=(dir+<span class="number">3</span>)%<span class="number">4</span>;</span><br><span class="line">        cur.first+=dx[dir];</span><br><span class="line">        cur.second+=dy[dir];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cur.first==<span class="number">0</span>&amp;&amp;cur.second==<span class="number">0</span>&amp;&amp;dir==<span class="number">0</span>) cout &lt;&lt; <span class="string">&quot;1\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;0\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1004)HDU7497 ä¸é†’äººå®¤</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®š $n$ ä¸ªä¸Šè¯¾æ—¶é—´æ®µï¼Œ $m$ ä¸ªç¡è§‰æ—¶é—´æ®µã€‚</p><p>åˆå§‹çŠ¶æ€æ˜¯ä¸æ¸…é†’ã€‚<br>æ¯ä¸ªç¡è§‰æ—¶é—´æ®µ $[s,t]$ èƒ½ä½¿æ¥ä¸‹æ¥ $2(t-s)$ çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ $[t,t+2(t-s)]$ æ—¶é—´æ®µå†…ä¿æŒæ¸…é†’ã€‚<br>ç¡è§‰æä¾›çš„æ¸…é†’æ—¶é—´æ®µä¸ä¼šå åŠ ï¼Œä»¥æ­¤å‰æœ€åä¸€ä¸ªç¡è§‰æ—¶é—´æ®µä¸ºå‡†ã€‚</p><p>é—®ç»™å®šçš„æ—¶é—´æ®µèƒ½å¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ol><li>ä¸Šè¯¾æ—¶é—´ä¿æŒæ¸…é†’</li><li>ä¸Šè¯¾æ—¶é—´ä¸èƒ½ç¡è§‰</li></ol><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>å°†æ‰€æœ‰æ—¶é—´æ®µæ’åºï¼Œä»å·¦å¾€å³éå†ï¼š</p><ol><li>å½“å‰æ˜¯ä¸Šè¯¾æ—¶é—´æ®µï¼Œæ£€æŸ¥ï¼š<ol><li>ä¸Šè¯¾å¼€å§‹æ—¶é—´æ˜¯å¦æ™šäºæœ€åä¸€ä¸ªç¡è§‰æ—¶é—´æ®µçš„ç»“æŸæ—¶é—´</li><li>ä¸Šè¯¾ç»“æŸæ—¶é—´æ˜¯å¦æ—©äºæœ€åä¸€æ¬¡ç¡è§‰æä¾›çš„æ¸…é†’æ—¶é—´æ®µçš„ç»“æŸæ—¶é—´</li></ol></li><li>å½“å‰æ˜¯ç¡è§‰æ—¶é—´æ®µï¼Œæ£€æŸ¥ç¡è§‰æ—¶é—´æ˜¯å¦æ™šäºä¸Šä¸€èŠ‚è¯¾çš„ç»“æŸæ—¶é—´</li></ol><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    vector&lt;pair&lt;pll,<span class="type">int</span>&gt;&gt; <span class="built_in">v</span>(m+n);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; v[i].first.first &gt;&gt; v[i].first.second;</span><br><span class="line">        v[i].second = <span class="number">0</span>; <span class="comment">//ä¸Šè¯¾</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,n,n+m<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; v[i].first.first &gt;&gt; v[i].first.second;</span><br><span class="line">        v[i].second = <span class="number">1</span>; <span class="comment">//ç¡è§‰</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">SORT</span>(v);</span><br><span class="line">    ll b,e,s,t; <span class="comment">//ä¸Šæ¬¡ä¸Šè¯¾æ—¶é—´[b,e]ï¼Œä¸Šæ¬¡ç¡è§‰æ—¶é—´[s,t]</span></span><br><span class="line">    b=e=s=t=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [tp,op]:v)&#123;</span><br><span class="line">        <span class="keyword">auto</span> [x,y] = tp;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">0</span>)&#123; <span class="comment">//ä¸Šè¯¾</span></span><br><span class="line">            <span class="keyword">if</span>(x&lt;t)&#123; cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>;<span class="keyword">return</span>;&#125; <span class="comment">//ä¸Šè¯¾å¼€å§‹è¿˜åœ¨ç¡è§‰</span></span><br><span class="line">            <span class="keyword">if</span>(t+<span class="number">2</span>*(t-s)&lt;y) &#123;cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>;<span class="keyword">return</span>;&#125; <span class="comment">//ä¸Šæ¬¡æ²¡ç¡å¤Ÿæ”¯æ’‘ä¸åˆ°ä¸‹è¯¾</span></span><br><span class="line">            b=x;e=y;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">            <span class="keyword">if</span>(x&lt;e)&#123; cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>;<span class="keyword">return</span>;&#125; <span class="comment">//è¿˜æ²¡ä¸‹è¯¾å°±ç¡è§‰</span></span><br><span class="line">            s=x;t=y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Yes\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1005)HDU7498 äº¤é€šç®¡æ§</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>æœ‰ $k$ ç›çº¢ç»¿ç¯ï¼Œæ¯ç›ç¯æœ‰ä¸‰ç§çŠ¶æ€ï¼šç»¿è‰²<code>A</code>ã€é»„è‰²<code>B</code>ã€çº¢è‰²<code>C</code>ã€‚</p><p>ä¸€ä¸ªæ“ä½œç”¨ä¸€ä¸ªé•¿åº¦ä¸º $k$ çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¸€ä¸ªå­—ç¬¦å¯¹åº”ä¸€ç›ç¯ã€‚<br>å­—ç¬¦ä¸²ä¸­åŒ…å«ï¼š</p><ol><li><code>+</code>ï¼šçº¢å˜ç»¿ã€ç»¿å˜é»„ã€é»„å˜çº¢</li><li><code>-</code>ï¼šç»¿å˜çº¢ã€é»„å˜ç»¿ã€çº¢å˜é»„</li><li><code>0</code>ï¼šä¸å˜</li></ol><p>äº¤è­¦æœ‰ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ“ä½œåºåˆ—ï¼Œä»–å¯ä»¥æŒ‰é¡ºåºå¯¹æ¯ä¸ªæ“ä½œé€‰æ‹©æ‰§è¡Œæˆ–ä¸æ‰§è¡Œã€‚</p><p>é—®æœ€åèƒ½è¾¾åˆ°å“ªäº›çŠ¶æ€ï¼Œä»¥åŠæ¯ç§çŠ¶æ€å¯¹åº”çš„ æ“ä½œåºåˆ—ç§æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>çŠ¶æ€å‹ç¼©DPã€‚</p><p>ç”¨ä¸€ä¸ª $k$ ä½3è¿›åˆ¶æ•°è¡¨ç¤º $k$ ç›ç¯çš„çŠ¶æ€ï¼Œæ¯ä¸€ä½è¡¨ç¤ºä¸€ç›ç¯çš„çŠ¶æ€ï¼š0ç»¿ã€1é»„ã€2çº¢ã€‚<br>è®°ï¼š</p><ul><li>$dp[i][x]$ è¡¨ç¤ºå‰ $i$ ä¸ªæ“ä½œï¼ŒçŠ¶æ€ä¸º $x$ çš„æ–¹æ¡ˆæ•°ã€‚</li><li>$op(x,i)$ è¡¨ç¤ºçŠ¶æ€ $x$ ç»è¿‡ç¬¬ $i$ ä¸ªæ“ä½œåçš„çŠ¶æ€ã€‚</li></ul><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š$dp[i][x]=dp[i-1][x]+\sum\limits_{j}^{st\in stat[i-1],op(st,i)=j} dp[i-1][st]$<br>å…¶ä¸­ï¼Œ$stat[i-1]$ è¡¨ç¤ºç¬¬ $i-1$ ä¸ªæ“ä½œåçš„æ‰€æœ‰çŠ¶æ€ã€‚</p><p>åˆ©ç”¨æ»šåŠ¨æ•°ç»„å¯ä»¥å®ç°ç©ºé—´ä¼˜åŒ–ã€‚</p><h2 id="å‚è€ƒä»£ç -4">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;ll&gt; pow3;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    pow3.<span class="built_in">emplace_back</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,<span class="number">20</span>) pow3.<span class="built_in">emplace_back</span>(pow3.<span class="built_in">back</span>()*<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line">ll n,k;</span><br><span class="line"><span class="comment">//åœ¨xçš„3è¿›åˆ¶ï¼Œç¬¬idxä½ï¼Œ+då†å¯¹3å–æ¨¡</span></span><br><span class="line"><span class="function">ll <span class="title">opadd</span><span class="params">(ll x,ll idx,ll d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(d==<span class="number">0</span>) <span class="keyword">return</span> x;</span><br><span class="line">    ll t = x/pow3[idx]%<span class="number">3</span>;</span><br><span class="line">    t = (t+d+<span class="number">3</span>)%<span class="number">3</span>-t;</span><br><span class="line">    <span class="keyword">return</span> x + t*pow3[idx];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//0A1B2C</span></span><br><span class="line"><span class="function">string <span class="title">trans</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,k<span class="number">-1</span>)&#123;</span><br><span class="line">        s += <span class="built_in">char</span>(<span class="string">&#x27;A&#x27;</span>+x%<span class="number">3</span>);</span><br><span class="line">        x /= <span class="number">3</span>;</span><br><span class="line">    &#125; <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    cin &gt;&gt; MODULE::MOD;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">v</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; s:v) cin &gt;&gt; s;</span><br><span class="line">    map&lt;ll,ll&gt; dp[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> fl=<span class="number">0</span>;</span><br><span class="line">    dp[fl].<span class="built_in">insert</span>(&#123;<span class="number">0</span>,<span class="number">1</span>&#125;); fl^=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; s:v)&#123;</span><br><span class="line">        dp[fl]=dp[fl^<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> [v,cnt]:dp[fl^<span class="number">1</span>])&#123;</span><br><span class="line">            ll t=v;</span><br><span class="line">            <span class="built_in">FORLL</span>(i,<span class="number">0</span>,k<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i]==<span class="string">&#x27;+&#x27;</span>) t=<span class="built_in">opadd</span>(t,i,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(s[i]==<span class="string">&#x27;-&#x27;</span>) t=<span class="built_in">opadd</span>(t,i,<span class="number">-1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">addto</span>(dp[fl][t],cnt);</span><br><span class="line">        &#125;</span><br><span class="line">        fl^=<span class="number">1</span>;</span><br><span class="line">    &#125;fl^=<span class="number">1</span>;</span><br><span class="line">    map&lt;string,ll&gt; ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [v,cnt]:dp[fl]) ans.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="built_in">trans</span>(v),(ll)cnt));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [s,cnt]:ans) cout &lt;&lt; s &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡06</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡05</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU05.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU05.html</id>
    <published>2024-08-01T16:00:00.000Z</published>
    <updated>2024-08-05T11:36:11.110Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A85%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ5ï¼‰</a></p><h1>(1002)HDU7482 Array-Gift</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ­£æ•´æ•°æ•°ç»„ $a$ ï¼Œæä¾›ä»¥ä¸‹2ç§æ“ä½œï¼š</p><ol><li>é€‰æ‹©ä¸¤ä¸ªä¸åŒçš„ä¸‹æ ‡ $i,j$ ï¼Œ$a_i\leftarrow a_i\ mod\ a_j$</li><li>é€‰æ‹©ä¸€ä¸ªä¸‹æ ‡ $i$ å’Œä¸€ä¸ªä»»æ„æ­£æ•´æ•° $x$ ï¼Œ$a_i\leftarrow a_i+x$</li></ol><p>æ±‚ä½¿å¾—æ•°ç»„ä»…æœ‰1ä¸ªé0å…ƒç´ çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>addï¼šåšä¹‹å‰å…ˆå¯¹æ•°ç»„å»é‡ï¼Œå› ä¸ºé‡å¤çš„æ•°å¯ä»¥åœ¨å¼€å§‹å°±é€šè¿‡æ“ä½œ1å˜ä¸º0ã€‚</p><p>è€ƒè™‘æœ€åæƒ…å†µçš„æ“ä½œæ¬¡æ•°ï¼š<br>é€‰å®šä¸¤ä¸ªä¸åŒçš„ä¸‹æ ‡ $i,j$ ï¼Œä¸å¦¨è®¾ $a_i&lt;=a_j$ ã€‚ï¼ˆ1æ¬¡ï¼‰<br>åšæ“ä½œ2ä½¿å¾— $a_i=a_j+1$ ï¼Œå†åšæ“ä½œ1ä½¿å¾— $a_i=1$ ã€‚ï¼ˆ1æ¬¡ï¼‰<br>æœ€åå¯¹æ¯ä¸ª $k\neq i$ åšæ“ä½œ1ï¼š$a_k\leftarrow a_k\ mod\ a_i=0$ ã€‚ï¼ˆ$n-1$æ¬¡ï¼‰<br>æœ€åæƒ…å†µçš„æ“ä½œæ¬¡æ•°ä¸º $n+1$ ã€‚</p><p>æœ€å¥½çš„æƒ…å†µï¼šå­˜åœ¨ä¸€ä¸ªä¸‹æ ‡ $i$ ä½¿å¾— $a_i$ èƒ½å¤Ÿæ•´é™¤æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ã€‚<br>æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ $a_i$ ä¸€å®šæ˜¯æ•°ç»„ä¸­çš„æœ€å°å€¼ã€‚<br>è¿™ç§æƒ…å†µåªéœ€å¯¹æ¯ä¸ª $k\neq i$ åšæ“ä½œ1ï¼š$a_k\leftarrow a_k\ mod\ a_i=0$ ï¼Œæ“ä½œæ¬¡æ•°ä¸º $n-1$ ã€‚</p><p>ç”±äºæœ€åæƒ…å†µéš¾ä»¥ç¡®å®šï¼Œè€ƒè™‘æ“ä½œæ¬¡æ•°ä¸º $n$ çš„æƒ…å†µï¼š</p><ol><li>æ•°ç»„ $a$ ä¸­çš„æœ€å°å€¼ç»è¿‡æ“ä½œ2 ï¼Œ$\min(a)\leftarrow\min(a)+x$ ï¼Œèƒ½å¤Ÿæ•´é™¤æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ã€‚</li><li>æŸä¸ªå…ƒç´ ç»è¿‡æ“ä½œ1ï¼Œèƒ½å¤Ÿæ•´é™¤æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ã€‚</li></ol><p>å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œç»´æŠ¤gcdå‰ç¼€/åç¼€ï¼ˆä¼¼ä¹ä¸ç»´æŠ¤ä¹Ÿèƒ½è¿‡ï¼Ÿï¼‰ã€‚<br>æšä¸¾è¢«ä¿®æ”¹çš„æ•° $a_i$ å’Œæ¨¡æ•° $a_j$ ï¼Œè‹¥ $a_i\ mod\ a_j=\gcd\limits_k^{k\neq i}a_k$ ï¼Œåˆ™æœ€å°‘æ“ä½œæ¬¡æ•°ä¸º $n$ ã€‚</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">create_vec</span>(v,n);</span><br><span class="line">    <span class="built_in">SORT</span>(v);</span><br><span class="line">    vector&lt;ll&gt; tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x:v)&#123;</span><br><span class="line">        <span class="type">int</span> fl=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> m:tmp) <span class="keyword">if</span>(x%m==<span class="number">0</span>) &#123;fl=<span class="number">0</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(fl) tmp.<span class="built_in">emplace_back</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    ll on=n; v=tmp; n=v.<span class="built_in">size</span>(); <span class="comment">//onæ˜¯åŸæ•°ç»„å¤§å°</span></span><br><span class="line">    v.<span class="built_in">insert</span>(v.<span class="built_in">begin</span>(),<span class="number">0</span>); v.<span class="built_in">insert</span>(v.<span class="built_in">end</span>(),<span class="number">0</span>); <span class="comment">//èµ·å§‹ä¸‹æ ‡æ”¹ä¸º1</span></span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) &#123;cout &lt;&lt; on<span class="number">-1</span> &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">preg</span><span class="params">(n+<span class="number">2</span>,<span class="number">0</span>)</span>,<span class="title">sufg</span><span class="params">(n+<span class="number">2</span>,<span class="number">0</span>)</span></span>; </span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) preg[i]=__gcd(preg[i<span class="number">-1</span>],v[i]);</span><br><span class="line">    <span class="built_in">FORLL_rev</span>(i,n,<span class="number">1</span>) sufg[i]=__gcd(sufg[i+<span class="number">1</span>],v[i]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(sufg[<span class="number">2</span>]&gt;v[<span class="number">1</span>]&amp;&amp;sufg[<span class="number">2</span>]&lt;=v[<span class="number">2</span>]) &#123;cout &lt;&lt; on &lt;&lt; endl;<span class="keyword">return</span>;&#125; <span class="comment">//å‰©ä¸‹çš„æ•°æ¨¡ï¼ˆv1+xï¼‰ä¸º0</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123; <span class="comment">//è¢«ä¿®æ”¹çš„æ•°</span></span><br><span class="line">        ll g=__gcd(preg[i<span class="number">-1</span>],sufg[i+<span class="number">1</span>]);</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">1</span>,i<span class="number">-1</span>)&#123;<span class="comment">//æ¨¡æ•°</span></span><br><span class="line">            ll t=v[i]%v[j];</span><br><span class="line">            <span class="keyword">if</span>(t==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(g%t==<span class="number">0</span>) &#123;cout &lt;&lt; on &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; on+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1006)HDU7486 çŒ«ç½å¤´æ¸¸æˆ</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æœ‰ä¸‰å †çŒ«ç½å¤´ï¼Œæ¯å †çŒ«ç½å¤´çš„æ•°é‡åˆ†åˆ«ä¸º $a,b,c$ ã€‚<br>ä¸¤åªçŒ«çŒ«è¿›è¡Œåšå¼ˆï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€å †çŒ«ç½å¤´å…¨éƒ¨åƒæ‰ï¼Œç„¶åå†ä»å‰©ä¸‹çš„ä¸¤å †ä¸­é€‰æ‹©ä¸€å †çŒ«ç½å¤´åˆ†æˆä¸¤ä»½ï¼ˆæ¯ä»½è‡³å°‘ä¸€ç½ï¼‰ã€‚<br>ä¸èƒ½æ“ä½œçš„çŒ«çŒ«è¾“æ‰æ¸¸æˆã€‚</p><p>é—®å…ˆæ‰‹æ˜¯å¦æœ‰å¿…èƒœç­–ç•¥ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æœ€ç»ˆå¿…è´¥æ€æ˜¯ $a=b=c=1$ ã€‚</p><p>å½“å¼€å±€æœ‰3ä¸ªå¥‡æ•°æ—¶ï¼Œä¸è®ºæ€ä¹ˆæ“ä½œï¼Œç»“æœéƒ½æ˜¯2å¥‡æ•°1å¶æ•°ï¼›<br>å½“å¼€å±€æœ‰1ä¸ªæˆ–2ä¸ªå¶æ•°æ—¶ï¼Œå¯ä»¥æ§åˆ¶ç»“æœä¸º3ä¸ªå¥‡æ•°ã€‚<br>ä¸‰ä¸ªå¥‡æ•°çš„å°½å¤´å°±æ˜¯3ä¸ª1å¿…è´¥ï¼Œå› æ­¤å¼€å±€3å¥‡æ•°å¿…è´¥ï¼Œå¼€å±€1æˆ–2å¶æ•°å¿…èƒœã€‚</p><p>å¼€å±€å…¨å¶æ•°çš„æƒ…å†µï¼Œå¯ä»¥ä»lowbitçš„è§’åº¦è€ƒè™‘ã€‚<br>å½“å¼€å±€ä¸‰ä¸ªæ•°lowbitä½äºåŒä¸€ä½æ—¶ï¼Œä¸è®ºæ€ä¹ˆæ“ä½œéƒ½ä¸èƒ½ä½¿lowbitç›¸ç­‰ã€‚<br>å½“å¼€å±€ä¸‰ä¸ªæ•°lowbitä½äºä¸åŒä½æ—¶ï¼Œå¯ä»¥é€šè¿‡æ“ä½œæ§åˆ¶lowbitç›¸ç­‰ï¼Œæ•´ä¸ªè¿‡ç¨‹lowbitå‡å°ã€‚<br>lowbitç›¸ç­‰çš„å°½å¤´æ˜¯ä¸‰ä¸ªæ•°çš„lowbitéƒ½ç­‰äº$1$ä¹Ÿå°±æ˜¯ä¸‰å¥‡æ•°çš„å¿…è´¥æ€ã€‚</p><p>å› æ­¤ï¼Œå¼€å±€ä¸‰ä¸ªæ•°lowbitç›¸ç­‰å¿…è´¥ã€‚<br>è§‚å¯Ÿåˆ°ä¸‰ä¸ªæ•°ä¸å…¨æ˜¯å¶æ•°çš„æƒ…å†µä¹Ÿå¯ä»¥å½’å¹¶åˆ°è¿™ä¸ªç»“è®ºä¸­ï¼Œ2è¡Œç§’äº†ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a,b,c; cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">lowbit</span>(a)==<span class="built_in">lowbit</span>(b)&amp;&amp;<span class="built_in">lowbit</span>(b)==<span class="built_in">lowbit</span>(c))  NO; <span class="keyword">else</span> YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1011)HDU7491 å¼€å…³ç¯</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>æœ‰ $n$ ç›ç¯æ’æˆä¸€æ’ï¼Œç¼–å·ä¸º $1\sim n$ ï¼Œåˆå§‹çŠ¶æ€ä¸ºå…¨ç­ã€‚<br>æ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€ç›ç¯ï¼Œåè½¬è¿™ç›ç¯å’Œä¸ä¹‹ç›¸é‚»çš„ç¯çš„çŠ¶æ€ï¼ˆå¼€å˜å…³ï¼Œå…³å˜å¼€ï¼‰ã€‚<br>æ±‚ä»»æ„æ“ä½œåï¼Œè¿™æ’ç¯å¯ä»¥åˆ°è¾¾å¤šå°‘ç§ä¸åŒçš„çŠ¶æ€ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>è§‚å¯Ÿæ ·ä¾‹å‘ç°ç­”æ¡ˆæ»¡è¶³ $2^n$ ã€‚<br>æ‰‹ç©å‘ç°åªæœ‰ $n\equiv2(mod\ 3)$ æ—¶è¾¾ä¸åˆ°å…¨äº®çŠ¶æ€ï¼Œæ˜¯ $2^{n-1}$ ã€‚</p><p>å¦‚æœå‘ç°åŠ›ä¸å¤Ÿï¼Œè¿˜å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ–¹æ³•ï¼š<br>å¯¹ä½ç½®1,2åˆ†åˆ«åšä¸€æ¬¡æ“ä½œï¼Œå¯ä»¥å•ç‹¬åè½¬3ï¼›å†å¯¹4,5åˆ†åˆ«åšä¸€æ¬¡æ“ä½œï¼Œå¯ä»¥å•ç‹¬åè½¬6ã€‚<br>ä»¥æ­¤ç±»æ¨ï¼Œæ­£ç€åšå¯ä»¥å•ç‹¬åè½¬æ‰€æœ‰ $i\equiv0(mod\ 3)$ï¼Œåç€åšå¯ä»¥å•ç‹¬åè½¬æ‰€æœ‰ $i\equiv n-2(mod\ 3)$ ã€‚<br>å¦‚æœå¯ä»¥å•ç‹¬ä»»æ„åè½¬è¿ç»­2ä¸ªç¯ï¼Œåˆ™ä¸å®ƒä»¬ç›¸é‚»çš„ç¯ä¹Ÿå¯ä»¥å•ç‹¬ä»»æ„åè½¬ï¼Œä»¥è¾¾åˆ°æ‰€æœ‰ $2^n$ ç§çŠ¶æ€ã€‚</p><p>å½“ä¸”ä»…å½“ $n\equiv2(mod\ 3)$ æ—¶ï¼Œæ­£ç€åšå’Œåç€åšåè½¬çš„éƒ½æ˜¯åŒä¸€æ‰¹ç¯ï¼Œæ— æ³•é€šè¿‡ä»¥ä¸Šæ“ä½œä»»æ„åè½¬æ‰€æœ‰çš„ç¯ã€‚<br>ç”±äºæ— æ³•åˆ°è¾¾å…¨äº®çŠ¶æ€ï¼Œç­”æ¡ˆå°‘ä¸€åŠï¼Œä¸º $2^{n-1}$ ã€‚</p><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">2</span>) cout &lt;&lt; <span class="built_in">qcpow</span>(<span class="number">2</span>,n<span class="number">-1</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="built_in">qcpow</span>(<span class="number">2</span>,n) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1013)HDU7493 é£è¡Œæ£‹</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>$0\sim n$ å·æ ¼å­æ’æˆä¸€æ’ï¼Œæ£‹å­åˆå§‹åœ¨ $0$ å·æ ¼ï¼Œç›®æ ‡æ˜¯ç²¾ç¡®åˆ°è¾¾ç¬¬ $n$ æ ¼ã€‚<br>æ¯æ¬¡éšæœºä» $1\sim n$ ä¸­å‡åŒ€éšæœºä¸€ä¸ªæ­£æ•´æ•° $x$ ï¼Œç„¶åå‘å‰ç§»åŠ¨ $x$ æ­¥ï¼Œè‹¥ç§»åŠ¨åˆ°ç¬¬ $n$ æ ¼è¿˜æœ‰å‰©ä½™æ­¥æ•°ï¼Œåˆ™ä¼šå¾€å›èµ°ã€‚<br>å¦‚æœéšæœºåˆ° $n$ ä¸”æœ€ç»ˆæ²¡æœ‰ç²¾ç¡®åˆ°è¾¾ç¬¬ $n$ æ ¼ï¼Œåˆ™å¯ä»¥å†ä» $1\sim n-1$ ä¸­å‡åŒ€éšæœºä¸€ä¸ªæ­£æ•´æ•°å¹¶è¡ŒåŠ¨ã€‚</p><p>æ±‚ç²¾ç¡®åˆ°è¾¾ç¬¬ $n$ æ ¼çš„æœŸæœ›æ­¥æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>ä» $0$ å·æ ¼å­ä¸€æ¬¡åˆ°è¾¾ç¬¬ $n$ æ ¼çš„æ¦‚ç‡æ˜¯ $\dfrac{1}{n}$ ã€‚<br>ä» $1\sim n-1$ å·æ ¼å­ä¸€æ¬¡åˆ°è¾¾ç¬¬ $n$ æ ¼çš„æ¦‚ç‡éƒ½æ˜¯ $\dfrac{1}{n}(1+\dfrac{1}{n-1})=\dfrac{1}{n-1}$ ï¼ŒæœŸæœ›ä¸º $n-1$<br>å¦‚æœæ²¡æœ‰åˆ°è¾¾ç»ˆç‚¹ï¼Œæ£‹å­åªä¼šè½åœ¨ $1\sim n-1$ å·æ ¼å­ä¸Šã€‚</p><p>å› æ­¤ç­”æ¡ˆä¸º $\dfrac{1}{n}+\dfrac{n-1}{n}\times ((n-1)+1)=n+1+\dfrac{1}{n}$ ã€‚<br>ï¼ˆå¼å­ä¸­ $(n-1)+1$ æ˜¯åŠ ä¸Šäº†ä»0å¼€å§‹çš„ç¬¬ä¸€æ­¥ï¼‰</p><h2 id="å‚è€ƒä»£ç -4">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sub</span>(<span class="built_in">add</span>(<span class="built_in">inv</span>(n),n),<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡05</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡06</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD06.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD06.html</id>
    <published>2024-07-31T16:00:00.000Z</published>
    <updated>2024-08-03T15:09:15.812Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81601">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥6</a></p><h1>A.Cake</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€æ£µ $n$ ä¸ªèŠ‚ç‚¹ï¼Œä»¥ $1$ ä¸ºæ ¹çš„æ ‘ï¼Œæ¯æ¡è¾¹æœ‰ä¸€ä¸ªæƒå€¼ 0 æˆ– 1ã€‚<br>æ£‹å­åˆå§‹åœ¨èŠ‚ç‚¹ $1$ ï¼ŒAliceå…ˆæ‰‹ï¼ŒBobåæ‰‹ã€‚<br>æ¯å›åˆï¼Œç©å®¶å¯ä»¥å°†æ£‹å­ç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚<br>ç›´åˆ°æ£‹å­è¾¾åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ¸¸æˆç»“æŸã€‚</p><p>æ£‹å­ç»è¿‡çš„è·¯å¾„çš„æƒå€¼æŒ‰é¡ºåºæ„æˆä¸€ä¸ª01åºåˆ—ï¼Œè®°å®ƒçš„é•¿åº¦ä¸º $m$ ã€‚<br>æ¥ä¸‹æ¥ï¼ŒBobå¯ä»¥æŠŠ $1$ å—è›‹ç³•ä»»æ„åˆ†æˆ $m$ ä»½ï¼ˆæŸä»½è›‹ç³•å¯ä»¥ä¸º0//ç©ºç›˜å­ï¼‰ã€‚<br>ç„¶åæ ¹æ®01åºåˆ—å†³å®šå–è›‹ç³•çš„æ¬¡åºï¼š0ä»£è¡¨Bobå–ï¼Œ1ä»£è¡¨Aliceå–ã€‚</p><p>é—®ä¸¤äººéƒ½ä»¥æœ€ä¼˜ç­–ç•¥è¡ŒåŠ¨å’Œåˆ‡è›‹ç³•ï¼Œé—®Aliceæœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘è›‹ç³•ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>å…ˆè€ƒè™‘åœ¨è·¯å¾„ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒBobä¼šæ€ä¹ˆåˆ†è›‹ç³•ï¼š<br>Bobä¼šæ‰¾åˆ°ä¸€ä¸ªå‰ç¼€preï¼Œè¿™ä¸ªå‰ç¼€çš„â€œ0å æ¯”â€æ˜¯æ‰€æœ‰å‰ç¼€ä¸­æœ€å¤§çš„ã€‚<br>preçš„é•¿åº¦è®°ä¸º $t$ï¼Œ0å æ¯”è®°ä¸º $p$ã€‚<br>Bobä¼šå°†è›‹ç³•å¹³å‡åˆ†ä¸º $t$ ä»½ï¼Œå‰©ä¸‹ $m-t$ ä»½ä¸ºç©ºã€‚<br>è¿™æ ·ï¼ŒBobå¯ä»¥ä¿è¯ä»–æ‹¿åˆ°æœ€å¤šçš„ï¼Œå¤§å°ä¸º $p$ çš„è›‹ç³•ã€‚</p><p>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ $i$ ï¼Œå…ˆDFSä¸€æ¬¡ï¼Œå¤„ç†å‡ºä» $1$ åˆ° $i$ è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰å‰ç¼€çš„æœ€å¤§0å æ¯”ã€‚<br>é‚£ä¹ˆåœ¨æ¯ä¸ªç»“ç‚¹å¤„ã€‚</p><p>å†DFSä¸€æ¬¡ï¼Œå‡è®¾æ ¹èŠ‚ç‚¹ $1$ çš„æ·±åº¦æ˜¯1ï¼Œé‚£ä¹ˆï¼š<br>æ·±åº¦ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹æ˜¯Aliceçš„å›åˆï¼ŒAliceä¼šå¸Œæœ›å‰ç¼€çš„â€œ0çš„å æ¯”â€æœ€å°åŒ–ï¼›<br>æ·±åº¦ä¸ºå¶æ•°çš„èŠ‚ç‚¹æ˜¯Bobçš„å›åˆï¼ŒBobä¼šå¸Œæœ›å‰ç¼€çš„â€œ0çš„å æ¯”â€æœ€å¤§åŒ–ã€‚</p><p>ä»å¶å­åˆ°æ ¹æ›´æ–°ï¼Œå¾—åˆ°æœ€ç»ˆ0å æ¯” $p$ ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åˆ†è›‹ç³•ï¼Œæœ€ç»ˆç­”æ¡ˆä¸º $1-p$ ã€‚</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">ll n;</span><br><span class="line">vector&lt;vector&lt;pll&gt;&gt; G;</span><br><span class="line">vector&lt;ld&gt; pref; <span class="comment">//å‰ç¼€ä¸­0çš„æœ€å¤§å æ¯”</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(ll u=<span class="number">1</span>,ll fa=<span class="number">0</span>,ll cnt0=<span class="number">0</span>,ll cnt1=<span class="number">0</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u!=<span class="number">1</span>) <span class="built_in">chmax</span>(pref[u],(ld)cnt0/(cnt0+cnt1));<span class="comment">//ç”¨å½“å‰èŠ‚ç‚¹çš„0å æ¯”æ›´æ–°å‰ç¼€</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:G[u])</span><br><span class="line">        <span class="keyword">if</span>(v!=fa)&#123;</span><br><span class="line">            pref[v]=pref[u];<span class="comment">//ç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„pref</span></span><br><span class="line">            <span class="built_in">dfs</span>(v,u,cnt0+(w==<span class="number">0</span>),cnt1+(w==<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;ld&gt; dp; <span class="comment">//èŠ‚ç‚¹å¯¹æ‰§æ£‹æ‰‹çš„æœ€ä¼˜è§£</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs_dp</span><span class="params">(ll u=<span class="number">1</span>,ll fa=<span class="number">0</span>, ll dep=<span class="number">1</span>)</span></span>&#123;</span><br><span class="line">    dp[u]=dep%<span class="number">2</span>; </span><br><span class="line">    <span class="keyword">if</span>(u!=<span class="number">1</span>&amp;&amp;G[u].<span class="built_in">size</span>()==<span class="number">1</span>) dp[u]=pref[u];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:G[u]) <span class="keyword">if</span>(v!=fa)&#123;</span><br><span class="line">        <span class="built_in">dfs_dp</span>(v,u,dep+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(dep%<span class="number">2</span>) <span class="built_in">chmin</span>(dp[u],dp[v]); <span class="comment">//å…ˆæ‰‹æ±‚prefå°</span></span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">chmax</span>(dp[u],dp[v]); <span class="comment">//åæ‰‹æ±‚prefå¤§</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    G.<span class="built_in">clear</span>(); G.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">    pref.<span class="built_in">clear</span>(); pref.<span class="built_in">resize</span>(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    dp.<span class="built_in">clear</span>(); dp.<span class="built_in">resize</span>(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    ll u,v,w;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        G[u].<span class="built_in">emplace_back</span>(v,w);</span><br><span class="line">        G[v].<span class="built_in">emplace_back</span>(u,w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(); <span class="built_in">dfs_dp</span>();</span><br><span class="line">    <span class="built_in">print_float</span>(<span class="number">1.</span>-dp[<span class="number">1</span>],<span class="number">12</span>);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>B.Cake2</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šæ­£æ•´æ•° $n,k$ ï¼Œè›‹ç³•çš„å½¢çŠ¶æ˜¯æ­£ $n$ è¾¹å½¢ï¼Œé¡¶ç‚¹ç¼–å·ä¸º $0$ åˆ° $n-1$ ã€‚<br>å¯¹äºæ¯ä¸ªé¡¶ç‚¹ $i$ ï¼Œæ²¿ç€ç”± é¡¶ç‚¹ $i$ å’Œ $(i+k)mod\ n$ ç¡®å®šçš„ç›´çº¿åˆ‡ä¸€åˆ€ã€‚<br>æ±‚æœ€åè›‹ç³•çš„å—æ•°ã€‚</p><p>ä»¥$n=6,k=2$ä¸ºä¾‹ï¼Œè›‹ç³•çš„å½¢çŠ¶å¦‚ä¸‹ï¼š<br><img src="/images/ACM/2024Summer_NCD06_B.png" alt=""></p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ‰‹ç”»å‡ ä¸ªå›¾ï¼Œå‘ç°å½“ä¸”ä»…å½“ $n=k\times2$ æ—¶ï¼Œè›‹ç³•çš„å—æ•°ä¸º $n$ ã€‚<br>å…¶ä½™æƒ…å†µä¸‹ï¼Œå‘ç°æ¯ä¸ªäº¤ç‚¹ä»…ç”±2æ¡ç›´çº¿ï¼Œè›‹ç³•çš„å—æ•°ä¸º $n\times k+1$ ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,k;cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">if</span>(k&gt;n/<span class="number">2</span>) k=n-k;</span><br><span class="line">    <span class="keyword">if</span>(k*<span class="number">2</span>!=n) cout &lt;&lt; k*n+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; n &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.Genshin Impactâ€™s Fault</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«ä»¥ä¸‹å­—ç¬¦ï¼š</p><ul><li><code>3</code>ï¼šä¸‰æ˜Ÿå¡</li><li><code>4</code>ï¼šå››æ˜Ÿå¡</li><li><code>5</code>ï¼šæ™®é€šäº”æ˜Ÿå¡</li><li><code>U</code>ï¼šç‰¹æ®Šäº”æ˜Ÿå¡</li></ul><p>æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å­—ç¬¦ä¸²æ˜¯åˆæ³•çš„ï¼š</p><ol><li>æ¯10ä¸ªè¿ç»­çš„å­—ç¬¦ä¸èƒ½éƒ½æ˜¯<code>3</code></li><li>æ¯90ä¸ªè¿ç»­çš„å­—ç¬¦è‡³å°‘æœ‰1ä¸ª<code>U</code>æˆ–<code>5</code></li><li>ç›¸é‚»ä¸¤å¼ äº”æ˜Ÿå¡ä¸èƒ½éƒ½æ˜¯<code>5</code></li></ol><p>åˆ¤æ–­ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦åˆæ³•ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>æŒ‰ç…§é¢˜æ„æ¨¡æ‹Ÿåˆ¤æ–­ã€‚</p><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;3&#x27;</span>) cnt++;</span><br><span class="line">        <span class="keyword">else</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnt&gt;=<span class="number">10</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c!=<span class="string">&#x27;5&#x27;</span>&amp;&amp;c!=<span class="string">&#x27;U&#x27;</span>) cnt++;</span><br><span class="line">        <span class="keyword">else</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnt&gt;=<span class="number">90</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">char</span> pre=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;5&#x27;</span>||c==<span class="string">&#x27;U&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(pre==<span class="string">&#x27;0&#x27;</span>) pre=c;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(pre==<span class="string">&#x27;5&#x27;</span>&amp;&amp;c==<span class="string">&#x27;5&#x27;</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> pre=c;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; s;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check1</span>()&amp;&amp;<span class="built_in">check2</span>()&amp;&amp;<span class="built_in">check3</span>()) cout &lt;&lt; <span class="string">&quot;valid\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;invalid\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡06</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡07</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD07.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD07.html</id>
    <published>2024-07-31T16:00:00.000Z</published>
    <updated>2024-08-24T15:54:12.025Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81702">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥7</a></p><h1>I.Fight Against the Monster</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç“¶å­æ¢æ°´é—®é¢˜ã€‚ $m$ ä¸ªç©ºç“¶å¯ä»¥æ¢ $k$ ç“¶æ°´ï¼Œ æ±‚ä¸€å…±è¦å– $h$ ç“¶æ°´ï¼Œåˆå§‹æœ€å°‘éœ€è¦å¤šå°‘ç“¶æ°´ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>äºŒåˆ†checkã€‚</p><p>è®¾åˆå§‹æœ‰ $x$ ç“¶æ°´ï¼Œæ¢æ°´æ¬¡æ•°ä¸º $\dfrac{x-m}{m-k}+1=\dfrac{x-k}{m-k}$ã€‚<br>æ¯æ¬¡æ¢æ°´äº§ç”Ÿ $k$ ç“¶æ°´ï¼Œæ€»å…± $x+k\cdot \dfrac{x-k}{m-k}$ ç“¶æ°´ã€‚</p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">(ll m,ll k,ll h,ll x)</span></span>&#123;</span><br><span class="line">    ll t=(x-k)/(m-k)*k+x;   </span><br><span class="line">    <span class="keyword">if</span>(t&gt;=h) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll m,k,h;cin &gt;&gt; m &gt;&gt; k &gt;&gt; h;</span><br><span class="line">    <span class="keyword">if</span>(h&lt;=m)&#123;cout &lt;&lt; h &lt;&lt; endl;<span class="keyword">return</span>;&#125; <span class="comment">//ä¸ç”¨æ¢</span></span><br><span class="line">    <span class="keyword">if</span>(m&lt;=k)&#123;cout &lt;&lt; m &lt;&lt; endl;<span class="keyword">return</span>;&#125; <span class="comment">//ç”Ÿç”Ÿä¸æ¯</span></span><br><span class="line">    ll l=<span class="number">0</span>,r=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        ll mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(m,k,h,mid)) r=mid;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="built_in">max</span>(<span class="number">0ll</span>,l<span class="number">-10</span>),r+<span class="number">10</span>) <span class="keyword">if</span>(<span class="built_in">check</span>(m,k,h,i)) &#123;cout &lt;&lt; i &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>J.Ball</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€æ ¹å·¦ç«¯ç‚¹ä¸º $(0,0)$ å‚ç›´äºyè½´é•¿åº¦ä¸º $l$ çš„æ£å­ã€‚<br>åœ¨ä¸Šé¢æ‰¾ä¸€ä¸ªæ”¯ç‚¹ä½¿å¾—æ£å­ç»•æ”¯ç‚¹æ—‹è½¬å¯ä»¥ç¢°åˆ°ä½äº $(x,y)$ çš„å°çƒã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ”¯ç‚¹ä½äºä¸¤ç«¯æ—¶æ‰«è¿‡çš„é¢ç§¯å¯è¦†ç›–æ‰€æœ‰æƒ…å†µã€‚<br>åˆ¤æ–­å°çƒåˆ°ä¸¤ç«¯çš„è·ç¦»ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll l,x,y;</span><br><span class="line">    cin &gt;&gt; l &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    ll dis1,dis2;</span><br><span class="line">    dis1=x*x+y*y;</span><br><span class="line">    dis2=(l-x)*(l-x)+y*y;</span><br><span class="line">    <span class="keyword">if</span>(dis1&gt;l*l&amp;&amp;dis2&gt;l*l) &#123; cout &lt;&lt; <span class="string">&quot;No\n&quot;</span>; <span class="keyword">return</span> ;&#125;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;Yes\n&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(dis1&lt;dis2) cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; l &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡07</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡05</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD05.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD05.html</id>
    <published>2024-07-29T16:00:00.000Z</published>
    <updated>2024-07-30T10:01:05.925Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81600">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥5</a></p><blockquote><p>ç²ç‘éª°å­å®‰çº¢è±†ï¼Œå…¥éª¨ç›¸æ€çŸ¥ä¸çŸ¥ã€‚  â€”â€”æ¸©åº­ç­ </p></blockquote><h1>B.ç‘</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ä½¿ç”¨è‹¥å¹²ä¸ª $1\times 2$ çš„å°çŸ©å½¢ï¼Œæ°å¥½è¦†ç›–ä¸€ä¸ª $n\times m$ çš„å¤§çŸ©å½¢ï¼ˆå³ä¸å…è®¸é‡å ã€ä¸å…è®¸æœ‰éƒ¨åˆ†è¶…å‡ºå¤§çŸ©å½¢èŒƒå›´ï¼‰</p><p>å¯¹äºä»»æ„ä¸¤ä¸ªå°çŸ©å½¢ï¼Œå¯èƒ½å­˜åœ¨ä»¥ä¸‹ä¸¤ç§é™åˆ¶ï¼ˆä¸­çš„0ç§ã€1ç§æˆ–2ç§ï¼‰ï¼š</p><ol><li>è¾¹é•¿ä¸º1çš„è¾¹ä¸èƒ½ç›¸è´´</li><li>è¾¹é•¿ä¸º2çš„è¾¹ä¸èƒ½ç›¸è´´ï¼Œå³ä½¿ç›¸è´´éƒ¨åˆ†çš„é•¿åº¦ä»…ä¸º1</li></ol><p>é—®æ˜¯å¦å­˜åœ¨ä¸€ç§æ–¹æ¡ˆï¼Œåœ¨æ»¡è¶³ç»™å®šé™åˆ¶çš„æ¡ä»¶ä¸‹ï¼Œæ°å¥½è¦†ç›–å¤§çŸ©å½¢ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>ä¸å¦¨ä»¤ $n&lt;m$ ï¼š</p><ol><li>å°çŸ©å½¢çš„é¢ç§¯æ˜¯2ï¼Œæ‰€ä»¥ $n\times m$ å¿…é¡»æ˜¯å¶æ•°</li><li>åªæœ‰ $n=1$ çš„æƒ…å†µæ»¡è¶³æ¡ä»¶2</li><li>åªæœ‰ $n=1ä¸”m&gt;2$ çš„æƒ…å†µä¸æ»¡è¶³æ¡ä»¶1</li></ol><p><img src="/images/ACM/2024Summer_NCD05_B.png" alt="image"></p><h2 id="å‚è€ƒä»£ç ">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m,a,b;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;m) <span class="built_in">swap</span>(n,m);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>&amp;&amp;m%<span class="number">2</span>) &#123;NO;<span class="keyword">return</span> ;&#125; <span class="comment">// é¢ç§¯æ˜¯å¥‡æ•°</span></span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>&amp;&amp;m==<span class="number">2</span>) &#123;YES;<span class="keyword">return</span> ;&#125; <span class="comment">// 1*2åªéœ€è¦ä¸€å—</span></span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>&amp;&amp;n!=<span class="number">1</span>) &#123;NO;<span class="keyword">return</span> ;&#125; <span class="comment">// åªæœ‰1*mæ—¶èƒ½æ»¡è¶³b</span></span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">0</span>&amp;&amp;n==<span class="number">1</span>) &#123;NO;<span class="keyword">return</span> ;&#125; <span class="comment">// åªæœ‰1*mæ—¶ä¸èƒ½æ»¡è¶³a</span></span><br><span class="line">    YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>E.å®‰</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>Mayå’ŒRayå„æœ‰ $n$ ä¸ªéª‘å£«ï¼Œåˆ†åˆ«æŒ‰é¡ºåºæ’æˆä¸€æ’ï¼Œç¼–å·ä¸º $1\sim n$ ã€‚<br>Mayçš„éª‘å£«çš„ç”Ÿå‘½å€¼ä¸º $a_i$ ï¼ŒRayçš„éª‘å£«çš„ç”Ÿå‘½å€¼ä¸º $b_i$ ã€‚</p><p>ç©å®¶æ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€ä¸ªåŒæ–¹éª‘å£«éƒ½å­˜æ´»çš„åºå· $i$ ï¼Œå‘½è‡ªå·±çš„éª‘å£« $i$ æ”»å‡»å¯¹æ–¹çš„éª‘å£« $i$ ï¼ˆä½¿å¯¹æ–¹çš„éª‘å£« $i$ çš„ç”Ÿå‘½å€¼å‡å°‘ $1$ ï¼‰ã€‚</p><p>Mayå…ˆè¡Œï¼Œä¸¤äººéƒ½æ‰§è¡Œæœ€ä¼˜ç­–ç•¥ï¼Œç›´åˆ°æ— æ³•æ“ä½œã€‚</p><p>é—®Mayæœ€ç»ˆå‰©ä½™å¤šå°‘ä¸ªéª‘å£«ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>è€ƒè™‘æœ€ä¼˜ç­–ç•¥ï¼š</p><ol><li>$a_i&gt;b_i$ ï¼šä¼˜åŠ¿ï¼Œåœ¨è¿™ä¸ªä½ç½®åªéœ€è¦åœ¨å¯¹æ–¹æ”»å‡»ååå‡»ï¼Œå°±èƒ½ä¿è¯æ¶ˆç­å¯¹æ–¹ã€‚</li><li>$a_i&lt;b_i$ ï¼šæ ¹æ®ä¸Šä¸€æ¡ï¼Œè¿™ä¸ªä½ç½®çš„éª‘å£«æ— æ³•å­˜æ´»ã€‚</li><li>$a_i=b_i$ ï¼šå…ˆæ”»å‡»çš„æ£‹å­å­˜æ´»ï¼Œä¸€åŠçš„æ£‹å­å­˜æ´»ï¼Œå…ˆæ‰‹å¯ä»¥å‘ä¸Šå–æ•´ã€‚</li></ol><p>æŒ‰ç…§æœ€ä¼˜ç­–ç•¥ï¼Œç­”æ¡ˆä¸º $cnt(a_i&gt;b_i)+\lceil cnt(a_i=b_i)/2 \rceil$ ã€‚</p><h2 id="å‚è€ƒä»£ç -2">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">create_vec</span>(a,n);</span><br><span class="line">    <span class="built_in">create_vec</span>(b,n);</span><br><span class="line">    ll ans=<span class="number">0</span>,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==b[i]) cnt++;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;b[i]) ans++;</span><br><span class="line">    &#125;cout &lt;&lt; ans+(cnt+<span class="number">1</span>)/<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.å…¥</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ª $n$ ä¸ªç‚¹ $m$ æ¡è¾¹çš„æ— å‘å›¾ï¼Œæ¯ä¸ªç‚¹å¸¦å”¯ä¸€ç‚¹æƒ $w_i$ ã€‚</p><p>æ£‹å­åˆå§‹è¢«æ”¾åœ¨ä¸€ä¸ªç‚¹ä¸Šï¼Œæ¯æ¬¡ä¼šç§»åŠ¨åˆ°ç›¸é‚»çš„ç‚¹ä¸­ç‚¹æƒæœ€å°çš„ä¸€ä¸ªç‚¹ã€‚</p><p>ç°åœ¨ç‚¹æƒå’Œåˆå§‹ä½ç½®å¯ä»¥è‡ªå·±å†³å®šï¼Œé—®æœ€å¤šèƒ½ç»è¿‡å¤šå°‘ä¸ªç‚¹ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>è‹¥ä»ç‚¹ $i$ èµ°åˆ°ç‚¹ $j$ ï¼Œå…¶ä»–å’Œ $i$ ç›¸é‚»çš„ç‚¹çš„æƒå€¼ä¸€å®šå¤§äºç‚¹ $j$ çš„æƒå€¼ï¼Œå› æ­¤ä¹‹åéƒ½ä¸ä¼šå†èµ°åˆ°è¿™äº›ç‚¹ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªç‚¹ä¹‹åï¼Œå°±å¯ä»¥æŠŠä¸Šä¸€æ­¥çš„ç‚¹å’Œå®ƒçš„ç›¸é‚»ç‚¹åˆ æ‰äº†ã€‚</p><p>å»ºå›¾ï¼ŒæŒ‰ç…§ä»¥ä¸Šæ€è·¯ï¼Œä»æ¯ä¸ªç‚¹å‡ºå‘å„ä¸€æ¬¡ï¼ŒDFSæ‰¾åˆ°æœ€é•¿è·¯å¾„é•¿åº¦ã€‚</p><h2 id="å‚è€ƒä»£ç -3">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">ll n,m;</span><br><span class="line">vector&lt;vector&lt;ll&gt;&gt; G;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; vis;</span><br><span class="line">ll ans=<span class="number">0</span>,cnt=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(ll u,ll cur=<span class="number">1</span>)</span></span>&#123;</span><br><span class="line">    <span class="built_in">chmax</span>(ans,cur);</span><br><span class="line">    vector&lt;ll&gt; tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v:G[u]) <span class="keyword">if</span>(!vis[v])&#123;</span><br><span class="line">        tmp.<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        vis[v]=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cnt+=tmp.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span>(n-cnt+cur&gt;=ans)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> v:tmp) <span class="built_in">dfs</span>(v,cur+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> v:tmp) vis[v]=<span class="number">0</span>;</span><br><span class="line">    cnt-=tmp.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    ll u,v;</span><br><span class="line">    G.<span class="built_in">clear</span>(); G.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">    vis.<span class="built_in">clear</span>(); vis.<span class="built_in">resize</span>(n+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    ans=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,m)&#123;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        G[u].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        G[v].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        vis[i]=<span class="number">1</span>; cnt=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(i);</span><br><span class="line">        vis[i]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>L.çŸ¥</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„åºåˆ— $a$ ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€ä¸ªä¸‹æ ‡ $i&lt;n$ ï¼Œæ‰§è¡Œï¼š$a_i=a_i+1,a_{i+1}=a_{i+1}-1$ ã€‚</p><p>æ±‚ä»»æ„æ¬¡æ“ä½œåï¼Œåºåˆ— $a$ çš„ç§¯çš„æœ€å¤§å€¼ $mod\ 998244353$ ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>å°å­¦è€å¸ˆæ•™è¿‡æˆ‘ä»¬ï¼Œå½“å’Œä¸€å®šæ—¶ï¼Œæ•°è¶Šå¹³å‡ï¼Œç§¯è¶Šå¤§ã€‚</p><p>è§‚å¯Ÿåˆ°æ“ä½œçš„ç‰¹æ€§ï¼šåé¢çš„å¤§æ•°å­—å¯ä»¥åŒ€åˆ°å‰é¢ï¼Œä½†æ˜¯å‰é¢çš„æ•°å­—ä¸èƒ½åŒ€ç»™åé¢ã€‚</p><p>ä»å‰å¾€åå¤„ç†ï¼ŒæŠŠç¬¬ $i$ ä¸ªæ•° $a_i$ åŠ å…¥ç­”æ¡ˆæ—¶ï¼Œ<br>ä»å½“å‰çš„ å‰ $i-1$ ä¸ªæ•°ä¸­ï¼Œä»å°åˆ°å¤§ä¾æ¬¡é€‰å–å°½å¯èƒ½å¤šçš„æ•°ï¼ˆè®°ä¸º $b_1\sim b_k$ ï¼‰ï¼Œ<br>æ»¡è¶³ï¼š$max{b_1\cdots b_k}&lt; avg{b_1 \cdots b_k,a_i}$</p><p>ç„¶åå¯ä»¥å°† ${b_1 \cdots b_k,a_i}$ å¹³å‡åŒ–ï¼Œæ˜¯æœ€ä¼˜çš„å¹³å‡æ–¹æ³•ã€‚</p><h2 id="å‚è€ƒä»£ç -4">å‚è€ƒä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="comment">// ll n=5;</span></span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">v</span><span class="params">(n)</span>,vans</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:v) cin &gt;&gt; x;</span><br><span class="line">    vans.<span class="built_in">emplace_back</span>(v[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i]&gt;vans[<span class="number">0</span>])&#123;</span><br><span class="line">            ll tsum=v[i],j=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(j&lt;i)&#123; <span class="comment">//å–å‡ºéœ€è¦è¢«åŒ€çš„æ•°</span></span><br><span class="line">                <span class="keyword">if</span>(vans[j]&gt;=tsum/(j+<span class="number">1</span>)) <span class="keyword">break</span>;  </span><br><span class="line">                <span class="comment">//å¦‚æœå½“å‰çš„æ•°å·²ç»å¤§äºç­‰äºå¹³å‡å€¼ï¼Œå°±ä¸éœ€è¦è¢«å¹³å‡äº†</span></span><br><span class="line">                tsum+=vans[j]; j++;</span><br><span class="line">            &#125;</span><br><span class="line">            vector&lt;ll&gt; temp;</span><br><span class="line">            <span class="built_in">FORLL</span>(k,j,i<span class="number">-1</span>) temp.<span class="built_in">emplace_back</span>(vans[k]);</span><br><span class="line">            ll avg=tsum/(j+<span class="number">1</span>),tt=tsum%(j+<span class="number">1</span>);</span><br><span class="line">            temp.<span class="built_in">insert</span>(temp.<span class="built_in">end</span>(),tt,avg+<span class="number">1</span>);</span><br><span class="line">            temp.<span class="built_in">insert</span>(temp.<span class="built_in">end</span>(),j+<span class="number">1</span>-tt,avg);</span><br><span class="line">            vans=temp;</span><br><span class="line">        &#125;<span class="keyword">else</span> vans.<span class="built_in">emplace_back</span>(v[i]);</span><br><span class="line">        <span class="built_in">SORT</span>(vans);</span><br><span class="line">    &#125; <span class="comment">// print_vec(ans);</span></span><br><span class="line">    ll ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x:vans) <span class="built_in">multo</span>(ans,x);</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡05</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡04</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU04.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU04.html</id>
    <published>2024-07-28T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.301Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A84%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ4ï¼‰</a></p><h1>1003</h1><p>//TODO</p><h1>(1005)HDU7473.å¤šå±‚è¡€æ¡</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>Bossè¡€æ¡çš„å°ºå¯¸ä¸º $n$ è¡Œ $m$ åˆ—ï¼Œå¤–å±‚æœ‰è¾¹æ¡†ã€‚<br>è¡Œæ•°ä»…ä»£è¡¨è¡€æ¡çš„é«˜åº¦ï¼Œä¸ä»£è¡¨è¡€é‡ã€‚<br>æ¯åˆ—ä»£è¡¨ $1$ ç‚¹è¡€é‡ï¼Œ $m$ åˆ—ä»£è¡¨äº† $m$ ç‚¹è¡€é‡ï¼Œå³ä¸€å±‚è¡€æ¡ã€‚</p><p>è¡€æ¡è‡ªåº•å‘ä¸Šã€ä»å·¦å¾€å³å¹³é“ºï¼Œæœ€åº•ä¸‹æ²¡æœ‰è¡€é‡çš„éƒ¨åˆ†ä¸ºç©ºæ ¼ã€‚<br>ç¬¬ä¸€å±‚è¡€é‡ç”¨ <code>A</code> è¡¨ç¤ºï¼Œç¬¬äºŒå±‚è¡€é‡ç”¨ <code>B</code> è¡¨ç¤ºï¼Œâ€¦ï¼Œç¬¬äº”å±‚è¡€é‡ç”¨ <code>E</code> è¡¨ç¤ºï¼Œç¬¬å…­å±‚è¡€é‡ç”¨ <code>A</code> è¡¨ç¤ºï¼Œäº”å±‚ä¸€å¾ªç¯ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>$n=2,m=10$ ä¸”è¡€é‡ä¸º$12$æ—¶ï¼Œè¡€æ¡å¦‚ä¸‹ï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">+----------+</span></span><br><span class="line">|BBAAAAAAAA|</span><br><span class="line"><span class="section">|BBAAAAAAAA|</span></span><br><span class="line"><span class="section">+----------+</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†åŠ å¼ºæ‰“å‡»åé¦ˆï¼Œå½“Bosså—åˆ°ä¼¤å®³æ—¶ï¼Œå³å°†æ‰£å‡çš„è¡€é‡å°†çŸ­æš‚æ˜¾ç¤ºä¸º<code>.</code>ï¼Œç„¶åå†æ˜¾ç¤ºä¸ºå¯¹åº”çš„è¡€æ¡ã€‚</p><p>å¦‚ä¸Šé¢çš„è¡€æ¡ï¼Œå½“å—åˆ° $3$ ç‚¹ä¼¤å®³æ—¶ï¼Œè¡€æ¡å°†å˜ä¸ºï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">+----------+</span></span><br><span class="line">|..AAAAAAA.|</span><br><span class="line"><span class="section">|..AAAAAAA.|</span></span><br><span class="line"><span class="section">+----------+</span></span><br></pre></td></tr></table></figure><p>ç»™å®š $n,m$ ï¼Œè¡€é‡ $hp$ï¼Œå³å°†å—åˆ°çš„ä¼¤å®³ $dmg$ ï¼Œæ±‚å—åˆ°ä¼¤å®³æ—¶çš„è¡€æ¡ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>è®¡ç®—è¡€æ¡å±‚æ•°å†³å®šå¡«å……å½“å‰å±‚ï¼ˆå’Œä¸‹ä¸€å±‚ï¼‰çš„å­—ç¬¦ã€‚<br>è®¡ç®—å½“å‰æœ€åä¸€ä¸ªè¡€çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä¼¤å®³å¯¹è¡€æ¡è¿›è¡Œä¿®æ”¹ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m,hp,dmg;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; hp &gt;&gt; dmg;</span><br><span class="line">    string ul=<span class="string">&#x27;+&#x27;</span>+<span class="built_in">string</span>(m,<span class="string">&#x27;-&#x27;</span>)+<span class="string">&#x27;+&#x27;</span>; <span class="comment">//è¾¹æ¡†</span></span><br><span class="line">    cout &lt;&lt; ul &lt;&lt; endl;</span><br><span class="line">    string s=<span class="string">&quot;|&quot;</span>;</span><br><span class="line">    ll k=(hp+m<span class="number">-1</span>)/m; <span class="comment">//å±‚æ•°</span></span><br><span class="line">    <span class="type">char</span> c=(k+<span class="number">4</span>)%<span class="number">5</span>+<span class="string">&#x27;A&#x27;</span>; <span class="comment">//å½“å‰å±‚å­—ç¬¦</span></span><br><span class="line">    ll cur = (hp<span class="number">-1</span>)%m+<span class="number">1</span>; <span class="comment">//å½“å‰å±‚è¡€é‡ä½ç½®</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,cur) s+=c;</span><br><span class="line">    <span class="type">char</span> c1=(k<span class="number">-1</span>)&gt;<span class="number">0</span>?(k<span class="number">-2</span>)%<span class="number">5</span>+<span class="string">&#x27;A&#x27;</span>:<span class="string">&#x27; &#x27;</span>; <span class="comment">//ä¸‹ä¸€å±‚å­—ç¬¦</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,cur+<span class="number">1</span>,m) s+=c1;</span><br><span class="line">    s+=<span class="string">&#x27;|&#x27;</span>;</span><br><span class="line">    <span class="built_in">chmin</span>(dmg,m);</span><br><span class="line">    <span class="built_in">FORLL_rev</span>(i,cur,<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dmg==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        s[i]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        dmg--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL_rev</span>(i,m,cur+<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dmg==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        s[i]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        dmg--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; ul &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>1007</h1><p>//TODO</p><h1>(1009)HDU7477.æ˜µç§°æ£€ç´¢</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®š $n$ ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºåå­—ã€‚<br>ä¸€ä¸ªæ˜µç§°ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€ä¸ªç»™å®šçš„åå­—+4ä½æ•°å­—ã€‚<br>å…¶ä¸­ï¼Œ4ä½æ•°å­—è¡¨ç¤ºä¸€ä¸ªæ—¥æœŸã€‚</p><p>æ³¨ï¼šæ—¥æœŸæ ¼å¼ä¸º <code>MMDD</code> ï¼Œå³æœˆä»½å’Œæ—¥æœŸï¼Œ0229ä¹Ÿç®—ã€‚</p><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $m$ çš„å­—ç¬¦ä¸²ï¼Œè®¡ç®—æ‰€æœ‰å­åºåˆ—ä¸­èƒ½æ„æˆä¸åŒçš„æ˜µç§°çš„ä¸ªæ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ˜µç§°å’Œæ—¥æœŸåˆ†å¼€è€ƒè™‘ã€‚</p><p>è¦æ±‚è®¡ä¸åŒçš„æ˜µç§°çš„ä¸ªæ•°ï¼Œå› æ­¤æ¯ç§åå­—ã€æ—¥æœŸåªéœ€è¦è€ƒè™‘ä¸€æ¬¡ã€‚</p><p>åå­—åªéœ€è¦é€‰å–æœ€æ—©å®Œæ•´å‡ºç°çš„å­åºåˆ—ï¼Œå› ä¸ºæ—©å‡ºç°ä¸€å®šæ¯”æ™šå‡ºç°åŒ¹é…çš„æ—¥æœŸä¸ªæ•°å¤šã€‚<br>æ—¥æœŸåªéœ€è¦é€‰å–æœ€æ™šå®Œæ•´å‡ºç°çš„å­åºåˆ—ï¼Œå› ä¸ºæ™šå‡ºç°ä¸€å®šæ¯”æ—©å‡ºç°åŒ¹é…çš„åå­—ä¸ªæ•°å¤šã€‚</p><p>è®°å½•æ¯ç§å­—ç¬¦å‡ºç°çš„ä½ç½®ï¼Œå…ˆåŒ¹é…æ—¥æœŸã€‚<br>ç”¨ $date_i$ è¡¨ç¤ºä¸‹æ ‡ä¸º $i$ çš„ä½ç½®å¼€å¤´çš„ä¸åŒæ—¥æœŸæ•°ã€‚<br>å¯¹ $date$ åšä¸€ä¸ªåç¼€å’Œï¼Œ $date_i$ å°±è¡¨ç¤ºåˆ°å½“å‰ä½ç½®å¼€å§‹ï¼Œå¾€åçš„ä¸åŒæ—¥æœŸæ•°ã€‚</p><p>å†åŒ¹é…åå­—ã€‚<br>æ‰¾åˆ°åå­— $name$ çš„æœ€æ—©å‡ºç°ä½ç½® $j$ ï¼Œå®ƒèƒ½ç»„åˆå‡ºçš„æœ€å¤šä¸åŒæ˜µç§°æ•°ä¸º $date_{j+1}$ï¼ŒåŠ å…¥ç­”æ¡ˆã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; days = &#123;<span class="number">0</span>,<span class="number">31</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">toint</span><span class="params">(<span class="type">char</span> c1,<span class="type">char</span> c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (c1-<span class="string">&#x27;0&#x27;</span>)*<span class="number">10</span>+c2-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    vector&lt;string&gt; names;</span><br><span class="line">    string s,t;</span><br><span class="line">    cin &gt;&gt; s;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        names.<span class="built_in">emplace_back</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">    map&lt;<span class="type">char</span>,vector&lt;ll&gt;&gt; posc,posint;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,m<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]&gt;=<span class="string">&#x27;a&#x27;</span>&amp;&amp;s[i]&lt;=<span class="string">&#x27;z&#x27;</span>) posc[s[i]].<span class="built_in">emplace_back</span>(i);</span><br><span class="line">        <span class="keyword">else</span> posint[s[i]].<span class="built_in">emplace_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">date</span><span class="params">(m+<span class="number">1</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> d2=<span class="string">&#x27;0&#x27;</span>;d2&lt;=<span class="string">&#x27;9&#x27;</span>;d2++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(posint[d2].<span class="built_in">empty</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰è¿™ä¸ªæ•°å­—</span></span><br><span class="line">        <span class="keyword">auto</span> posd2 = posint[d2].<span class="built_in">back</span>(); <span class="comment">//æœ€åä¸€ä¸ªä½ç½®</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> d1=<span class="string">&#x27;0&#x27;</span>;d1&lt;=<span class="string">&#x27;3&#x27;</span>;d1++)&#123;</span><br><span class="line">            <span class="keyword">auto</span> day=<span class="built_in">toint</span>(d1,d2);</span><br><span class="line">            <span class="keyword">if</span>(day&gt;<span class="number">31</span>||day&lt;<span class="number">1</span>) <span class="keyword">continue</span>; <span class="comment">//ä¸å¯èƒ½çš„å¤©æ•°</span></span><br><span class="line">            <span class="keyword">if</span>(posint[d1].<span class="built_in">empty</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰è¿™ä¸ªæ•°å­—</span></span><br><span class="line">            <span class="keyword">auto</span> itposd1 = <span class="built_in">lower_bound</span>(<span class="built_in">ALL</span>(posint[d1]),posd2); <span class="comment">//æ‰¾æ¯”posd2å°çš„æœ€å¤§çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span>(itposd1==posint[d1].<span class="built_in">begin</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰æ¯”posd2å°çš„</span></span><br><span class="line">            <span class="keyword">auto</span> posd1 = *(--itposd1);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> m2=<span class="string">&#x27;0&#x27;</span>;m2&lt;=<span class="string">&#x27;9&#x27;</span>;m2++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(posint[m2].<span class="built_in">empty</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰è¿™ä¸ªæ•°å­—</span></span><br><span class="line">                <span class="keyword">auto</span> itposm2 = <span class="built_in">lower_bound</span>(<span class="built_in">ALL</span>(posint[m2]),posd1); <span class="comment">//æ‰¾æ¯”posd1å°çš„æœ€å¤§çš„ä½ç½®</span></span><br><span class="line">                <span class="keyword">if</span>(itposm2==posint[m2].<span class="built_in">begin</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰æ¯”posd1å°çš„</span></span><br><span class="line">                <span class="keyword">auto</span> posm2 = *(--itposm2);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> m1=<span class="string">&#x27;0&#x27;</span>;m1&lt;=<span class="string">&#x27;1&#x27;</span>;m1++)&#123;</span><br><span class="line">                    <span class="keyword">auto</span> month=<span class="built_in">toint</span>(m1,m2);</span><br><span class="line">                    <span class="keyword">if</span>(month&gt;<span class="number">12</span>||month&lt;<span class="number">1</span>) <span class="keyword">continue</span>;; <span class="comment">//ä¸å¯èƒ½çš„æœˆä»½</span></span><br><span class="line">                    <span class="keyword">if</span>(day&gt;days[month]) <span class="keyword">continue</span>;; <span class="comment">//ä¸å¯èƒ½çš„æ—¥æœŸ</span></span><br><span class="line">                    <span class="keyword">if</span>(posint[m1].<span class="built_in">empty</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰è¿™ä¸ªæ•°å­—</span></span><br><span class="line">                    <span class="keyword">auto</span> itposm1 = <span class="built_in">lower_bound</span>(<span class="built_in">ALL</span>(posint[m1]),posm2); <span class="comment">//æ‰¾æ¯”posm2å°çš„æœ€å¤§çš„ä½ç½®</span></span><br><span class="line">                    <span class="keyword">if</span>(itposm1==posint[m1].<span class="built_in">begin</span>()) <span class="keyword">continue</span>; <span class="comment">//æ²¡æœ‰æ¯”posm2å°çš„</span></span><br><span class="line">                    <span class="keyword">auto</span> posm1 = *(--itposm1);</span><br><span class="line">                    date[posm1]++;</span><br><span class="line">                    <span class="comment">// cout &lt;&lt; month &lt;&lt; &#x27; &#x27; &lt;&lt; day &lt;&lt; endl;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL_rev</span>(i,m<span class="number">-1</span>,<span class="number">0</span>) date[i]+=date[i+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// print_vec(date);</span></span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;name:names)&#123;</span><br><span class="line">        ll curi=<span class="number">-1</span>,len=name.<span class="built_in">length</span>();</span><br><span class="line">        <span class="built_in">FORLL</span>(i,<span class="number">0</span>,len<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="keyword">auto</span> c=name[i];</span><br><span class="line">            <span class="keyword">auto</span> it=<span class="built_in">upper_bound</span>(<span class="built_in">ALL</span>(posc[c]),curi);</span><br><span class="line">            <span class="keyword">if</span>(it==posc[c].<span class="built_in">end</span>()) <span class="keyword">break</span>;</span><br><span class="line">            curi=*it;</span><br><span class="line">            <span class="keyword">if</span>(i==len<span class="number">-1</span>) ans+=date[curi+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡04</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡03</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU03.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU03.html</id>
    <published>2024-07-25T16:00:00.000Z</published>
    <updated>2024-08-03T12:15:50.329Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A83%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ3ï¼‰</a></p><h1>(1001)HDU7457.æ·±åº¦è‡ªåŒæ„</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>æ±‚ç”± $n$ ä¸ªèŠ‚ç‚¹æ„æˆï¼Œä¸”æ»¡è¶³â€œæ·±åº¦ç›¸åŒçš„èŠ‚ç‚¹ï¼Œåº¦ç›¸åŒâ€çš„æ£®æ—çš„æ–¹æ¡ˆæ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>å…ˆè€ƒè™‘ $i$ ä¸ªèŠ‚ç‚¹çš„åˆæ³•çš„æ ‘ï¼Œè¿™æ£µæ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å­æ ‘å½¢æ€ç›¸åŒã€‚<br>å»æ‰æ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„å­æ ‘å½¢æ€ç›¸åŒï¼Œé‚£ä¹ˆæ¯ä¸ªå­æ ‘çš„èŠ‚ç‚¹æ•°æ˜¯ $i-1$ çš„çº¦æ•°ã€‚<br>è®¾ $f(i)$ è¡¨ç¤º $i$ ä¸ªèŠ‚ç‚¹æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ ‘çš„æ–¹æ¡ˆæ•°ï¼Œé‚£ä¹ˆæœ‰ï¼š$f(i)=\sum_{d|(i-1)} f(d)$</p><p>å†è€ƒè™‘ $n$ ä¸ªèŠ‚ç‚¹çš„åˆæ³•çš„æ£®æ—ï¼Œæ¯ä¸ªæ ‘çš„èŠ‚ç‚¹æ•°æ˜¯ $n$ çš„çº¦æ•°ã€‚<br>è®¾ $g(n)$ è¡¨ç¤º $n$ ä¸ªèŠ‚ç‚¹æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ£®æ—çš„æ–¹æ¡ˆæ•°ï¼Œé‚£ä¹ˆæœ‰ï¼š$g(n)=\sum_{d|n} f(d)$</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> ll N = <span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line">ll f[N],g[N];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    f[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    ll n=<span class="number">1e6</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)</span><br><span class="line">        <span class="keyword">for</span>(ll j=i;j&lt;=n;j+=i)</span><br><span class="line">            <span class="built_in">addto</span>(f[j+<span class="number">1</span>],f[i]);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)</span><br><span class="line">        <span class="keyword">for</span>(ll j=i;j&lt;=n;j+=i)</span><br><span class="line">            <span class="built_in">addto</span>(g[j],f[i]);</span><br><span class="line">    <span class="comment">//å¯„å·§ï¼šå¯¹äºä»çº¦æ•°iåˆ°å€æ•°jçš„è½¬ç§»ï¼Œå¯ä»¥æšä¸¾å€æ•°kï¼Œä»¥è°ƒå’Œçº§æ•°å¤æ‚åº¦æ±‚</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) cout &lt;&lt; g[i] &lt;&lt; <span class="built_in">Presentation</span>(i,n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1007)HDU7463.å•å³°æ•°åˆ—</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ•°åˆ— $a$ ï¼Œ$q$ æ¬¡æ“ä½œï¼š</p><ol><li><code>1 l r x</code>ï¼š$a[l,r]$ æ¯ä¸ªæ•°åŠ  $x$</li><li><code>2 l r</code>ï¼šåˆ¤æ–­ $a[l,r]$ æ˜¯å¦ç›¸åŒ</li><li><code>3 l r</code>ï¼šåˆ¤æ–­ $a[l,r]$ æ˜¯å¦ä¸¥æ ¼å•è°ƒé€’å¢ï¼Œ$l=r$ æ—¶ä¹Ÿç®—</li><li><code>4 l r</code>ï¼šåˆ¤æ–­ $a[l,r]$ æ˜¯å¦ä¸¥æ ¼å•è°ƒé€’å‡ï¼Œ$l=r$ æ—¶ä¹Ÿç®—</li><li><code>5 l r</code>ï¼šåˆ¤æ–­ $a[l,r]$ æ˜¯å¦å•å³°æ•°åˆ—</li></ol><p>é•¿åº¦ä¸º $m$ çš„æ•°åˆ— $b$ è¢«ç§°ä¸ºå•å³°æ•°åˆ—ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨å”¯ä¸€ä½ç½® $1\lt i\lt m$ ï¼Œä½¿å¾— $b[1,i]$ ä¸¥æ ¼å•è°ƒé€’å¢ï¼Œ$b[i,m]$ ä¸¥æ ¼å•è°ƒé€’å‡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æš´åŠ›åˆ¤æ–­<br>ç»´æŠ¤å·®åˆ†åºåˆ—æ›´ç›´è§‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;ll&gt; v;</span><br><span class="line">ll n;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">range_add</span><span class="params">(ll l,ll r,ll val)</span></span>&#123;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l<span class="number">-1</span>,r<span class="number">-1</span>) v[i]+=val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check_same</span><span class="params">(ll l,ll r)</span></span>&#123;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r<span class="number">-1</span>) <span class="keyword">if</span>(v[i]!=v[l<span class="number">-1</span>]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check_up</span><span class="params">(ll l,ll r)</span></span>&#123;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r<span class="number">-1</span>) <span class="keyword">if</span>(v[i<span class="number">-1</span>]&gt;=v[i]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check_down</span><span class="params">(ll l,ll r)</span></span>&#123;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r<span class="number">-1</span>) <span class="keyword">if</span>(v[i<span class="number">-1</span>]&lt;=v[i]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check_mountain</span><span class="params">(ll l,ll r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> fl=<span class="number">0</span>; <span class="comment">//up</span></span><br><span class="line">    <span class="keyword">if</span>(v[l<span class="number">-1</span>]&gt;v[l]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[i<span class="number">-1</span>]==v[i]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(fl==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(v[i<span class="number">-1</span>]&gt;v[i]) fl=<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(fl==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(v[i<span class="number">-1</span>]&lt;v[i]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(fl==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    v.<span class="built_in">resize</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:v) cin &gt;&gt; x;</span><br><span class="line">    ll q;cin &gt;&gt; q;</span><br><span class="line">    ll op,l,r,val;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span>(op==<span class="number">1</span>)&#123;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r &gt;&gt; val;</span><br><span class="line">            <span class="built_in">range_add</span>(l,r,val);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">2</span>)&#123;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">check_same</span>(l,r) &lt;&lt; endl;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">3</span>)&#123;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">check_up</span>(l,r) &lt;&lt; endl;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">4</span>)&#123;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">check_down</span>(l,r) &lt;&lt; endl;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="number">5</span>)&#123;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">            cout &lt;&lt; <span class="built_in">check_mountain</span>(l,r) &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1008)HDU7464.æ¯”ç‰¹è·³è·ƒ</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ª $n$ ä¸ªç‚¹ $m$ æ¡è¾¹ï¼ˆä¸ä¿è¯è¿é€šï¼Œå¯èƒ½æœ‰é‡è¾¹ï¼‰çš„æ— å‘å›¾ã€‚<br>æ¯æ¡è¾¹ $E(u,v)$ æœ‰ä¸€ä¸ªæƒå€¼ $w$ ï¼Œè¡¨ç¤ºä» $u$ åˆ° $v$ çš„ä»£ä»·ã€‚<br>æ­¤å¤–ï¼Œå¯¹äºä»»æ„ä¸¤ç‚¹ $u,v$ ï¼Œå¯ä»¥ä»˜å‡º $k\times(u|v)$ ï¼ˆæŒ‰ä½æˆ–ï¼‰çš„ä»£ä»·ä» $u$ è·³åˆ° $v$ ã€‚<br>åˆ†åˆ«æ±‚ä»èŠ‚ç‚¹ $1$ åˆ°æ‰€æœ‰å…¶ä»–ç‚¹ $2$ ~ $n$ çš„æœ€å°ä»£ä»·ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>æœ€æš´åŠ›çš„æƒ³æ³•è‚¯å®šæ˜¯æŠŠç›´æ¥è·³è·ƒä¹Ÿçœ‹ä½œè¾¹åŠ å…¥å›¾ä¸­ï¼Œç„¶åè·‘å•æºæœ€çŸ­è·¯ã€‚<br>ä½†æ˜¯è¿™æ ·è¾¹çš„æ•°é‡æ˜¯ $n^2$ ï¼Œæ˜¾ç„¶ä¸å¯å–ã€‚<br>å› æ­¤è€ƒè™‘å“ªäº›è¾¹æ˜¯æœ‰å¿…è¦åŠ çš„ã€‚</p><p>$1$ ç›´æ¥è·³åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ–¹æ¡ˆæ˜¯å¾ˆä¼˜çš„ï¼š<br>è‹¥èŠ‚ç‚¹ $i$ ä¸åœ¨èŠ‚ç‚¹ $1$ æ‰€åœ¨çš„è¿é€šå—å†…ï¼Œé‚£ä¹ˆ $1$ ç›´æ¥è·³åˆ° $i$ çš„ä»£ä»·åªå¯èƒ½æ˜¯ $i$ ï¼ˆ$i$ ä¸ºå¥‡æ•°ï¼‰æˆ– $i+1$ ï¼ˆ$i$ ä¸ºå¶æ•°ï¼‰ã€‚</p><p>ä½†å¦‚æœå­˜åœ¨ $E(1,2,0)$ ï¼Œå¯¹äº $x=2,6,10â€¦$ è¿™ä¸€ç±»æ»¡è¶³ $x%4=2$ çš„èŠ‚ç‚¹ï¼Œ $1$ ç›´æ¥è·³åˆ° $x$ çš„ä»£ä»·ä¸º $x+1$ ï¼Œä½†å…ˆèµ°åˆ° $2$ å†è·³åˆ° $x$ çš„ä»£ä»·ä»…ä¸º $x$ ã€‚</p><p>å› æ­¤ï¼Œå¯¹äº $x%4=2$ çš„èŠ‚ç‚¹ï¼Œéœ€è¦åŠ å…¥ $E(2,x,k(x|2))$ ã€‚</p><p>åŒç†ï¼Œå¯¹äº $x%2^{i+1}=2^i$ çš„èŠ‚ç‚¹ï¼Œéœ€è¦åŠ å…¥ $E(2,x,k(x|2^i))$ ã€‚</p><p>æœ€åï¼Œè·‘ä¸€éå•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„å•æºæœ€çŸ­è·¯ï¼Œæ±‚å‡ºç­”æ¡ˆã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;ll&gt; <span class="title">pow2</span><span class="params">(<span class="number">1</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=<span class="number">60</span>;i++) pow2.<span class="built_in">emplace_back</span>(pow2.<span class="built_in">back</span>()*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m,k;cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="function">Dijkstra <span class="title">dij</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,m)&#123;</span><br><span class="line">        ll u,v,w;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        dij.<span class="built_in">addedge</span>(u,v,w);</span><br><span class="line">        dij.<span class="built_in">addedge</span>(v,u,w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,n) dij.<span class="built_in">addedge</span>(<span class="number">1</span>,i,k*(<span class="number">1</span>|i));</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,<span class="number">60</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(pow2[i]&gt;n) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(ll j=pow2[i]*<span class="number">2</span>;j&lt;=n;j+=pow2[i]) <span class="keyword">if</span>(pow2[i]&amp;j)</span><br><span class="line">            dij.<span class="built_in">addedge</span>(pow2[i],j,k*(pow2[i]|j));</span><br><span class="line">    &#125;</span><br><span class="line">    dij.<span class="built_in">solve</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,n) cout &lt;&lt; dij[i] &lt;&lt; <span class="built_in">Presentation</span>(i,n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1011)HDU7467.æŠ“æ‹</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>$n$ ä¸ªäººï¼Œç¬¬ $i$ ä¸ªäººåˆå§‹åœ¨ $(x_i,y_i)$ ã€‚<br>æ¯ä¸ªäººæœ‰ä¸€ä¸ªè¡Œè¿›æ–¹å‘ï¼šä¸œï¼ˆE,+xæ–¹å‘ï¼‰ã€è¥¿ï¼ˆW,-xæ–¹å‘ï¼‰ã€å—ï¼ˆS,-yæ–¹å‘ï¼‰ã€åŒ—ï¼ˆN,+yæ–¹å‘ï¼‰ï¼Œæ¯ç§’ç§»åŠ¨ä¸€ä¸ªè·ç¦»ã€‚<br>æ•£æ­¥æ— é™é•¿æ—¶é—´ã€ä¸æ”¹å˜æ–¹å‘ã€å¿½ç•¥ç¢°æ’ã€‚</p><p>æ±‚ä¸€ä¸ªå‘¨é•¿æœ€å°çš„çŸ©å½¢æ»¡è¶³ï¼š</p><ol><li>ä¸Šä¸‹è¾¹å¹³è¡Œäº $x$ è½´ï¼Œå·¦å³è¾¹å¹³è¡Œäº $y$ è½´</li><li>å­˜åœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œæ‰€æœ‰äººéƒ½åœ¨çŸ©å½¢å†…éƒ¨</li></ol><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>æ¯ä¸ªæ—¶åˆ»çš„æœ€å°å‘¨é•¿çŸ©å½¢åªç”± æœ€ä¸Šé¢ã€æœ€ä¸‹é¢ã€æœ€å·¦è¾¹ã€æœ€å³è¾¹ çš„å››ä¸ªäººå†³å®šï¼Œé‚£ä¹ˆå°±è€ƒè™‘å¯èƒ½æˆä¸ºè¿™å››ä¸ªäººçš„äººã€‚</p><p>å·¦å³ç§»åŠ¨çš„äººå æ®çš„yåŒºé—´ï¼Œä¸Šä¸‹ç§»åŠ¨çš„äººå æ®çš„xåŒºé—´ï¼Œä¸ä¼šæ”¹å˜ã€‚<br>è®°å½•ï¼šå·¦å³èµ°çš„äººé‡Œæœ€é ä¸Šã€æœ€é ä¸‹çš„äººï¼Œä¸Šä¸‹èµ°çš„äººé‡Œæœ€é å·¦ã€æœ€é å³çš„äººã€‚</p><p>å› ä¸ºæ—¶é—´æ— é™é•¿ï¼Œæœ€ååœ¨æœ€ä¸Šé¢çš„äººï¼Œä¸€å®šæ˜¯å‘ä¸Šèµ°çš„äººä¸­åˆå§‹ç‚¹æœ€é ä¸Šçš„ï¼Œå…¶ä»–æ–¹å‘åŒç†ã€‚<br>è®°å½•ï¼šå‘ä¸Šèµ°çš„äººé‡Œæœ€é ä¸Šçš„ã€å‘ä¸‹èµ°çš„äººé‡Œæœ€é ä¸‹çš„ï¼Œå‘å·¦èµ°çš„äººé‡Œæœ€é å·¦çš„ã€å‘å³èµ°çš„äººé‡Œæœ€é å³çš„ã€‚</p><p>å¼€å§‹æœ€é ä¸‹çš„äººå¦‚æœæ˜¯å‘å·¦/å³/ä¸‹èµ°çš„ï¼Œå·²ç»è®°å½•äº†ï¼Œåªè¦åœ¨å‘ä¸Šèµ°çš„äººä¸­æ‰¾åˆ°æœ€é ä¸‹çš„ï¼Œå…¶ä»–æ–¹å‘åŒç†ã€‚<br>è®°å½•ï¼šå‘ä¸Šèµ°çš„äººé‡Œæœ€é ä¸‹çš„ã€å‘ä¸‹èµ°çš„äººé‡Œæœ€é ä¸Šçš„ã€å‘å·¦èµ°çš„äººé‡Œæœ€é å³çš„ã€å‘å³èµ°çš„äººé‡Œæœ€é å·¦çš„ã€‚</p><p>æœ‰äº†è¿™12ä¸ªå€¼ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºä»»ä½•ä¸€ä¸ªæ—¶åˆ»çš„ $x_{min},x_{max},y_{min},y_{max}$ ï¼Œä»è€Œè®¡ç®—å‡ºæœ€å°å‘¨é•¿ã€‚</p><p>æ¨¡æ‹Ÿå¯çŸ¥ï¼Œå‘¨é•¿å¯¹æ—¶é—´çš„å‡½æ•°ï¼Œè¦ä¹ˆæ˜¯å•è°ƒå¢çš„ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªå¼€å£å‘ä¸Šçš„äºŒæ¬¡å‡½æ•°ï¼ˆå› ä¸ºæœ€åäººä¸€å®šè¶Šèµ°è¶Šæ•£ï¼‰ã€‚å› æ­¤å¯ä»¥ä¸‰åˆ†æ‰¾åˆ°æå°å€¼ç‚¹ï¼Œå³ä¸ºç­”æ¡ˆã€‚</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//           E W S N</span></span><br><span class="line"><span class="comment">//           R L D U</span></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(pll a,pll b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.second==b.second) <span class="keyword">return</span> a.first&lt;b.first;</span><br><span class="line">    <span class="keyword">return</span> a.second&lt;b.second;</span><br><span class="line">&#125;</span><br><span class="line">ll yLRmax,yLRmin,xUDmax,xUDmin;</span><br><span class="line">ll xLmin,xLmax,xRmin,xRmax,yUmin,yUmax,yDmin,yDmax;</span><br><span class="line"><span class="function">ll <span class="title">getC</span><span class="params">(ll t)</span></span>&#123;</span><br><span class="line">    ll xmin = <span class="built_in">min</span>(&#123;xLmin-t,xRmin+t,xUDmin&#125;);</span><br><span class="line">    ll xmax = <span class="built_in">max</span>(&#123;xLmax-t,xRmax+t,xUDmax&#125;);</span><br><span class="line">    ll ymin = <span class="built_in">min</span>(&#123;yDmin-t,yUmin+t,yLRmin&#125;);</span><br><span class="line">    ll ymax = <span class="built_in">max</span>(&#123;yDmax-t,yUmax+t,yLRmax&#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*((xmax-xmin)+(ymax-ymin));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    vector&lt;pll&gt; L,R,U,D;</span><br><span class="line">    ll x,y;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y &gt;&gt; c;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;E&#x27;</span>) R.<span class="built_in">emplace_back</span>(x,y);</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;W&#x27;</span>) L.<span class="built_in">emplace_back</span>(x,y);</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;N&#x27;</span>) U.<span class="built_in">emplace_back</span>(x,y);</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;S&#x27;</span>) D.<span class="built_in">emplace_back</span>(x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å·¦å³ç§»åŠ¨çš„æœ€ä¸Šå’Œæœ€ä¸‹ä¸¤ä¸ªäººï¼Œä¸Šä¸‹ç§»åŠ¨çš„æœ€å·¦å’Œæœ€å³ä¸¤ä¸ªäºº</span></span><br><span class="line">    <span class="built_in">sort</span>(<span class="built_in">ALL</span>(L),cmp); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(R),cmp); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(U)); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(D));</span><br><span class="line">    yLRmax = xUDmax = -INF;</span><br><span class="line">    yLRmin = xUDmin = INF;</span><br><span class="line">    <span class="keyword">if</span>(L.<span class="built_in">size</span>()) &#123;<span class="built_in">chmax</span>(yLRmax,L.<span class="built_in">back</span>().second);<span class="built_in">chmin</span>(yLRmin,L.<span class="built_in">front</span>().second);&#125;</span><br><span class="line">    <span class="keyword">if</span>(R.<span class="built_in">size</span>()) &#123;<span class="built_in">chmax</span>(yLRmax,R.<span class="built_in">back</span>().second);<span class="built_in">chmin</span>(yLRmin,R.<span class="built_in">front</span>().second);&#125;</span><br><span class="line">    <span class="keyword">if</span>(U.<span class="built_in">size</span>()) &#123;<span class="built_in">chmax</span>(xUDmax,U.<span class="built_in">back</span>().first);<span class="built_in">chmin</span>(xUDmin,U.<span class="built_in">front</span>().first);&#125;</span><br><span class="line">    <span class="keyword">if</span>(D.<span class="built_in">size</span>()) &#123;<span class="built_in">chmax</span>(xUDmax,D.<span class="built_in">back</span>().first);<span class="built_in">chmin</span>(xUDmin,D.<span class="built_in">front</span>().first);&#125;</span><br><span class="line">    <span class="comment">//åˆå§‹çŠ¶æ€ï¼Œå‘å·¦çš„æœ€å·¦æœ€å³ï¼Œå‘å³çš„æœ€å·¦æœ€å³ï¼Œå‘ä¸Šçš„æœ€ä¸Šæœ€ä¸‹ï¼Œå‘ä¸‹çš„æœ€ä¸Šæœ€ä¸‹</span></span><br><span class="line">    <span class="built_in">sort</span>(<span class="built_in">ALL</span>(L)); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(R)); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(U),cmp); <span class="built_in">sort</span>(<span class="built_in">ALL</span>(D),cmp);</span><br><span class="line">    xLmin = xRmin = yUmin = yDmin = INF;</span><br><span class="line">    xLmax = xRmax = yUmax = yDmax = -INF;</span><br><span class="line">    <span class="keyword">if</span>(L.<span class="built_in">size</span>()) &#123;<span class="built_in">chmin</span>(xLmin,L.<span class="built_in">front</span>().first);<span class="built_in">chmax</span>(xLmax,L.<span class="built_in">back</span>().first);&#125;</span><br><span class="line">    <span class="keyword">if</span>(R.<span class="built_in">size</span>()) &#123;<span class="built_in">chmin</span>(xRmin,R.<span class="built_in">front</span>().first);<span class="built_in">chmax</span>(xRmax,R.<span class="built_in">back</span>().first);&#125;</span><br><span class="line">    <span class="keyword">if</span>(U.<span class="built_in">size</span>()) &#123;<span class="built_in">chmin</span>(yUmin,U.<span class="built_in">front</span>().second);<span class="built_in">chmax</span>(yUmax,U.<span class="built_in">back</span>().second);&#125;</span><br><span class="line">    <span class="keyword">if</span>(D.<span class="built_in">size</span>()) &#123;<span class="built_in">chmin</span>(yDmin,D.<span class="built_in">front</span>().second);<span class="built_in">chmax</span>(yDmax,D.<span class="built_in">back</span>().second);&#125;</span><br><span class="line">    ll l=<span class="number">0</span>,r=<span class="number">2e9</span>;</span><br><span class="line">    <span class="comment">//ä¸‰åˆ†æ‰¾åˆ°getCæœ€å°çš„t</span></span><br><span class="line">    <span class="keyword">while</span>(r-l&gt;<span class="number">10</span>)&#123;</span><br><span class="line">        ll m1 = l+(r-l)/<span class="number">3</span>;</span><br><span class="line">        ll m2 = r-(r-l)/<span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">getC</span>(m1)&lt;<span class="built_in">getC</span>(m2)) r=m2;</span><br><span class="line">        <span class="keyword">else</span> l=m1;</span><br><span class="line">    &#125;</span><br><span class="line">    ll mnans=INF;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r) <span class="built_in">chmin</span>(mnans,<span class="built_in">getC</span>(i));</span><br><span class="line">    cout &lt;&lt; mnans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1012)HDU7468.æ­»äº¡ä¹‹ç»„</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ•°ç»„ $a$ ï¼ˆ$n$ æ˜¯4çš„å€æ•°ï¼‰ï¼Œ$a_i$ è¡¨ç¤ºç¬¬ $i$ ä¸ªé˜Ÿä¼çš„å®åŠ›ã€‚<br>æ¯4ä¸ªé˜Ÿä¼ä¸€ç»„ï¼Œâ€œæ­»äº¡ä¹‹ç»„â€è‡³å°‘ç¬¦åˆä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š</p><ol><li>è‡³å°‘æœ‰2ä¸ªé˜Ÿä¼çš„å®åŠ› $&gt; L$</li><li>æœ€å¤§å®åŠ›å’Œæœ€å°å®åŠ›ä¹‹å·® $\le D$</li></ol><p>é—®æ˜¯å¦å­˜åœ¨ä¸€ç§åˆ†ç»„æ–¹æ¡ˆä½¿å¾—ç¬¬ $1$ ç»„æ‰€åœ¨çš„å°ç»„ä¸æ˜¯â€œæ­»äº¡ä¹‹ç»„â€ã€‚</p><h2 id="è§£é¢˜æ€è·¯-5">è§£é¢˜æ€è·¯</h2><p>ä¸ºäº†ä¸æ»¡è¶³æ¡ä»¶1ï¼Œå­˜åœ¨è‡³å°‘3ä¸ªé˜Ÿä¼çš„å®åŠ› $\le L$ å³å¯ã€‚<br>ç„¶åæŠŠè¿™3ä¸ªé˜Ÿä¼ $t_1,t_2,t_3$ æ‹¿å‡ºæ¥ã€‚<br>ä¸ºäº†ä¸æ»¡è¶³æ¡ä»¶2ï¼Œæ‰€æœ‰é˜Ÿä¼çš„å®åŠ›ä¸­ï¼Œæœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹å·® $&gt; D$ å³å¯ã€‚<br>ç„¶åæŠŠå®åŠ›æœ€å¤§çš„é˜Ÿä¼ $t_4$ æ‹¿å‡ºæ¥ã€‚</p><p>å¯¹é˜Ÿä¼1ï¼ˆ$a_1$ï¼‰è¿›è¡Œè®¨è®ºï¼š</p><ul><li>å¦‚æœ $a_1&gt;L$ï¼Œæ›¿æ¢ $t4$ ï¼Œé‡æ–°åˆ¤å®š</li><li>å¦‚æœ $a_1\le L$ï¼Œæ›¿æ¢ $t3$</li></ul><h2 id="å‚è€ƒç¨‹åº-5">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,l,d;cin &gt;&gt; n &gt;&gt; l &gt;&gt; d;</span><br><span class="line">    <span class="built_in">create_vec</span>(v,n);</span><br><span class="line">    ll t1 = v[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">SORT</span>(v);</span><br><span class="line">    ll cntll=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x:v) <span class="keyword">if</span>(x&lt;l) cntll++;</span><br><span class="line">    <span class="keyword">if</span>(cntll&lt;<span class="number">3</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t1&gt;=l)&#123;</span><br><span class="line">        <span class="keyword">if</span>(t1-v.<span class="built_in">front</span>()&lt;=d) cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(v.<span class="built_in">back</span>()-v.<span class="built_in">front</span>()&lt;=d) cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡03</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡04</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD04.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD04.html</id>
    <published>2024-07-24T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.295Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81599">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥4</a></p><h1>A.LCT</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€æ£µæœ‰æ ¹æ ‘ï¼Œé—®æŒ‰é¡ºåºç»™å®šçš„å‰ $i$ æ¡è¾¹ç»„æˆçš„æ£®æ—ä¸­ï¼Œä»¥ $c_i$ ä¸ºæ ¹çš„æ ‘çš„æ·±åº¦ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>æŒ‰æ­¥éª¤ç”Ÿæˆæ£®æ—çš„è¿‡ç¨‹ï¼Œä¸å¹¶æŸ¥é›†åˆå¹¶çš„è¿‡ç¨‹ä¸€è‡´ã€‚<br>å› æ­¤ç”¨å¸¦æƒå¹¶æŸ¥é›†ï¼Œç»´æŠ¤æ¯ä¸ªç‚¹çš„æ·±åº¦å’Œç­”æ¡ˆï¼Œåˆ©ç”¨è·¯å¾„å‹ç¼©é™ä½æ—¶é—´å¤æ‚åº¦ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">DSU</span>&#123;</span><br><span class="line">    vector&lt;ll&gt; parents, size, dep, ans;</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">DSU</span><span class="params">(ll n)</span> : parents(n + <span class="number">1</span>), size(n + <span class="number">1</span>, <span class="number">1</span>), dep(n + <span class="number">1</span>, <span class="number">0</span>), ans(n + <span class="number">1</span>, <span class="number">0</span>) &#123;</span> <span class="built_in">iota</span>(parents.<span class="built_in">begin</span>(), parents.<span class="built_in">end</span>(), <span class="number">0</span>); &#125;</span><br><span class="line">    <span class="function">ll <span class="title">find</span><span class="params">(ll x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == parents[x]) <span class="keyword">return</span> x;</span><br><span class="line">        ll px = <span class="built_in">find</span>(parents[x]);</span><br><span class="line">        dep[x]+=dep[parents[x]]; </span><br><span class="line">        <span class="keyword">return</span> parents[x]=px;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(ll a, ll b)</span></span></span><br><span class="line"><span class="function">    </span>&#123; <span class="comment">// merge b into a</span></span><br><span class="line">        ll pa = <span class="built_in">find</span>(a);</span><br><span class="line">        parents[b] = a;</span><br><span class="line">        dep[b] = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="built_in">chmax</span>(ans[pa],ans[b]+dep[b]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ll <span class="title">query</span><span class="params">(ll x)</span> </span>&#123;<span class="keyword">return</span> ans[x];&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="function">DSU <span class="title">dsu</span><span class="params">(n)</span></span>;</span><br><span class="line">    ll a,b,q;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        dsu.<span class="built_in">merge</span>(a,b);</span><br><span class="line">        cin &gt;&gt; q;</span><br><span class="line">        cout &lt;&lt; dsu.<span class="built_in">query</span>(q) &lt;&lt; <span class="built_in">Presentation</span>(i,n<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>C.Sort4</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ’åˆ— $p$ ï¼ˆå³åºåˆ—ä¸­ $1$ ~ $n$ çš„æ¯ä¸ªæ•°æ°å¥½å‡ºç°ä¸€æ¬¡ï¼‰ã€‚<br>æ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©4ä¸ªå…ƒç´ ï¼Œå¹¶ä»»æ„äº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚<br>æ±‚ä½¿å¾—æ’åˆ—å˜ä¸ºå‡åºçš„æœ€å°‘æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æŠŠæ’åˆ—çœ‹ä½œç”± $i\rightarrow p_i$ï¼ˆä¸‹æ ‡ä»1å¼€å§‹ï¼‰ æ„æˆçš„å›¾ï¼Œè¿™ä¸ªå›¾ä¸­æœ‰è‹¥å¹²ä¸ªç¯ï¼Œè¡¨ç¤ºè¿™ä¸ªç¯ä¸­çš„å…ƒç´ å¯ä»¥é€šè¿‡äº¤æ¢å›åˆ°åŸæ¥çš„ä½ç½®ã€‚</p><p>é•¿åº¦ä¸º $3,4$ çš„ç¯ï¼Œå¯ä»¥é€šè¿‡ä¸€æ¬¡æ“ä½œè¿˜åŸï¼›<br>é•¿åº¦ä¸º $2$ çš„ç¯ï¼Œå¯ä»¥ $2$ ä¸ªç¯ä¸€ç»„é€šè¿‡ä¸€æ¬¡æ“ä½œè¿˜åŸï¼›<br>é•¿åº¦å¤§äº $4$ çš„ç¯ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥è®© $3$ ä¸ªå…ƒç´ å›åˆ°åŸæ¥çš„ä½ç½®ï¼Œä½¿å¾—ç¯çš„é•¿åº¦å‡å°‘ $3$ï¼Œç›´åˆ°ç¯çš„é•¿åº¦å°äºç­‰äº $4$ã€‚</p><p>æ ¹æ®è¿™ä¸ªåŸåˆ™ï¼Œè®¡ç®—æœ€ç»ˆç­”æ¡ˆã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">v</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) cin &gt;&gt; v[i];</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n+<span class="number">1</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">    ll ans=<span class="number">0</span>,of=<span class="number">0</span>; <span class="comment">//of:æœ€ç»ˆé•¿åº¦ä¸º2çš„ç¯çš„æ•°é‡</span></span><br><span class="line">    map&lt;ll,ll&gt; mp;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[v[i]]) <span class="keyword">continue</span>;</span><br><span class="line">        ll cnt=<span class="number">1</span>,cur=v[i];</span><br><span class="line">        vis[i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(cur!=i)&#123;</span><br><span class="line">            vis[cur]=<span class="number">1</span>;</span><br><span class="line">            cur = v[cur];</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt==<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(cnt%<span class="number">3</span>==<span class="number">1</span>) ans+=(cnt<span class="number">-1</span>)/<span class="number">3</span>; <span class="comment">//æœ€ç»ˆé•¿åº¦ä¸º4çš„ç¯</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cnt%<span class="number">3</span>==<span class="number">2</span>)&#123; <span class="comment">//æœ€ç»ˆé•¿åº¦ä¸º2çš„ç¯</span></span><br><span class="line">            ans+=(cnt<span class="number">-2</span>)/<span class="number">3</span>;</span><br><span class="line">            of++;</span><br><span class="line">        &#125;<span class="keyword">else</span> ans+=cnt/<span class="number">3</span>; <span class="comment">//æœ€ç»ˆé•¿åº¦ä¸º3çš„ç¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans+(of+<span class="number">1</span>)/<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.Yet Another Origami Problem</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„åºåˆ— $a$ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€ä¸ªå…ƒç´  $a_i$ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œä¹‹ä¸€ï¼š</p><ol><li>æ‰€æœ‰åŸæ¥æ¯” $a_i$ å°çš„æ•° $a_j$ ï¼š $a_j=a_i+2(a_i-a_j)$ ï¼Œå³åŸæ¥ $a_j$ æ¯” $a_i$ å°å¤šå°‘ï¼Œç°åœ¨å°±æ¯” $a_i$ å¤§å¤šå°‘ã€‚</li><li>æ‰€æœ‰åŸæ¥æ¯” $a_i$ å¤§çš„æ•° $a_j$ ï¼š $a_j=a_i-2(a_j+a_i)$ ï¼Œå³åŸæ¥ $a_j$ æ¯” $a_i$ å¤§å¤šå°‘ï¼Œç°åœ¨å°±æ¯” $a_i$ å°å¤šå°‘ã€‚</li></ol><p>é—®ä»»æ„æ¬¡æ“ä½œåï¼Œåºåˆ— $a$ ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ ä¹‹å·® $max(a)-min(a)$ çš„æœ€å°å€¼ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>æ¯æ¬¡æ“ä½œï¼š</p><ol><li>å¯¹åºåˆ— $a$ æ’åºå»é‡ï¼Œæ±‚å‡ºå·®åˆ†æ•°ç»„ $d$ ã€‚</li><li>é€‰å®šæ¬¡å°å…ƒç´  $a_2$ ï¼Œæ‰§è¡Œæ“ä½œ $1$ ï¼Œä½¿å¾—æœ€å°å…ƒç´  $a_1 = a_2 - d_1$ å˜æˆ $a_1â€™ = a_2 + d_1$ ã€‚</li></ol><p>å‡è®¾é‡æ–°æ’åºå»é‡åï¼Œæ–°çš„ $a_1â€™$ ç›¸é‚»çš„ä¸¤é¡¹ä¸º $a_j,a_{j+1}$ ï¼Œæ­¥éª¤1ä¸­è¿™ä¸¤é¡¹çš„å·®åˆ†æ˜¯ $d_j=a_{j+1}-a_j$ ã€‚<br>é‚£ä¹ˆå½“ $a_iâ€™$ æ’åˆ°ä¸­é—´æ—¶ï¼Œæ–°çš„å·®åˆ†æ•°ç»„çš„å˜åŒ–å¦‚ä¸‹ï¼š</p><ol><li>ç¬¬1é¡¹ $d_1$ åˆ å»ï¼ˆå› ä¸º $a_1$ å˜æˆäº† $a_1â€™$ åç§»ï¼‰</li><li>åŸæœ¬çš„ $d_j$ è¢«æ›¿æ¢ä¸º $d_jâ€™=d_1-\sum\limits_{k=2}^{j-1}d_k$ ï¼Œ$dâ€™_{j+1}=d_j-d_jâ€™$ ã€‚</li></ol><p>ç¬¬2ç‚¹å˜åŒ–å¯èƒ½æ¯”è¾ƒéš¾ç†è§£ï¼Œç»™å‡ºå¦‚ä¸‹ä¾‹å­ï¼š</p><ul><li>$a = [1,6,8,10,13,15]$ ï¼ˆåŸåºåˆ—æ’åºå»é‡ï¼‰</li><li>$d = [5,2,2,3,2]$ ï¼ˆå·®åˆ†æ•°ç»„ï¼‰</li><li>$a_1=1,a_2=6,d_1=5$ ï¼ˆé€‰å®šæ¬¡å°å…ƒç´ åšæ“ä½œ1ï¼‰</li><li>$a_1â€™=a_2+d_1=11$</li><li>$aâ€™ = [6,8,10,11,13,15]$ ï¼ˆæ–°åºåˆ—æ’åºå»é‡ï¼Œ$a_1â€™$ ä½äºç¬¬4ä½ï¼‰</li><li>$dâ€™ = [2,2,1,2,2]$ ï¼ˆæ–°å·®åˆ†æ•°ç»„ï¼‰</li></ul><p>å·®åˆ†æ•°ç»„çš„å˜åŒ–ï¼š</p><ol><li>ç¬¬1é¡¹ $d_1=5$ åˆ å»</li><li>ç¬¬4é¡¹ $3$ å˜ä¸ºï¼š$d_1-d_2-d_3=1$ å’Œ $3-1=2$</li></ol><p>è¿™ä¸ªå˜åŒ–çš„æ„ä¹‰å°±åœ¨äºï¼Œå®ƒè¯æ˜äº†ä»»æ„æ¬¡æ“ä½œåçš„å·®åˆ†æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ˜¯åŸå·®åˆ†æ•°ç»„ä¸­å…ƒç´ çš„çº¿æ€§ç»„åˆï¼Œä¸”éšç€æ“ä½œæ¬¡æ•°å¢åŠ ï¼Œ$\sum d_i$ é€æ¸å‡å°ï¼Œç›´åˆ° $a$ ä»…å‰©2ä¸ªå…ƒç´ ã€‚<br>çº¿æ€§ç»„åˆèƒ½è¾¾åˆ°çš„æœ€å°å€¼ä¸º $\gcd\limits_{i=1}^{n-1}d_i$ ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">create_vec</span>(v,n);</span><br><span class="line">    <span class="built_in">SORT</span>(v);</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)</span><br><span class="line">        ans = __gcd(ans,v[i]-v[i<span class="number">-1</span>]);</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>G.Horse Drink Water</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>å°†å†›é¥®é©¬é—®é¢˜ï¼Œå°†å†›åœ¨ç¬¬ä¸€è±¡é™çš„æ•´ç‚¹ $(x_0,y_0)$ ï¼Œæ²³æµç”± $x$ æ­£åŠè½´å’Œ $y$ æ­£åŠè½´ç»„æˆã€‚<br>é—®å°†å†›ç¢°åˆ°æ²³æµå†å‰å¾€ $(x_1,y_1)$ çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>å°†èµ·ç‚¹ä»¥ $x$ è½´ã€ $y$ è½´ä¸ºå¯¹ç§°è½´ï¼Œåˆ†åˆ«å¯¹ç§°åˆ°ç¬¬å››ã€äºŒè±¡é™ï¼Œæ¯”è¾ƒè¿™ä¸¤ä¸ªç‚¹å’Œç»ˆç‚¹çš„è·ç¦»ï¼Œå–æœ€å°å€¼ã€‚</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ld xx1,xx2,yy1,yy2;</span><br><span class="line">    cin &gt;&gt; xx1 &gt;&gt; yy1 &gt;&gt; xx2 &gt;&gt; yy2;</span><br><span class="line">    ld ans1,ans2;</span><br><span class="line">    ans1 = <span class="built_in">sqrt</span>((xx1-xx2)*(xx1-xx2)+(yy1+yy2)*(yy1+yy2));</span><br><span class="line">    ans2 = <span class="built_in">sqrt</span>((xx1+xx2)*(xx1+xx2)+(yy1-yy2)*(yy1-yy2));</span><br><span class="line">    <span class="built_in">print_float</span>(<span class="built_in">min</span>(ans1,ans2),<span class="number">10</span>);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>I</h1><p>// TODO</p>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡04</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡03</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD03.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD03.html</id>
    <published>2024-07-22T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.295Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81598">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥3</a></p><h1>A.Bridging the Gap 2</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>$n$ä¸ªäººè¿‡æ²³ï¼Œç¬¬ $i$ ä¸ªäººåˆå§‹æœ‰ $h_i$ ç‚¹ä½“åŠ›ã€‚<br>ç”±äºèˆ¹çš„é™åˆ¶ï¼Œæ¯æ¬¡è¿‡æ²³ï¼ˆæˆ–è¿”å›ï¼‰è‡³å°‘éœ€è¦ä¹˜å $l$ äººï¼ˆæ¥åˆ’èˆ¹ï¼‰ï¼Œè‡³å¤šå¯ä»¥ä¹˜å $r$ äººï¼Œ<strong>æ¯ä¸ª</strong>ä¹˜èˆ¹çš„äººéƒ½ä¼šæ¶ˆè€— $1$ ç‚¹ä½“åŠ›ã€‚ä½“åŠ›ä¸º $0$ çš„äººæ— æ³•ä¹˜èˆ¹ã€‚<br>æ±‚å¯¹äºç»™å®šçš„æ¡ä»¶ï¼Œæ˜¯å¦èƒ½å¤Ÿä½¿æ‰€æœ‰äººè¿‡æ²³ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>å‡è®¾åˆå§‹æ‰€æœ‰äººåœ¨å·¦å²¸ï¼Œè€ƒè™‘ä¸€ç§è´ªå¿ƒæ¨¡æ‹Ÿçš„åšæ³•ï¼š</p><ul><li>ä»åœ¨å·¦å²¸çš„æ‰€æœ‰äººä¸­é€‰å– $l$ ä¸ªä½“åŠ›æœ€å¤§çš„äººåˆ’èˆ¹ï¼Œå¸¦ $r-l$ ä¸ªä½“åŠ›æœ€å°çš„äººå»å³å²¸ã€‚</li><li>ä»åœ¨å³å²¸çš„æ‰€æœ‰äººä¸­é€‰å– $l$ ä¸ªä½“åŠ›æœ€å¤§çš„äººåˆ’èˆ¹è¿”å›å·¦å²¸ã€‚</li><li>é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰äººéƒ½åˆ°è¾¾å³å²¸ï¼Œæˆ–è€…æ— æ³•ç»§ç»­ã€‚</li></ul><p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé™¤å»æœ€åä¸€æ¬¡åˆ’åˆ°å³å²¸çš„ $r$ ä¸ªäººï¼Œæ¯æ¬¡èƒ½è¿è¾“çš„äººæ•°ä¸º $r-l$ ã€‚<br>æœ€ä½<strong>å¾€è¿”</strong>çš„æ¬¡æ•°ä¸º $turn = \lceil \dfrac{n-r}{r-l}\rceil$ ï¼Œä¸”æœ€ä¼˜ï¼Œå› ä¸ºå¾€è¿”è¶Šå°‘å¯¹ä½“åŠ›çš„è¦æ±‚è¶Šä½ã€‚</p><p>å¯¹äºä¸ªäººï¼Œé™¤è‡ªå·±å‰å¾€å³å²¸çš„1ç‚¹ä½“åŠ›ï¼Œå¤šä½™çš„ä½“åŠ›å¯ä»¥ç”¨äºåˆ’èˆ¹å¸¦äººï¼Œå¾€è¿”ä¸€æ¬¡éœ€è¦2ç‚¹ä½“åŠ›ã€‚<br>å› æ­¤ç¬¬ $i$ ä¸ªäººèƒ½å¤Ÿå‚ä¸çš„å¾€è¿”æ¬¡æ•°ä¸º $\lfloor \dfrac{h_i-1}{2}\rfloor$ ã€‚<br>ç”±äºåªå­˜åœ¨ $turn$ æ¬¡å¾€è¿”ï¼Œå› æ­¤ç¬¬ $i$ ä¸ªäººèƒ½å¤Ÿå‚ä¸çš„å¾€è¿”æ¬¡æ•°ä¸º $\min(\lfloor \dfrac{h_i-1}{2}\rfloor,turn)$ ã€‚</p><p>è®¡ç®—æ‰€æœ‰äººèƒ½å¤Ÿå‚ä¸çš„å¾€è¿”æ¬¡æ•°ä¹‹å’Œï¼Œå¦‚æœå¤§äºç­‰äº $turn*l$ ï¼Œåˆ™æŒ‰ç…§ä¸Šè¿°è´ªå¿ƒæ¨¡æ‹Ÿçš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿æ‰€æœ‰äººè¿‡æ²³ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><blockquote><p>ç¨‹åºæ˜¯å‰¯æœºé•¿æ ¹æ®è§£é¢˜æ€è·¯å†™çš„ï¼Œå±…ç„¶Aäº†()</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,l,r; cin &gt;&gt; n &gt;&gt; l &gt;&gt; r;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">v</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp;x:v) cin &gt;&gt; x;</span><br><span class="line">    ll turn = (n-r)/(r-l) + ((n-r)%(r-l)!=<span class="number">0</span>);</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x:v) sum += <span class="built_in">min</span>((x<span class="number">-1</span>)/<span class="number">2</span>,turn);</span><br><span class="line">    cout &lt;&lt; (sum&gt;=turn*l?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>B.Crash Test</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>åˆå§‹è·ç¦»å¢™å£çš„è·ç¦»ä¸º $d$ ã€‚<br>æ¯æ¬¡å‰è¿›æœ‰ $n$ ç§é•¿åº¦å¯ä»¥é€‰æ‹©ï¼š$h_1,h_2,\cdots,h_n$ã€‚æ¯æ¬¡å‰è¿›çš„é•¿åº¦å¯ä»¥æ˜¯ä»»æ„ä¸€ç§é•¿åº¦ã€‚<br>å¦‚æœé€‰æ‹©çš„é•¿åº¦ $h_i$ å¤§äºå½“å‰ä¸å¢™å£çš„è·ç¦» $dâ€™$ ï¼Œå°†ä¼šé€€åå¤šä½™çš„è·ç¦»ï¼Œå³æ–°çš„è·ç¦»ä¸º $h_i - dâ€™$ ã€‚<br>æ±‚åœ¨ä»»æ„æ¬¡ï¼ˆåŒ…æ‹¬0æ¬¡ï¼‰å‰è¿›åï¼Œä¸å¢™å£çš„æœ€å°è·ç¦»ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p><a href="https://baike.baidu.com/item/%E8%A3%B4%E8%9C%80%E5%AE%9A%E7%90%86/5186593">è£´èœ€å®šç†</a>ï¼šå¯¹äºé0æ•´æ•° $a,b$ ï¼Œå¯¹ä»»æ„æ•´æ•° $x,y$ æœ‰ $gcd(a,b)|ax+by$ æˆç«‹ï¼Œå³ $gcd(a,b)$ æ˜¯æ‰€æœ‰ $a,b$ çš„çº¿æ€§ç»„åˆä¸­ï¼Œç»å¯¹å€¼æœ€å°çš„é0æ•´æ•°ã€‚</p><p>è£´èœ€å®šç†æ‰©å±•åˆ°å¤šæ•´æ•°çš„æƒ…å†µä»ç„¶æˆç«‹ã€‚</p><p>å› æ­¤è®¡ç®—å‡º $g=\gcd\limits_{i=1}^n(h_i)$ ï¼Œ$g$ çš„æ„ä¹‰æ˜¯é€šè¿‡å¯¹ $h_i$ çš„æŸç§çº¿æ€§ç»„åˆï¼Œèƒ½å¤Ÿå¾—åˆ°çš„æœ€å°å‰è¿›è·ç¦»ã€‚</p><p>ç„¶åæ¯ä¸€æ­¥è§†ä¸ºèµ° $g$ ï¼Œä»¥æ­¤æ±‚å¾—ä¸æ’å¢™ç­”æ¡ˆ $d%g$ ä¸æ’å¢™ç­”æ¡ˆ $g-d%g$ ï¼Œå–è¾ƒå°å€¼å³å¯ã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,d; cin &gt;&gt; n &gt;&gt; d;</span><br><span class="line">    <span class="built_in">create_vec</span>(v,n);</span><br><span class="line">    ll g = v[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> x:v) g = __gcd(g,x);</span><br><span class="line">    cout &lt;&lt; <span class="built_in">min</span>(d%g,g-d%g) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>D.Dominoes!</h1><p>//TODO</p><h1>J.Rigged Games</h1><p>//TODO</p><h1>L.Sudoku and Minesweeper</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»å…¸æ•°ç‹¬åœ¨ $9\times 9$ å¤§å°çš„æ£‹ç›˜æ ¼å†…è¿›è¡Œï¼Œæ¯ä¸€è¡Œã€æ¯ä¸€åˆ—ã€$9$ ä¸ª $3\times 3$ çš„å°æ–¹å—å†…ï¼Œæ•°å­— $1-9$ æ°å¥½å‡ºç°ä¸€æ¬¡ã€‚</p><p>æ‰«é›·æ˜¯ä¸€æ¬¾åœ¨æ£‹ç›˜æ ¼å†…è¿›è¡Œçš„æ¸¸æˆï¼Œä¸­å¿ƒæ•°å­—è¡¨ç¤ºå‘¨å›´ $8$ æ ¼åŒ…å«åœ°é›·çš„æ•°é‡ã€‚</p><p>ç°ç»™å®šä¸€ä¸ª $9\times 9$ æ•°å­—çŸ©é˜µè¡¨ç¤ºä¸€ä¸ªå·²ç»å®Œæˆçš„åˆæ³•ç»å…¸æ•°ç‹¬ï¼Œå¯ä»¥å°†é‡Œé¢çš„æ•°å­—æ›¿æ¢æˆåœ°é›·ï¼Œä½†å¿…é¡»ä¿ç•™è‡³å°‘ $1$ ä¸ªæ•°å­—ï¼Œæ±‚ä¸€ä¸ªåˆæ³•çš„æ‰«é›·æ¸¸æˆå¸ƒå±€ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>é™¤äº†è¾¹ç¼˜ä¹‹å¤–ï¼Œä¸­é—´ $7\times 7$ èŒƒå›´å†…å¿…ç„¶å‡ºç°æ•°å­— $8$ ã€‚<br>è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ•°å­—ï¼Œåªéœ€è¦æŠŠå®ƒä¿ç•™ï¼Œå…¶ä½™æ‰€æœ‰æ•°å­—å…¨éƒ¨æ›¿æ¢æˆåœ°é›·ï¼Œå°±æ˜¯ä¸€ä¸ªåˆæ³•çš„æ‰«é›·æ¸¸æˆå¸ƒå±€ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">vs</span><span class="params">(<span class="number">9</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp;s:vs) cin &gt;&gt; s;</span><br><span class="line">    <span class="type">int</span> fl=<span class="number">0</span>,i8,i8;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,<span class="number">7</span>)&#123;</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">1</span>,<span class="number">7</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vs[i][j]==<span class="string">&#x27;8&#x27;</span>)&#123;</span><br><span class="line">                i8=i; i8=j; fl=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">if</span>(fl) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,<span class="number">8</span>)&#123;</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">0</span>,<span class="number">8</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i==i8&amp;&amp;j==i8) cout &lt;&lt; <span class="string">&#x27;8&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> cout &lt;&lt; <span class="string">&#x27;*&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡03</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡02</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU02.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU02.html</id>
    <published>2024-07-21T16:00:00.000Z</published>
    <updated>2024-08-03T12:15:50.329Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A82%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ2ï¼‰</a></p><h1>(1001)HDU7445.é¸¡çˆª</h1><p><strong>æ„é€ </strong></p><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ä¸€ä¸ªé¸¡çˆªç”±ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹å’Œ3æ¡ï¼ˆä¸å«ç«¯ç‚¹çš„ï¼‰è¾¹æ„æˆã€‚å¦‚ä¸‹å›¾ä¸­ï¼Œä¸‰æ¡è¾¹å’ŒèŠ‚ç‚¹ $1$ æ„æˆä¸€ä¸ªé¸¡çˆªï¼ŒèŠ‚ç‚¹ $2,3,4$ ä¸å±äºè¿™ä¸ªé¸¡çˆªã€‚<br><img src="/images/ACM//2024Summer_HDU02_1001_1.png" alt="image"></p><p>ç»™å®šæ­£æ•´æ•° $n$ ï¼Œå…è®¸ä½¿ç”¨ $n$ æ¡è¾¹å’Œä»»æ„ä¸ªèŠ‚ç‚¹ã€‚è¦æ±‚æ„é€ ä¸€å¼ å›¾ï¼Œåœ¨åŒ…å«å°½å¯èƒ½æœ€å¤šçš„é¸¡çˆªçš„æ¡ä»¶ä¸‹ï¼ŒæŒ‰é¡ºåºè¾“å‡ºå›¾çš„ $n$ æ¡è¾¹æ—¶çš„å­—å…¸åºæœ€å°ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>ä¸é™åˆ¶èŠ‚ç‚¹æ•°çš„æƒ…å†µä¸‹ï¼Œæƒ³è¦æ„é€ æœ€å¤š$n/3$ï¼ˆæ•´é™¤ï¼‰ä¸ªçš„é¸¡çˆªæ˜¯å¾ˆå®¹æ˜“çš„ï¼Œé—®é¢˜çš„å…³é”®æ˜¯å¦‚ä½•æ„é€ ä½¿å¾—å­—å…¸åºæœ€å°ã€‚</p><p>å…ˆè®¨è®º $n$ æ˜¯3çš„å€æ•°çš„æƒ…å†µã€‚<br>ç”±äºä¸€ä¸ªä¸­å¿ƒç‚¹åªèƒ½è¢«ä¸€ä¸ªé¸¡çˆªä½¿ç”¨ï¼Œè´ªå¿ƒçš„æƒ³æ³•ä¾¿æ˜¯è®©èŠ‚ç‚¹ $1$~$n/3$ æˆä¸ºä¸­å¿ƒç‚¹ï¼Œä¸”ä¾æ¬¡å°½é‡è®©èŠ‚ç‚¹ $1,2,3$ è¿æ¥æ›´å¤šçš„ç‚¹ã€‚</p><p>$4$~$n/3$ è¿™äº›ç‚¹é¦–å…ˆä½œä¸ºä¸­å¿ƒç‚¹å’Œ $1,2,3$ ç›¸è¿ã€‚<br>$1,2,3$ ä¸‰ä¸ªç‚¹äº’ç›¸è¿æ¥åï¼Œæ— æ³•æ„æˆä»¥ $1,2,3$ ä¸ºä¸­å¿ƒçš„é¸¡çˆªï¼Œå› æ­¤éœ€è¦å€ŸåŠ© $n/3+1, n/3+2, n/3+3$ è¿™ä¸‰ä¸ªç‚¹è¿›è¡Œæ„é€ ã€‚</p><p>è¿æ¥å›¾å¦‚ä¸‹ï¼š<br><img src="/images/ACM//2024Summer_HDU02_1001_2.png" alt="image"></p><p>å…¶ä»–æƒ…å†µï¼š<br>å¯¹äº $n$ ä¸æ˜¯3çš„å€æ•°çš„æƒ…å†µï¼Œå°†å¤šä½™çš„1æˆ–2ä¸ªç‚¹è¿æ¥åˆ°èŠ‚ç‚¹1ä¸Šã€‚<br>$n\le 6$æ—¶ï¼Œç”±äºèŠ‚ç‚¹æ•°å¤ªå°‘ï¼Œéœ€è¦å•ç‹¬æ„é€ ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;pll&gt;&gt; ans=&#123;</span><br><span class="line">    &#123;&#125;, <span class="comment">// 0</span></span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;&#125;,</span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>&#125;&#125;,</span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">4</span>&#125;&#125;, <span class="comment">// 1</span></span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">5</span>&#125;&#125;,</span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">5</span>&#125;,&#123;<span class="number">1</span>,<span class="number">6</span>&#125;&#125;,</span><br><span class="line">    &#123;&#123;<span class="number">1</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">5</span>&#125;,&#123;<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">2</span>,<span class="number">4</span>&#125;&#125;, <span class="comment">// 2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">6</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> p:ans[n])&#123;</span><br><span class="line">            cout &lt;&lt; p.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">        &#125;<span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;pll&gt; edges;</span><br><span class="line">    ll cnt = n/<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,cnt+<span class="number">3</span>) edges.<span class="built_in">emplace_back</span>(<span class="number">1</span>,i); </span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">3</span>,cnt+<span class="number">2</span>) edges.<span class="built_in">emplace_back</span>(<span class="number">2</span>,i);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">4</span>,cnt+<span class="number">1</span>) edges.<span class="built_in">emplace_back</span>(<span class="number">3</span>,i); </span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n%<span class="number">3</span>) edges.<span class="built_in">emplace_back</span>(<span class="number">1</span>,cnt+<span class="number">3</span>+i);</span><br><span class="line">    <span class="built_in">SORT</span>(edges);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> p:edges)&#123;</span><br><span class="line">        cout &lt;&lt; p.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; p.second &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;Test:&quot; &lt;&lt; edges.size() &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1003)HDU7447.ç»å¯¹ä¸æ¨¡æ‹Ÿçš„ç®€å•é­”æ–¹</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªä¸‰é˜¶é­”æ–¹ï¼Œç”¨$1$~$6$è¡¨ç¤º6ä¸ªé¢çš„é¢œè‰²ã€‚<br>é­”æ–¹ä»åˆå§‹è¿˜åŸçŠ¶æ€èµ·ï¼Œä¾§é¢è¢«æ‰­è½¬äº†ä¸è¶…è¿‡3æ¬¡ï¼Œä¸”æœ‰ä¸€ä¸ªè§’ä¸Šçš„ä¸¤ç‰‡é¢œè‰²è´´çº¸å¯èƒ½è´´é”™ã€‚<br>ç¡®å®šé­”æ–¹çš„è´´çº¸æ˜¯å¦è¢«è´´é”™ã€‚å¦‚æœæœ‰è´´é”™ï¼Œè¾“å‡ºè´´é”™é‚£ä¸ªè§’çš„ä¸‰ä¸ªé¢œè‰²ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>æ‰­è½¬ä¸‰æ¬¡çš„æ“ä½œå¯¹äºé­”æ–¹çš„è§’æ¥è¯´æ²¡æœ‰ä»»ä½•å½±å“ï¼Œåªæ˜¯è™šæ™ƒä¸€æªï¼ˆé¢˜ç›®ä¸­ä¹Ÿæç¤ºäº†â€œç»å¯¹ä¸æ¨¡æ‹Ÿâ€ï¼‰ã€‚</p><blockquote><p>ä½†æ˜¯èµ›æ—¶è¿˜æ˜¯æœ‰ç¥é€Ÿåº¦å†™æ¨¡æ‹Ÿè€Œä¸”ä¸€éè¿‡äº†%%%%</p></blockquote><p>åªéœ€è¦å…ˆæŠŠæ­£å¸¸çŠ¶æ€çš„é­”æ–¹çš„8ä¸ªè§’æŒ‰åŒä¸€é¡ºåºï¼ˆå¦‚é¡ºæ—¶é’ˆï¼‰è®°å½•ä¸‹æ¥ï¼Œç»Ÿä¸€ä»¥$1,6$å¼€å¤´ä»¥å”¯ä¸€ç¡®å®šä¸‰å…ƒç»„ã€‚<br>å†æŠŠè¾“å…¥çš„é­”æ–¹çš„8ä¸ªè§’æŒ‰åŒä¸€é¡ºåºï¼ˆé¡ºæ—¶é’ˆï¼‰è®°å½•ä¸‹æ¥ï¼Œç»Ÿä¸€ä»¥$1,6$å¼€å¤´ï¼Œç„¶ååœ¨æ­£å¸¸çŠ¶æ€çš„è®°å½•ä¸­æŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°çš„å°±æ˜¯è¢«è´´é”™è´´çº¸çš„è§’ã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">cor</span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="built_in">cor</span>(<span class="type">int</span> _a,<span class="type">int</span> _b,<span class="type">int</span> _c):<span class="built_in">a</span>(_a),<span class="built_in">b</span>(_b),<span class="built_in">c</span>(_c)&#123;&#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==(cor t)<span class="type">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a==t.a&amp;&amp;b==t.b&amp;&amp;c==t.c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">srt</span><span class="params">()</span></span>&#123; <span class="comment">//æŒ‰å¤§å°æ’åº</span></span><br><span class="line">        <span class="keyword">if</span>(a&gt;b) <span class="built_in">swap</span>(a,b);</span><br><span class="line">        <span class="keyword">if</span>(b&gt;c) <span class="built_in">swap</span>(b,c);</span><br><span class="line">        <span class="keyword">if</span>(a&gt;b) <span class="built_in">swap</span>(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mkstd</span><span class="params">()</span></span>&#123; <span class="comment">//æŠŠä¸‰å…ƒç»„åŒ–ä¸ºä»¥1æˆ–6å¼€å¤´çš„å½¢å¼</span></span><br><span class="line">        <span class="type">int</span> t;</span><br><span class="line">        <span class="keyword">while</span>(a!=<span class="number">1</span>&amp;&amp;a!=<span class="number">6</span>)&#123;</span><br><span class="line">            t=a; a=b; b=c; c=t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//åŸå§‹é­”æ–¹å…«ä¸ªè§’ï¼Œé¡ºæ—¶é’ˆ</span></span><br><span class="line">vector&lt;cor&gt; std_cor = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>&#125;,&#123;<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>&#125;,&#123;<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>&#125;,&#123;<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>&#125;,&#123;<span class="number">6</span>,<span class="number">2</span>,<span class="number">5</span>&#125;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">mf</span><span class="params">(<span class="number">9</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; s:mf) cin &gt;&gt; s;</span><br><span class="line">    vector&lt;cor&gt; corners=&#123;<span class="comment">//ç»™å®šé­”æ–¹çš„å…«ä¸ªè§’ï¼Œé¡ºæ—¶é’ˆ</span></span><br><span class="line">        &#123;mf[<span class="number">0</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">3</span>][<span class="number">11</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">3</span>][<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">8</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">11</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">3</span>][<span class="number">8</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">3</span>][<span class="number">9</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">0</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">5</span>][<span class="number">8</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">8</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">9</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">6</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">2</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">3</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">2</span>][<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">3</span>][<span class="number">2</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">6</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">6</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">5</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">        &#123;mf[<span class="number">3</span>][<span class="number">6</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">2</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>,mf[<span class="number">3</span>][<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; cor:corners) cor.<span class="built_in">mkstd</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; cor:corners)&#123;</span><br><span class="line">        <span class="type">int</span> fl=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; st:std_cor) <span class="keyword">if</span>(st==cor) &#123;fl=<span class="number">1</span>;<span class="keyword">break</span>;&#125;</span><br><span class="line">        <span class="keyword">if</span>(fl) <span class="keyword">continue</span>;</span><br><span class="line">        cor.<span class="built_in">srt</span>();</span><br><span class="line">        cout &lt;&lt; cor.a &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; cor.b &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; cor.c &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;No problem&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1006)HDU7450.ä¼ å¥‡å‹‡å£«å°å‡¯</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ä¸€æ£µä»¥ $1$ ä¸ºæ ¹ï¼Œ $n$ ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œåœ¨ç¬¬ $i$ ä¸ªèŠ‚ç‚¹å¤„ï¼Œæ¯å¤©æœ‰ $\dfrac{p_i}{15}$ çš„æ¦‚ç‡å¯ä»¥ç¦»å¼€å½“å‰èŠ‚ç‚¹ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªå­èŠ‚ç‚¹èµ°ä¸€æ­¥ã€‚<br>ä»æ ¹èŠ‚ç‚¹ $1$ èµ°åˆ°ä»»æ„å¶å­èŠ‚ç‚¹çš„æœ€å¤§å¤©æ•°çš„æœŸæœ›ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>åœ¨ç¬¬ $i$ ä¸ªèŠ‚ç‚¹å¤„ï¼Œè®°åœç•™åœ¨è¯¥èŠ‚ç‚¹çš„æœŸæœ›å¤©æ•°ä¸º $x$ ï¼Œæœ‰ $\dfrac{p_i}{15}$ çš„æ¦‚ç‡å¯ä»¥ç¦»å¼€ï¼ˆåœç•™ $1$ å¤©ï¼‰ï¼Œæœ‰ $1-\dfrac{p_i}{15}$ çš„æ¦‚ç‡åœç•™åœ¨å½“å‰èŠ‚ç‚¹ï¼ˆåœç•™ $x+1$ å¤©ï¼‰ã€‚<br>æœ‰ $x = \dfrac{p_i}{15} + \dfrac{15-p_i}{15} \cdot (1+x)$ æˆç«‹ï¼Œè§£å¾— $x = \dfrac{15}{p_i}$ ã€‚</p><p>é—®é¢˜è½¬æ¢ä¸ºé€‰æ‹©ä¸€æ¡ä»¥èŠ‚ç‚¹ $1$ å¼€å¤´ï¼Œä»¥å¶å­èŠ‚ç‚¹ç»“å°¾çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹çš„æœŸæœ›å¤©æ•° $\dfrac{15}{p_i}$ ä¹‹å’Œæœ€å¤§ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">form</span><span class="params">(pll&amp; p)</span></span>&#123; <span class="comment">//åŒ–ç®€</span></span><br><span class="line">    ll g = __gcd(p.first,p.second);</span><br><span class="line">    p.first/=g;</span><br><span class="line">    p.second/=g;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">smaller</span><span class="params">(pll a,pll b)</span></span>&#123; <span class="comment">//a&lt;b</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.</span>*a.first/a.second&lt;<span class="number">1.</span>*b.first/b.second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addto</span><span class="params">(pll&amp; a,pll b)</span></span>&#123; <span class="comment">//a+=b</span></span><br><span class="line">    a.first=a.first*b.second+a.second*b.first;</span><br><span class="line">    a.second*=b.second;</span><br><span class="line">    form(a);</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;ll&gt; vdfs; <span class="comment">//dfsåºåˆ—</span></span><br><span class="line">vector&lt;vector&lt;ll&gt;&gt; G;</span><br><span class="line">vector&lt;ll&gt; fa;</span><br><span class="line">vector&lt;pll&gt; ans;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(ll x,ll f)</span></span>&#123;</span><br><span class="line">    fa[x]=f;</span><br><span class="line">    vdfs.<span class="built_in">emplace_back</span>(x);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;y:G[x]) <span class="keyword">if</span>(y!=f) <span class="built_in">dfs</span>(y,x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    G.<span class="built_in">clear</span>(); G.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">    fa.<span class="built_in">clear</span>(); fa.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">    ans.<span class="built_in">clear</span>(); ans.<span class="built_in">resize</span>(n+<span class="number">1</span>,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;);</span><br><span class="line">    vdfs.<span class="built_in">clear</span>();</span><br><span class="line">    ll u,v,t;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        G[u].<span class="built_in">emplace_back</span>(v);</span><br><span class="line">        G[v].<span class="built_in">emplace_back</span>(u);</span><br><span class="line">    &#125; <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        ans[i]=&#123;<span class="number">15</span>,t&#125;; <span class="comment">//ç›´æ¥å­˜å…¥ç¬¬iä¸ªèŠ‚ç‚¹çš„æœŸæœ›</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(<span class="built_in">ALL</span>(vdfs));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> cur:vdfs)&#123; <span class="comment">//é€†DFSåºéå†</span></span><br><span class="line">        pll mx=&#123;<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;y:G[cur]) <span class="keyword">if</span>(y!=fa[cur])&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">smaller</span>(mx,ans[y])) mx=ans[y];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">addto</span>(ans[cur],mx);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans[<span class="number">1</span>].first &lt;&lt; <span class="string">&#x27;/&#x27;</span> &lt;&lt; ans[<span class="number">1</span>].second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1007)HDU7451.URLåˆ’åˆ†</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®šå­—ç¬¦ä¸²URLï¼Œå½¢å¦‚ï¼š<code>s3://hdu-oj-bucket/problem=1/type=data/</code><br>ä»ä¸­æå–å‡ºï¼š</p><ul><li>ä¼ è¾“åè®®ï¼š<code>://</code>ä¹‹å‰çš„å†…å®¹ï¼Œå¦‚<code>s3</code></li><li>ç½‘ç»œä½ç½®ï¼š<code>://</code>ä¹‹åï¼Œç¬¬ä¸€ä¸ª<code>/</code>ä¹‹å‰çš„å†…å®¹ï¼Œå¦‚<code>hdu-oj-bucket</code></li><li>ç¯å¢ƒå˜é‡ï¼šç”±<code>/</code>åˆ†å‰²ï¼Œå½¢å¦‚<code>A=B</code>çš„å†…å®¹ï¼Œå¦‚<code>problem=1</code>ï¼Œ<code>type=data</code></li></ul><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>æŒ‰é¢˜ç›®è¦æ±‚æå–å³å¯</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s; cin &gt;&gt; s;</span><br><span class="line">    string protocol;</span><br><span class="line">    string location;</span><br><span class="line">    vector&lt;string&gt; var;</span><br><span class="line">    string varname,val;</span><br><span class="line">    ll n=s.<span class="built_in">length</span>(),i=<span class="number">0</span>,t;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;:&#x27;</span>)&#123;</span><br><span class="line">            protocol = s.<span class="built_in">substr</span>(<span class="number">0</span>,i);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        t = <span class="number">1</span>;</span><br><span class="line">    &#125; i+=<span class="number">3</span>;</span><br><span class="line">    ll j=i;</span><br><span class="line">    <span class="keyword">for</span>(;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">&#x27;/&#x27;</span>)&#123;</span><br><span class="line">            location = s.<span class="built_in">substr</span>(j,i-j);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; i++;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n)&#123; <span class="comment">//åŒ¹é…varname=valï¼Œä»¥/åˆ†éš”</span></span><br><span class="line">        j=i;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;n&amp;&amp;s[j]!=<span class="string">&#x27;=&#x27;</span>&amp;&amp;s[j]!=<span class="string">&#x27;/&#x27;</span>) j++;</span><br><span class="line">        <span class="keyword">if</span>(s[j]==<span class="string">&#x27;/&#x27;</span>)&#123; <span class="comment">//è·³è¿‡</span></span><br><span class="line">            i=j+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s[j]==<span class="string">&#x27;=&#x27;</span>)&#123;</span><br><span class="line">            varname=s.<span class="built_in">substr</span>(i,j-i);</span><br><span class="line">            i=j+<span class="number">1</span>; j=i;</span><br><span class="line">            <span class="keyword">while</span>(j&lt;n&amp;&amp;s[j]!=<span class="string">&#x27;/&#x27;</span>) j++;</span><br><span class="line">            val=s.<span class="built_in">substr</span>(i,j-i);</span><br><span class="line">            var.<span class="built_in">emplace_back</span>(varname+<span class="string">&quot;=&quot;</span>+val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; protocol &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; location &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:var) cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å†™å®Œpythonæ‰å‘ç°hduOJä¸æ”¯æŒpythonâ€¦</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">T = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(T):</span><br><span class="line">    url = <span class="built_in">input</span>()</span><br><span class="line">    protocol, location, *path = re.split(<span class="string">r&quot;://|/&quot;</span>, url)</span><br><span class="line">    variables = [p <span class="keyword">for</span> p <span class="keyword">in</span> path <span class="keyword">if</span> <span class="string">&quot;=&quot;</span> <span class="keyword">in</span> p]</span><br><span class="line">    <span class="built_in">print</span>(protocol)</span><br><span class="line">    <span class="built_in">print</span>(location)</span><br><span class="line">    <span class="keyword">for</span> variable <span class="keyword">in</span> variables:</span><br><span class="line">        <span class="built_in">print</span>(variable)</span><br></pre></td></tr></table></figure><h1>(1010)HDU7454.å¥³ç¥çš„ç¿æ™º</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>ç»™å®šé•¿åº¦ä¸º$8$çš„å­—ç¬¦ä¸²ï¼Œç”±<code>R,G,B</code>ä¸‰ç§å­—ç¬¦ç»„æˆã€‚<br>è¿›è¡Œä»¥ä¸‹ä¸‰è½®æ“ä½œï¼Œæ¯è½®æ“ä½œä»å·¦å¾€å³ä¸¤ä¸¤åˆå¹¶ï¼š</p><ol><li>é¢œè‰²ç›¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºè¯¥é¢œè‰²ï¼›é¢œè‰²ä¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºå·¦ä¾§é¢œè‰²</li><li>é¢œè‰²ç›¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºè¯¥é¢œè‰²ï¼›é¢œè‰²ä¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºå·¦ä¾§é¢œè‰²</li><li>é¢œè‰²ç›¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºè¯¥é¢œè‰²ï¼›é¢œè‰²ä¸åŒæ—¶ï¼Œæ¯”è¾ƒä¸¤ç§é¢œè‰²åœ¨åˆå§‹å­—ç¬¦ä¸²ä¸­çš„æ•°é‡ï¼Œåˆå¹¶ä¸ºæ•°é‡å¤šçš„ä¸€ç§ï¼›æ•°é‡ç›¸åŒæ—¶ï¼Œåˆå¹¶ä¸ºéšæœºé¢œè‰²</li></ol><p>æ±‚æœ€ç»ˆåˆå¹¶åçš„é¢œè‰²ï¼š<code>R,G,B</code>æˆ–ä¸ç¡®å®šé¢œè‰²<code>N</code></p><h2 id="è§£é¢˜æ€è·¯-5">è§£é¢˜æ€è·¯</h2><p>æŒ‰é¢˜ç›®è¦æ±‚æ¨¡æ‹Ÿå³å¯</p><h2 id="å‚è€ƒç¨‹åº-5">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s,s2; cin &gt;&gt; s;</span><br><span class="line">    map&lt;<span class="type">char</span>,<span class="type">int</span>&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:s) mp[c]++;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i+=<span class="number">2</span>) s2.<span class="built_in">push_back</span>(s[i]);</span><br><span class="line">    s.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i+=<span class="number">2</span>) s.<span class="built_in">push_back</span>(s2[i]);</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>]==s[<span class="number">1</span>]) cout &lt;&lt; s[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(mp[s[<span class="number">0</span>]]!=mp[s[<span class="number">1</span>]]) cout &lt;&lt; s[mp[s[<span class="number">0</span>]]&lt;mp[s[<span class="number">1</span>]]] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&#x27;N&#x27;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1011)HDU7455.åœ¨ A é‡Œé¢æ‰¾æœ‰ C çš„ B</h1><p>//TODO</p>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡02</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡01</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_HDU01.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_HDU01.html</id>
    <published>2024-07-18T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.301Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é¢˜å•ï¼š<a href="https://acm.hdu.edu.cn/search.php?field=problem&amp;key=2024%A1%B0%B6%A4%B0%D2%B1%E0%B3%CC%A1%B1%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%CB%E3%B7%A8%C9%E8%BC%C6%B3%AC%BC%B6%C1%AA%C8%FC%A3%A81%A3%A9&amp;source=1&amp;searchmode=source">2024â€œé’‰è€™ç¼–ç¨‹â€ä¸­å›½å¤§å­¦ç”Ÿç®—æ³•è®¾è®¡è¶…çº§è”èµ›ï¼ˆ1ï¼‰</a></p><h1>(1001)HDU7433.å¾ªç¯ä½ç§»</h1><p><strong>å­—ç¬¦ä¸²</strong></p><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² $A,B$ ã€‚<br>å®šä¹‰ $[A]$ ä¸ºå­—ç¬¦ä¸² $A$ çš„å¾ªç¯ä½ç§»ä»»æ„æ¬¡å¯ä»¥å¾—åˆ°çš„æ‰€æœ‰å­—ç¬¦ä¸²çš„é›†åˆã€‚<br>æ±‚ $B$ åŒ…å« $[A]$ ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>åˆ©ç”¨å­—ç¬¦ä¸²Hashå¿«é€ŸåŒ¹é…ã€‚<br>å°† $[A]$ ä¸­æ‰€æœ‰å…ƒç´ çš„Hashè®°å½•åˆ°ä¸€ä¸ªsetï¼šè®¡ç®— $A+A$ çš„Hashå‰ç¼€å’Œï¼Œä»¥å¿«é€Ÿå¾—åˆ°æ‰€æœ‰é•¿åº¦ä¸º $|A|$ çš„å­ä¸²çš„Hashå€¼ï¼Œå¹¶åŠ å…¥setä¸­ã€‚<br>æšä¸¾ $B$ çš„æ‰€æœ‰é•¿åº¦ä¸º $|A|$ çš„å­ä¸²ï¼Œè®¡ç®—Hashå€¼ï¼Œåˆ¤æ–­æ˜¯å¦åœ¨setä¸­ï¼Œè®¡æ•°ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string a,b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    ll n=a.<span class="built_in">length</span>(),m=b.<span class="built_in">length</span>();</span><br><span class="line">    set&lt;pll&gt; st;</span><br><span class="line">    <span class="function">strHash <span class="title">sa</span><span class="params">(a+a)</span></span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)</span><br><span class="line">        st.<span class="built_in">insert</span>(sa.<span class="built_in">findz</span>(i,i+n<span class="number">-1</span>));</span><br><span class="line">    <span class="function">strHash <span class="title">sb</span><span class="params">(b)</span></span>;</span><br><span class="line">    ll ans = <span class="number">0</span> ;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,m-n+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span>(st.<span class="built_in">count</span>(sb.<span class="built_in">findz</span>(i,i+n<span class="number">-1</span>))) ans++;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1002)HDU7434.æ˜Ÿæ˜Ÿ</h1><p><strong>èƒŒåŒ…DP</strong></p><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>å°Aè¦è¿›è¡Œnæ¬¡é€‰æ‹©ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€é¡¹ï¼š</p><ol><li>ä¸æ‰§è¡Œæ“ä½œ</li><li>ä»˜å‡º$a_i$ç‚¹ä»£ä»·å¾—åˆ°1é¢—æ˜Ÿæ˜Ÿ</li><li>ä»˜å‡º$b_i$ç‚¹ä»£ä»·å¾—åˆ°2é¢—æ˜Ÿæ˜Ÿ</li><li>ä»˜å‡º$c_i$ç‚¹ä»£ä»·å¾—åˆ°3é¢—æ˜Ÿæ˜Ÿ</li><li>ä»˜å‡º$d_i$ç‚¹ä»£ä»·å¾—åˆ°4é¢—æ˜Ÿæ˜Ÿ</li></ol><p>æ±‚æ°å¥½å¾—åˆ°$k$é¢—æ˜Ÿæ˜Ÿçš„æœ€å°ä»£ä»·ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>ä¸€çœ¼é¡¶é’ˆé‰´å®šä¸ºèƒŒåŒ…DPçš„åˆ†ç»„èƒŒåŒ…é—®é¢˜ã€‚</p><p>$dp_x$è¡¨ç¤ºé€‰xä¸ªç‰©å“çš„æœ€ä½costã€‚<br>åœ¨ç¬¬$i$ç»„æ—¶ï¼Œä»å¤§åˆ°å°éå†ä½œå‡ºé€‰æ‹©åæœ‰$j$ä¸ªæ˜Ÿæ˜Ÿã€‚<br>éå†è¿™ä¸€æ­¥çš„é€‰æ‹©ï¼ˆ $l$ ä¸ªæ˜Ÿæ˜Ÿï¼‰ï¼Œä» $dp_{j-l}$ æ›´æ–°åˆ° $dp_j$ ï¼Œè¿™æ ·æ›´æ–°ä¿è¯äº†ä¸€æ¬¡æ“ä½œåªç”Ÿæ•ˆä¸€é¡¹ã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,k;cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    vector&lt;array&lt;ll,5&gt;&gt; <span class="built_in">cost</span>(n,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">dp</span><span class="params">(k+<span class="number">1</span>,INF)</span></span>; dp[<span class="number">0</span>]=<span class="number">0</span>; <span class="comment">//é€‰iä¸ªç‰©å“çš„æœ€ä½cost</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) cin &gt;&gt; cost[i][<span class="number">1</span>] &gt;&gt; cost[i][<span class="number">2</span>] &gt;&gt; cost[i][<span class="number">3</span>] &gt;&gt; cost[i][<span class="number">4</span>];</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123; <span class="comment">//ç¬¬iæ­¥</span></span><br><span class="line">        <span class="built_in">FORLL_rev</span>(j,k,<span class="number">1</span>)&#123; <span class="comment">//é€‰æ‹©åçš„ä¸ªæ•°</span></span><br><span class="line">            <span class="built_in">FORLL</span>(l,<span class="number">0</span>,<span class="number">4</span>)&#123; <span class="comment">//è¿™ä¸€æ­¥é€‰æ‹©lä¸ª</span></span><br><span class="line">                <span class="keyword">if</span>(j-l&gt;=<span class="number">0</span>) <span class="built_in">chmin</span>(dp[j],dp[j-l]+cost[i][l]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[k] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1008)HDU7440.ä½è¿ç®—</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šæ•´æ•°$n,k$ï¼Œæ±‚æ»¡è¶³ $((a\otimes b)\oplus c)\ominus d=n$ çš„å››å…ƒç»„ $(a,b,c,d)ï¼Œ0\le a,b,c,d\lt 2^k$ çš„ä¸ªæ•°ã€‚</p><p>å…¶ä¸­ï¼Œ$\otimes$ è¡¨ç¤ºæŒ‰ä½ä¸ï¼Œ$\oplus$ è¡¨ç¤ºæŒ‰ä½å¼‚æˆ–ï¼Œ$\ominus$ è¡¨ç¤ºæŒ‰ä½æˆ–ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>è½¬ä¸ºäºŒè¿›åˆ¶ï¼ŒæŒ‰ä½è€ƒè™‘ã€‚</p><p>è‹¥ $n$ çš„æŸä¸€ä½ä¸Šæ˜¯ $0$ ï¼Œ $d$ åœ¨è¿™ä¸€ä½ä¸Šå¿…é¡»ä¸º $0$ ï¼Œ$c$ åœ¨è¿™ä¸€ä½ä¸Šç”± $a,b$ å†³å®šï¼ˆæ§åˆ¶è¿™ä¸€ä½ä¸º $0$ï¼‰ï¼Œ$a,b$ åœ¨è¿™ä¸€ä½ä¸Šä»»é€‰ï¼Œå³ $1\times 1\times 2\times 2=4$ ç§å¯èƒ½ã€‚</p><p>è‹¥ $n$ çš„æŸä¸€ä½ä¸Šæ˜¯ $1$ ï¼š</p><ol><li>è‹¥ $d$ åœ¨è¿™ä¸€ä½ä¸Šä¸º $0$ ï¼Œåˆ™ $c$ åœ¨è¿™ä¸€ä½ä¸Šç”± $a,b$ å†³å®šï¼ˆæ§åˆ¶è¿™ä¸€ä½ä¸º $1$ï¼‰ï¼Œ$a,b$ åœ¨è¿™ä¸€ä½ä¸Šä»»é€‰ï¼Œå³ $1\times 1\times 2\times 2=4$ ç§å¯èƒ½ã€‚</li><li>è‹¥ $d$ åœ¨è¿™ä¸€ä½ä¸Šä¸º $1$ ï¼Œåˆ™ $a,b,c$ åœ¨è¿™ä¸€ä½ä¸Šä»»é€‰ï¼Œå³ $1\times 2\times 2\times 2=8$ ç§å¯èƒ½ã€‚</li></ol><p>ç»¼ä¸Šï¼Œ$n$ çš„ä¸€ä½ä¸Šæ˜¯ $1$ æ—¶æœ‰ $12$ ç§å¯èƒ½ï¼Œæ˜¯ $0$ æ—¶æœ‰ $4$ ç§å¯èƒ½ã€‚</p><p>ç­”æ¡ˆä¸º $4^k\times 3^{cnt1}$ ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    ll cnt1=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>) cnt1++;</span><br><span class="line">        n/=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">qcpow</span>(<span class="number">2</span>,k*<span class="number">2</span>)*<span class="built_in">qcpow</span>(<span class="number">3</span>,cnt1) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>(1012)HDU7444.å¹¶</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®š $n$ ä¸ªçŸ©å½¢ï¼Œå¯¹ $k=1\to n$ åˆ†åˆ«æ±‚éšæœºå– $k$ ä¸ªçŸ©å½¢çš„é¢ç§¯å¹¶çš„æœŸæœ›ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>å¹³é¢å¯ä»¥è¢«çŸ©å½¢è¾¹ç•Œåˆ†å‰²æˆè‹¥å¹²ä¸ªå°åŒºåŸŸï¼Œè€ƒè™‘æ¯ä¸ªåŒºåŸŸå¯¹ç­”æ¡ˆçš„è´¡çŒ®ã€‚</p><p>å› ä¸ºè¦æ±‚æœŸæœ›ï¼Œè¢«â€œç›¸åŒæ•°é‡çŸ©å½¢è¦†ç›–â€çš„å°åŒºåŸŸ å¯¹ç­”æ¡ˆçš„è´¡çŒ®æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æŒ‰ç…§ è¦†ç›–çŸ©å½¢æ•°é‡ å°†è¿™äº›å°åŒºåŸŸåˆ†ç»„ï¼Œç»Ÿè®¡å‡ºæ°å¥½è¢« $i$ ä¸ªçŸ©å½¢è¦†ç›–çš„åŒºåŸŸçš„é¢ç§¯ $S_i$ã€‚</p><p>æˆ‘çš„æ±‚æ³•å°±æ˜¯ä»å·¦åˆ°å³æ‰«æï¼Œåœ¨æ¯æ¡ç«–çº¿çš„ä½ç½®ï¼Œæ›´æ–° $i$ ä¸ªçŸ©å½¢è¦†ç›–çš„yè½´é•¿åº¦ $yval_i$ ï¼Œåˆ°ä¸‹ä¸€æ¡ç«–çº¿å†ä¹˜ç»è¿‡çš„xè½´é•¿åº¦ï¼Œå¾—åˆ°è¿™ä¸€éƒ¨åˆ†çš„é¢ç§¯ï¼ˆç±»ä¼¼äºç§¯åˆ†ï¼Ÿï¼‰ï¼ŒåŠ å…¥ $S_i$</p><p>ç„¶åè€ƒè™‘è´¡çŒ®çš„æƒé‡ã€‚<br>ä» $n$ ä¸ªçŸ©å½¢ä¸­éšæœºé€‰å– $k$ ä¸ªï¼Œå¯¹äºè¢« $i$ ä¸ªçŸ©å½¢è¦†ç›–çš„åŒºåŸŸï¼Œåªè¦é€‰å–çš„ $k$ ä¸ªçŸ©å½¢ä¸­ï¼Œå­˜åœ¨è¿™ $i$ ä¸ªçŸ©å½¢ä¹‹ä¸€ï¼Œé‚£ä¹ˆè¿™ä¸ªé¢ç§¯å°±ä¼šè¢«è®¡å…¥ã€‚<br>åœ¨ä¸Šè¿°æ¡ä»¶ä¸‹çš„è´¡çŒ®æƒé‡æ˜¯ $val_{k,i}=\frac{C_{n}^{k}-C_{n-i}^{k}}{C_{n}^{k}}$ ï¼Œå³ä» $n$ ä¸ªçŸ©å½¢ä¸­é€‰å– $k$ ä¸ªæ–¹æ¡ˆæ•°ï¼Œå‡å»ä» $n-i$ ä¸ªçŸ©å½¢ä¸­é€‰å– $k$ ä¸ªæ–¹æ¡ˆæ•°ã€‚</p><p>æœ€åç­”æ¡ˆ$ans_k$æ˜¯ $\sum\limits_{i=1}^{n}val_{k,i}\times S_i$ ã€‚</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">prepare</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">Prepare_Combination</span>(<span class="number">5005</span>);</span><br><span class="line">    MOD = <span class="number">998244353</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">getval</span><span class="params">(ll n,ll i,ll j)</span></span>&#123;</span><br><span class="line">    ll ret=C[n][i],sb;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;n-j) sb=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> sb = C[n-j][i];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sub</span>(ret,sb);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    ll xx1,xx2,yy1,yy2;</span><br><span class="line">    vector&lt;tuple&lt;ll,ll,ll,ll&gt;&gt; xlines;</span><br><span class="line">    vector&lt;ll&gt; ylines;</span><br><span class="line">    <span class="comment">// xline:(y,x1,x2,flag) # æ¨ªçº¿ flag:0ä¸Šè¾¹ç•Œ1ä¸‹è¾¹ç•Œ</span></span><br><span class="line">    <span class="comment">// yline:(x) # ç«–çº¿xåæ ‡</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; xx1 &gt;&gt; yy1 &gt;&gt; xx2 &gt;&gt; yy2;</span><br><span class="line">        xlines.<span class="built_in">emplace_back</span>(yy1,xx1,xx2,<span class="number">0</span>);</span><br><span class="line">        xlines.<span class="built_in">emplace_back</span>(yy2,xx1,xx2,<span class="number">1</span>);</span><br><span class="line">        ylines.<span class="built_in">emplace_back</span>(xx1);</span><br><span class="line">        ylines.<span class="built_in">emplace_back</span>(xx2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">SORT</span>(xlines); <span class="built_in">SORT</span>(ylines);</span><br><span class="line"></span><br><span class="line">    map&lt;ll,ll&gt; S,yval;</span><br><span class="line">    ll prex=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// S[i]:é‡å iæ¬¡éƒ¨åˆ†çš„é¢ç§¯</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> xx:ylines)</span><br><span class="line">    &#123;</span><br><span class="line">        ll difx = xx-prex;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> [pl,val]:yval)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// S[pl]+=difx*val;</span></span><br><span class="line">            <span class="built_in">addto</span>(S[pl],<span class="built_in">mul</span>(difx,val));</span><br><span class="line">        &#125;</span><br><span class="line">        yval.<span class="built_in">clear</span>();</span><br><span class="line">        ll cur = <span class="number">0</span>, prey = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> [yy,xx1,xx2,flag]:xlines)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(xx1&lt;=xx&amp;&amp;xx&lt;xx2)</span><br><span class="line">            &#123;</span><br><span class="line">                yval[cur]+=yy-prey;</span><br><span class="line">                <span class="keyword">if</span>(flag==<span class="number">0</span>) cur++;</span><br><span class="line">                <span class="keyword">else</span> cur--;</span><br><span class="line">                prey=yy;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        prex = xx;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for(auto x:S) cout &lt;&lt; x.first &lt;&lt; &#x27; &#x27; &lt;&lt; x.second &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        ll ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">1</span>,n)&#123;</span><br><span class="line">            ll val = <span class="built_in">getval</span>(n,i,j);</span><br><span class="line">            ans = <span class="built_in">add</span>(ans,<span class="built_in">mul</span>(val,S[j]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">divto</span>(ans,C[n][i]);</span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸæ­ç”µå¤šæ ¡01</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸæ­ç”µå¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E6%9D%AD%E7%94%B5%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡02</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD02.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD02.html</id>
    <published>2024-07-17T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.295Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81597">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥2</a></p><h1>C.Red Walking on Grid</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ä¸€ä¸ª2è¡Œ $n$ åˆ—çš„ç½‘æ ¼ä¸Šï¼Œæœ‰äº›æ ¼å­æ˜¯çº¢è‰²çš„ï¼Œæœ‰äº›æ ¼å­æ˜¯ç™½è‰²çš„ã€‚<br>ä½ å¯ä»¥æœ€åˆé€‰æ‹©ä¸€ä¸ªçº¢è‰²çš„æ ¼å­ï¼Œç„¶åæ¯ä¸€æ­¥éƒ½å¯ä»¥é€‰æ‹©ä¸Šä¸‹å·¦å³ç›¸é‚»çš„çº¢è‰²æ ¼å­ã€‚ç¦»å¼€ä¸€ä¸ªæ ¼å­æ—¶ï¼Œè¿™ä¸ªæ ¼å­ç«‹å³å˜æˆç™½è‰²ã€‚é—®æœ€å¤šå¯ä»¥èµ°å¤šå°‘æ­¥ã€‚<br>æœ€åˆæ²¡æœ‰çº¢è‰²çš„æ ¼å­ï¼Œè¾“å‡º0ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>æ€»ä½“æ€è·¯å°±æ˜¯æ‰¾è¿é€šå—ï¼Œåœ¨æ¯ä¸ªè¿é€šå—å†…éƒ¨æ‰¾åˆ°èƒ½èµ°æœ€å¤šæ ¼çš„è·¯å¾„ï¼Œç„¶åæ‰€æœ‰è¿é€šå—çš„ç­”æ¡ˆå–æœ€å¤§å€¼ã€‚<br>ç”±äºæ— æ³•èµ°å›å¤´è·¯ï¼Œå½¢å¦‚ä»¥ä¸‹æ ·å¼çš„è¿é€šå—å°†æ— æ³•èµ°éå…¨éƒ¨çº¢è‰²æ ¼å­ï¼š</p><p><img src="/images/ACM/2024Summer_NCD02_C.png" alt="image"></p><p>å…ˆä»å¤´åˆ°å°¾æ‰«ä¸€éï¼Œæœ‰ä»¥ä¸Š2ç§å½¢å¼çš„è¿é€šå—ï¼Œå°†æ‰“Ã—çš„éƒ¨åˆ†é¢„å…ˆæ¶‚æˆç™½è‰²ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ¯ä¸ªçº¢è‰²æ ¼å­éƒ½ä¼šè¢«ç»è¿‡ï¼Œè®¡ç®—åˆ°ç­”æ¡ˆä¸­ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">array&lt;string, 2&gt; s;</span><br><span class="line">ll n,ans=<span class="number">1</span>;</span><br><span class="line"><span class="function">ll <span class="title">getstat</span><span class="params">(ll col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;W&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;W&#x27;</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;W&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;R&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;R&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;W&#x27;</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;R&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;R&#x27;</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">getcnt</span><span class="params">(ll col)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;W&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;W&#x27;</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;W&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;R&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;R&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;W&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[<span class="number">0</span>][col]==<span class="string">&#x27;R&#x27;</span>&amp;&amp;s[<span class="number">1</span>][col]==<span class="string">&#x27;R&#x27;</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">preprocess</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="number">0</span>,pre=<span class="number">0</span>,cur;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">getcnt</span>(<span class="number">0</span>)==<span class="number">1</span>) pre=<span class="built_in">getstat</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cur = <span class="built_in">getcnt</span>(i);</span><br><span class="line">        <span class="keyword">if</span>(cur==<span class="number">1</span>)&#123;</span><br><span class="line">            cur=<span class="built_in">getstat</span>(i);</span><br><span class="line">            <span class="keyword">if</span>(pre&amp;&amp;cur&amp;&amp;cnt)&#123;</span><br><span class="line">                <span class="keyword">if</span>((cnt%<span class="number">2</span>==<span class="number">0</span>)&amp;&amp;((pre&amp;cur)==<span class="number">0</span>)) s[cur<span class="number">-1</span>][i<span class="number">-1</span>]=<span class="string">&#x27;W&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>((cnt%<span class="number">2</span>)&amp;&amp;((pre&amp;cur))) s[cur<span class="number">-1</span>][i<span class="number">-1</span>]=<span class="string">&#x27;W&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre=cur;</span><br><span class="line">            cnt=<span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cur==<span class="number">2</span>)&#123;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            cnt=<span class="number">0</span>; pre=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getans</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="built_in">getcnt</span>(<span class="number">0</span>),pre=<span class="built_in">getstat</span>(<span class="number">0</span>),cur;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        cur = <span class="built_in">getstat</span>(i);</span><br><span class="line">        <span class="keyword">if</span>(cur&amp;pre)&#123;</span><br><span class="line">            cnt+=<span class="built_in">getcnt</span>(i);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">chmax</span>(ans,cnt);</span><br><span class="line">            cnt=<span class="built_in">getcnt</span>(i);</span><br><span class="line">        &#125;pre=cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">chmax</span>(ans,cnt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    cin &gt;&gt; s[<span class="number">0</span>] &gt;&gt; s[<span class="number">1</span>];</span><br><span class="line">    ans=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">preprocess</span>();</span><br><span class="line">    <span class="built_in">getans</span>();</span><br><span class="line">    cout &lt;&lt; ans<span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>E.GCD VS XOR</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° $x$ ï¼Œæ‰¾åˆ°ä¸€ä¸ªä¸¥æ ¼å°äº $x$ çš„æ­£æ•´æ•° $y$ ï¼Œä½¿å¾— $gcd(x,y)=x\oplus y$ ï¼Œå…¶ä¸­ $\oplus$ è¡¨ç¤ºæŒ‰ä½å¼‚æˆ–ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>é¦–å…ˆè§‚å¯Ÿåˆ°ï¼Œå¯¹äºä¸€ä¸ªæ­£æ•´æ•° $x$ ï¼Œ$lowbit(x)$ ä¸€å®šæ˜¯ $x$ çš„å› å­ã€‚<br>é‚£ä¹ˆä»¤ $y = x - lowbit(x)$ ï¼Œåˆ™ $gcd(x,y)=lowbit(x)$ ï¼Œ$x\oplus y = lowbit(x)$ ï¼Œæ»¡è¶³é¢˜æ„ã€‚</p><blockquote><p>æœ‰æ—¶å€™çµæ„Ÿå°±æ¥æºäºä¸€ç¬é—´</p></blockquote><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n;cin &gt;&gt; n;</span><br><span class="line">    ll ans=n-<span class="built_in">lowbit</span>(n);</span><br><span class="line">    cout &lt;&lt; (ans?ans:<span class="number">-1</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.Instructions Substring</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ä½ åˆå§‹ä½äºåŸç‚¹ $(0,0)$ ã€‚<br>ç»™å®šä¸€ä¸²åŠ¨ä½œæŒ‡ä»¤ï¼ŒåŒ…å«<code>W</code>ã€<code>A</code>ã€<code>S</code>ã€<code>D</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºå‘ä¸Šï¼ˆ$y+=1$ï¼‰ã€å‘å·¦ï¼ˆ$x-=1$ï¼‰ã€å‘ä¸‹ï¼ˆ$y-=1$ï¼‰ã€å‘å³ï¼ˆ$x+=1$ï¼‰ã€‚<br>ä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªè¿ç»­çš„å­ä¸²ï¼Œä½¿å¾—æ‰§è¡Œè¿™ä¸ªå­ä¸²çš„æŒ‡ä»¤åï¼Œä½ èƒ½ç»è¿‡ç»™å®šå¾—ä¸€ç‚¹ $(x,y)$ ã€‚<br>è®¡ç®—ç¬¦åˆæ¡ä»¶çš„å­ä¸²çš„ä¸ªæ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>å‡è®¾é€‰æ‹©äº†å­ä¸² $s_{ij}$ ï¼Œæ°å¥½èƒ½åˆ°è¾¾ $(x,y)$ ï¼Œé‚£ä¹ˆ $s_j$ ä¹‹åä»»æ„å¢åŠ æŒ‡ä»¤éƒ½å·²ç»æ»¡è¶³äº†â€œç»è¿‡ $(x,y)$â€çš„æ¡ä»¶ã€‚</p><p>æœ€æš´åŠ›çš„åšæ³•å°±æ˜¯æšä¸¾å¼€å¤´æŒ‡ä»¤ $i$ ï¼Œæšä¸¾æ°å¥½åˆ°è¾¾ $(x,y)$ çš„æœ€å°ç»“å°¾æŒ‡ä»¤ $j$ ï¼Œä»¥ä½ç½® $i$ å¼€å¤´çš„æ–¹æ¡ˆæ•°å°±æ˜¯ $n-j+1$ ã€‚æ—¶é—´å¤æ‚åº¦ $O(n^2)$ ï¼ŒåŒ…TLEçš„ï¼Œéœ€è¦ä¼˜åŒ–æœç´¢è¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆä»å¤´åˆ°å°¾æ‰§è¡Œï¼ˆå³åšä¸€ä¸ªå‰ç¼€å’Œï¼‰ï¼Œæ¯ä¸€æ­¥éƒ½è®°å½•åˆ°è¾¾å½“å‰ä½ç½® $(x_i,y_i)$ æ—¶æ‰§è¡Œçš„æŒ‡ä»¤ç¼–å· $i$ ã€‚<br>å†é‡æ–°ä»å¤´åˆ°å°¾æ‰§è¡Œä¸€è¾¹ï¼Œå¯¹äºæ¯ä¸€æ­¥åˆ°è¾¾çš„ä½ç½® $(x_i,y_i)$ ï¼Œå°†å®ƒè§†ä½œèµ·ç‚¹ï¼ˆå³å‡è®¾ä¹‹å‰çš„æ­¥éª¤éƒ½æ²¡æœ‰æ‰§è¡Œï¼‰ï¼Œé‚£ä¹ˆéœ€è¦ç»è¿‡çš„ç‚¹å˜ä¸º $(x_i+x,y_i+y)$ ã€‚äºŒåˆ†æ‰¾åˆ°åœ¨ $i$ ä¹‹ååˆ°è¾¾è¿‡ $(x_i+x,y_i+y)$ çš„æœ€å°æŒ‡ä»¤ç¼–å· $j$ ï¼Œä»¥ä½ç½® $i$ å¼€å¤´çš„æ–¹æ¡ˆæ•°å°±æ˜¯ $n-j+1$ ã€‚</p><p>$x=0,y=0$ çš„æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼Œç‰¹åˆ¤ä¸€ä¸‹å³å¯ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//                W  S  D  A</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dy[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="function">ll <span class="title">conv</span><span class="params">(<span class="type">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="string">&#x27;W&#x27;</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="string">&#x27;S&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="string">&#x27;D&#x27;</span>) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="string">&#x27;A&#x27;</span>) <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,x,y; cin &gt;&gt; n &gt;&gt; x &gt;&gt; y;</span><br><span class="line">    string s; cin &gt;&gt; s;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">0</span>&amp;&amp;y==<span class="number">0</span>)&#123;</span><br><span class="line">        cout &lt;&lt; n*(n+<span class="number">1</span>)/<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    map&lt;pll,vector&lt;ll&gt;&gt; mp;</span><br><span class="line">    ll cx,cy,dir; cx=cy=<span class="number">0</span>;</span><br><span class="line">    mp[&#123;cx,cy&#125;].<span class="built_in">emplace_back</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="type">char</span> c = s[i];</span><br><span class="line">        dir = <span class="built_in">conv</span>(c);</span><br><span class="line">        cx += dx[dir];</span><br><span class="line">        cy += dy[dir];</span><br><span class="line">        mp[&#123;cx,cy&#125;].<span class="built_in">emplace_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    cx=cy=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">auto</span> v = mp[&#123;cx+x,cy+y&#125;];</span><br><span class="line">        <span class="keyword">auto</span> it = <span class="built_in">lower_bound</span>(<span class="built_in">ALL</span>(v),i);</span><br><span class="line">        <span class="keyword">if</span>(it!=v.<span class="built_in">end</span>()) ans+=n-(*it);</span><br><span class="line">        <span class="type">char</span> c = s[i];</span><br><span class="line">        dir = <span class="built_in">conv</span>(c);</span><br><span class="line">        cx += dx[dir];</span><br><span class="line">        cy += dy[dir];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> v = mp[&#123;cx+x,cy+y&#125;];</span><br><span class="line">    <span class="keyword">auto</span> it = <span class="built_in">lower_bound</span>(<span class="built_in">ALL</span>(v),n);</span><br><span class="line">    <span class="keyword">if</span>(it!=v.<span class="built_in">end</span>()) ans+=n-(*it);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡02</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡01</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Summer_NCD01.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Summer_NCD01.html</id>
    <published>2024-07-15T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.294Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”èµ›é“¾æ¥ï¼š<a href="https://ac.nowcoder.com/acm/contest/81596">2024ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥1</a></p><h1>A.A Bit Common</h1><p><strong>ç»„åˆæ•°å­¦</strong></p><h2 id="é¢˜æ„">é¢˜æ„</h2><p><strong>é¢˜ç›®æ¦‚æ‹¬ï¼š</strong><br>ç»™å®šä¸¤ä¸ªæ•´æ•° $n$ å’Œ $m$ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ‰€æœ‰åŒ…å« $n$ ä¸ªéè´Ÿæ•´æ•°ä¸”æ¯ä¸ªæ•´æ•°éƒ½å°äº $2^m$ çš„åºåˆ—ä¸­ï¼Œæ»¡è¶³<strong>å­˜åœ¨ä¸€ä¸ª</strong>éç©ºå­åºåˆ—ä½¿å¾—è¿™äº›æ•´æ•°çš„æŒ‰ä½ä¸ï¼ˆbitwise ANDï¼‰ä¸º 1 çš„åºåˆ—çš„æ•°é‡ã€‚</p><p>æ³¨æ„ï¼šä¸€ä¸ªåºåˆ—çš„éç©ºå­åºåˆ—æ˜¯æŒ‡ä»åºåˆ—ä¸­åˆ é™¤é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ åå¾—åˆ°çš„å­åºåˆ—ï¼Œå¹¶ä¿æŒå‰©ä½™å…ƒç´ çš„åŸå§‹é¡ºåºã€‚</p><p>ç”±äºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¾“å‡ºç»“æœå¯¹ä¸€ä¸ªæ­£æ•´æ•° $q$ å–æ¨¡åçš„å€¼ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>åºåˆ— $A$ ä¸­çš„æ¯ä¸ªæ•´æ•°å¯ä»¥çœ‹ä½œä¸€ä¸ª $m$ ä½çš„äºŒè¿›åˆ¶æ•°ã€‚</p><p>ç¬¦åˆæ¡ä»¶çš„åºåˆ—ä¸­ï¼Œæ‰€æœ‰æœ«ä½ä¸º 1 çš„å…ƒç´ çš„&amp;å’Œä¸€å®šä¸º 1ï¼ˆå› ä¸ºå‰©ä½™çš„å…ƒç´ æœ«ä½éƒ½æ˜¯0ï¼Œ&amp;å…¥ç­”æ¡ˆä¼šæ¶ˆç­æœ«ä½1ï¼‰ã€‚</p><p>æšä¸¾åºåˆ—åŒ…å«çš„ æœ«ä½ä¸º 1 çš„å…ƒç´ ä¸ªæ•° $k$ ï¼ŒæŠŠè¿™äº›æ•°ä¸€è¡Œä¸€ä¸ªå†™æˆäºŒè¿›åˆ¶ï¼ŒæŒ‰ä½å¯¹é½ã€‚</p><p>å¯¹äºè¿™ $k$ ä¸ªå…ƒç´ ï¼Œè¦æ»¡è¶³é™¤æœ«ä½å¤–æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸å…¨ä¸º 1 ï¼Œè¿™ $k$ ä¸ªæ•°æ¯ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆæŒ‰åˆ—çœ‹ï¼‰ä¸Šçš„æ–¹æ¡ˆæ•°ä¸º $2^{k}-1$ ï¼ˆå³é™¤å…¨1å¤–ï¼‰ã€‚<br>é™¤æœ«ä½å¤–æœ‰ $m-1$ ä¸ªäºŒè¿›åˆ¶ä½ï¼Œï¼ˆæœ‰åºï¼‰æ–¹æ¡ˆæ•°ä¸º $a=(2^{k}-1)^{m-1}$ ã€‚</p><p>å¯¹äºå‰©ä½™çš„ $n-k$ ä¸ªå…ƒç´ ï¼Œåªéœ€è¦ä¿è¯æœ«ä½ä¸º 0 ï¼Œå…¶ä»–ä½ä¸åŠ é™åˆ¶ï¼Œå› æ­¤è¿™ $n-k$ ä¸ªæ•°æ¯ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆæŒ‰åˆ—çœ‹ï¼‰ä¸Šçš„æ–¹æ¡ˆæ•°ä¸º $2^{n-k}$ ï¼ˆå³é™¤å…¨1å¤–ï¼‰ã€‚<br>é™¤æœ«ä½å¤–æœ‰ $m-1$ ä¸ªäºŒè¿›åˆ¶ä½ï¼Œï¼ˆæœ‰åºï¼‰æ–¹æ¡ˆæ•°ä¸º $b=(2^{n-k})^{m-1}$ ã€‚</p><p>ç»¼åˆä¸¤éƒ¨åˆ†ï¼Œæ–¹æ¡ˆæ•°ä¸º $a\times b\times C_n^k$ ã€‚<br>$C_n^k$ è¡¨ç¤ºåºåˆ—çš„ $n$ ä¸ªä½ç½®ä¸­é€‰å– $k$ ä¸ªç”¨äºé¡ºåºæ”¾ç½®æœ«ä½ä¸º 1 çš„ $k$ ä¸ªæ•°ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m &gt;&gt; MODULE::MOD;</span><br><span class="line">    <span class="built_in">Prepare_Combination</span>(<span class="number">5005</span>);</span><br><span class="line">    ll tmp,a,b,ans1=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(k,<span class="number">1</span>,n)&#123;</span><br><span class="line">        a = <span class="built_in">qcpow</span>(<span class="built_in">qcpow</span>(<span class="number">2</span>,k)<span class="number">-1</span>,m<span class="number">-1</span>); <span class="comment">// a = (2^k-1)^(m-1)</span></span><br><span class="line">        b = <span class="built_in">qcpow</span>(<span class="number">2</span>,<span class="built_in">mul</span>(n-k,m<span class="number">-1</span>)); <span class="comment">// b = 2^(n-k)^(m-1)</span></span><br><span class="line">        tmp = <span class="built_in">mul</span>(C[n][k],<span class="built_in">mul</span>(a,b)); <span class="comment">// tmp = C(n,k)*a*b</span></span><br><span class="line">        <span class="built_in">addto</span>(ans1,tmp); <span class="comment">// åŠ å…¥ç­”æ¡ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) cout &lt;&lt; <span class="built_in">Get_Mod</span>(<span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; ans1 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>B.A Bit More Common</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸¤ä¸ªæ•´æ•° $n$ å’Œ $m$ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ‰€æœ‰åŒ…å« $n$ ä¸ªéè´Ÿæ•´æ•°ä¸”æ¯ä¸ªæ•´æ•°éƒ½å°äº $2^m$ çš„åºåˆ—ä¸­ï¼Œæ»¡è¶³<strong>å­˜åœ¨ä¸¤ä¸ª</strong>éç©ºå­åºåˆ—ä½¿å¾—è¿™äº›æ•´æ•°çš„æŒ‰ä½ä¸ï¼ˆbitwise ANDï¼‰ä¸º 1 çš„åºåˆ—çš„æ•°é‡ã€‚</p><p>æ³¨æ„ï¼šä¸€ä¸ªåºåˆ—çš„éç©ºå­åºåˆ—æ˜¯æŒ‡ä»åºåˆ—ä¸­åˆ é™¤é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ åå¾—åˆ°çš„å­åºåˆ—ï¼Œå¹¶ä¿æŒå‰©ä½™å…ƒç´ çš„åŸå§‹é¡ºåºã€‚</p><p>ç”±äºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¾“å‡ºç»“æœå¯¹ä¸€ä¸ªæ­£æ•´æ•° $q$ å–æ¨¡åçš„å€¼ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>å’ŒAé¢˜çš„åŒºåˆ«åœ¨äºï¼Œéœ€è¦æ»¡è¶³å­˜åœ¨ä¸¤ä¸ªéç©ºå­åºåˆ—ã€‚</p><p>å› æ­¤é™¤Aé¢˜ä¸­ â€œç”±æ‰€æœ‰æœ«ä½ä¸º1çš„å…ƒç´ â€ æ„æˆçš„&amp;å’Œä¸º1çš„å­åºåˆ—å¤–ï¼Œè¿˜è¦å¦è€ƒè™‘ä¸€ä¸ªã€‚<br>è´ªå¿ƒçš„æƒ³æ³•å°±æ˜¯ä»ä¸Šè¿°å­åºåˆ—ä¸­åˆ å»æŸä¸ªå…ƒç´ ï¼Œå‰©ä¸‹çš„å…ƒç´ çš„&amp;å’Œä»ç„¶ä¸º1ã€‚</p><p>æšä¸¾åºåˆ—åŒ…å«çš„ æœ«ä½ä¸º 1 çš„å…ƒç´ ä¸ªæ•° $k$ ï¼ŒæŠŠè¿™äº›æ•°ä¸€è¡Œä¸€ä¸ªå†™æˆäºŒè¿›åˆ¶ï¼ŒæŒ‰ä½å¯¹é½ã€‚</p><p>æ­£å‘è€ƒè™‘éš¾ä»¥æšä¸¾ï¼Œå¯ä»¥ä»åé¢è€ƒè™‘ï¼Œå³ï¼šä» è¿™$k$ä¸ª&amp;å’Œä¸º1çš„å…ƒç´  ä¸­ï¼Œåˆ å»ä»»ä¸€å…ƒç´ ï¼Œå‰©ä¸‹çš„å…ƒç´ çš„&amp;å’Œéƒ½ä¸èƒ½ä¸º1ã€‚<br>è¦æ»¡è¶³è¿™ä¸€ç‰¹æ€§ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è‡³å°‘è¦æœ‰ä¸€ä½â€œç‰¹æ®Šä½0â€ ã€‚</p><p>â€œç‰¹æ®Šä½0â€ ï¼šå³æœ‰ä¸”ä»…æœ‰å”¯ä¸€å…ƒç´ ï¼Œåœ¨è¿™ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆæŒ‰åˆ—çœ‹ï¼‰ä¸Šæ˜¯ 0 ï¼Œå…¶ä»–å…ƒç´ çš„è¿™ä¸ªäºŒè¿›åˆ¶ä½ä¸Šéƒ½ä¸º 1 ã€‚<br>è¿™æ ·ï¼Œå½“åˆ å»è¿™ä¸ªå…ƒç´ åï¼Œå…¶ä»–å…ƒç´ è¿™ä¸€ä½ä¸Šçš„&amp;å’Œå°†å˜æˆ1ï¼Œä»è€Œä¸æ»¡è¶³æ¡ä»¶ã€‚</p><p>è®°$dp(k,j)$ï¼š $k$ ä¸ªæœ«ä½ä¸º 1 çš„æ•°ï¼Œæ¯ä¸ªæ•°è‡³å°‘æœ‰ 1 ä¸ªâ€œç‰¹æ®Šä½0â€ ï¼Œä¸”å®ƒä»¬å…±æœ‰ $j$ â€œç‰¹æ®Šä½0â€ çš„æ–¹æ¡ˆæ•°ã€‚<br>å¦‚æœä»è¿™ $k$ ä¸ªæ•°ä¸­é€‰å– 1 ä¸ªï¼Œå»æ‰å®ƒçš„ 1 ä¸ªç‰¹æ®Šä½ï¼Œåˆ™æœ‰å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªæ•°æ²¡æœ‰ç‰¹æ®Šä½ã€‚<br>è½¬ç§»åˆ°ï¼š</p><ul><li>$k$ ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°è‡³å°‘æœ‰ 1 ä¸ªâ€œç‰¹æ®Šä½0â€ ï¼Œä¸”å®ƒä»¬å…±æœ‰ $j-1$ ä¸ªâ€œç‰¹æ®Šä½0â€</li><li>$k-1$ ä¸ªæ•°ï¼Œæ¯ä¸ªæ•°è‡³å°‘æœ‰ 1 ä¸ªâ€œç‰¹æ®Šä½0â€ ï¼Œä¸”å®ƒä»¬å…±æœ‰ $j-1$ â€œç‰¹æ®Šä½0â€</li></ul><p>å¾—åˆ°è½¬ç§»æ–¹ç¨‹ï¼š $dp(k,j)=k\times(dp(k,j-1)+dp(k-1,j-1))$ ï¼Œé¢„å¤„ç†dpæ•°ç»„ã€‚</p><p>å¯¹äºè¿™ $k$ ä¸ªå…ƒç´ ï¼Œè¦æ»¡è¶³é™¤æœ«ä½1å¤–æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸å…¨ä¸º 1 ï¼Œä¸”æ¯ä¸ªå…ƒç´ è‡³å°‘æœ‰ 1 ä¸ªâ€œç‰¹æ®Šä½0â€ ã€‚<br>å¯¹äºæ¯ä¸ª $k$ ï¼Œæšä¸¾ç‰¹æ®Šä½ä¸ªæ•° $j:k\rightarrow m-1$ :</p><ul><li>æœ«ä½ä¸º1ä½†æ²¡æœ‰ç‰¹æ®Šä½çš„å…ƒç´ ï¼Œæ¯ä¸ª éâ€œç‰¹æ®Šä½0â€ äºŒè¿›åˆ¶ä½ï¼ˆæŒ‰åˆ—çœ‹ï¼‰ä¸Šçš„æ–¹æ¡ˆæ•°ä¸º $2^{k}-1-k$ ï¼ˆé™¤ï¼šå…¨1çš„1ç§å’Œâ€œç‰¹æ®Šä½0â€kç§ï¼‰ï¼Œé™¤æœ«ä½å¤–æœ‰ $m-1-j$ ä¸ª éâ€œç‰¹æ®Šä½0â€ äºŒè¿›åˆ¶ä½ï¼Œï¼ˆæœ‰åºï¼‰æ–¹æ¡ˆæ•°ä¸º $t=(2^{k}-1)^{m-1}$ ã€‚</li><li>ç‰¹æ®Šä½ï¼šæ–¹æ¡ˆæ•° $dp(k,j)$</li></ul><p>ç»¼ä¸Šï¼Œè¿™ $k$ ä¸ªæœ«ä½ä¸º1çš„å…ƒç´ çš„ï¼ˆæœ‰åºï¼‰æ–¹æ¡ˆæ•°ä¸º $a = \sum\limits_{j=k}^{m-1} t\times dp(k,j)\times C(m-1,j)$</p><p>å¯¹äºå‰©ä½™çš„ $n-k$ ä¸ªå…ƒç´ ï¼Œåªéœ€è¦ä¿è¯æœ«ä½ä¸º 0 ï¼Œå…¶ä»–ä½ä¸åŠ é™åˆ¶ï¼Œå› æ­¤è¿™ $n-k$ ä¸ªæ•°æ¯ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆæŒ‰åˆ—çœ‹ï¼‰ä¸Šçš„æ–¹æ¡ˆæ•°ä¸º $2^{n-k}$ ï¼ˆå³é™¤å…¨1å¤–ï¼‰ã€‚<br>é™¤æœ«ä½å¤–æœ‰ $m-1$ ä¸ªäºŒè¿›åˆ¶ä½ï¼Œï¼ˆæœ‰åºï¼‰æ–¹æ¡ˆæ•°ä¸º $b=(2^{n-k})^{m-1}$ ã€‚</p><p>ç»¼åˆä¸¤éƒ¨åˆ†ï¼Œæ–¹æ¡ˆæ•°ä¸º $a\times b\times C_n^k$ ã€‚</p><p>ç”¨Aé¢˜çš„ç­”æ¡ˆå‡å»å¾—åˆ°çš„æ•°å­—ï¼Œåˆ™ä¸ºæœ¬é¢˜æ‰€æ±‚çš„ç­”æ¡ˆã€‚</p><p>æœ¬é¢˜å¤æ‚åº¦è¾ƒé«˜ï¼Œå¸¸è§„çš„å–æ¨¡æ“ä½œåšçš„å¤šçš„ï¼Œå¯èƒ½ä¼šå› ä¸ºå¸¸æ•°å¤ªå¤§TLEã€‚<br>å¯ä»¥é€šè¿‡é¢„å¤„ç†ä¹˜æ–¹æ•°ç»„ã€é€æ­¥æ±‚ä¹˜æ–¹æ•°ã€å‡å°‘å–æ¨¡æ¬¡æ•°ã€ä¼˜åŒ–å–æ¨¡ç­‰æ–¹æ³•è§£å†³ã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m &gt;&gt; MODULE::MOD;</span><br><span class="line">    <span class="built_in">Prepare_Combination</span>(<span class="number">5005</span>);</span><br><span class="line">    vector&lt;ll&gt; pow2;</span><br><span class="line">    pow2.<span class="built_in">emplace_back</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n*m) pow2.<span class="built_in">emplace_back</span>(<span class="built_in">mul</span>(pow2.<span class="built_in">back</span>(),<span class="number">2</span>));</span><br><span class="line">    ll t,tt,powt,a,b,ans1=<span class="number">0</span>,ans2=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,n)&#123;</span><br><span class="line">        a = pow2[<span class="built_in">mul</span>(m<span class="number">-1</span>,n-i)]; <span class="comment">// a = 2^(m-1)^(n-i)</span></span><br><span class="line">        b = <span class="built_in">qcpow</span>(pow2[i]<span class="number">-1</span>,m<span class="number">-1</span>); <span class="comment">// b = (2^i-1)^(m-1)</span></span><br><span class="line">        t = <span class="built_in">mul</span>(C[n][i],<span class="built_in">mul</span>(a,b)); <span class="comment">// t = C(n,i)*a*b</span></span><br><span class="line">        <span class="built_in">addto</span>(ans1,t);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;ll&gt;&gt; <span class="built_in">dp</span>(n+<span class="number">1</span>,<span class="built_in">vector</span>&lt;ll&gt;(m+<span class="number">1</span>,<span class="number">0</span>)); <span class="comment">//dp_i,jè¡¨ç¤ºjä¸ªç‰¹æ®Šä½è¦†ç›–äº†iä¸ªæ•°çš„æ–¹æ¡ˆæ•°</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        <span class="built_in">FORLL</span>(j,<span class="number">1</span>,m<span class="number">-1</span>)&#123; </span><br><span class="line">            dp[i][j] = <span class="built_in">mul</span>(<span class="built_in">add</span>(dp[i][j<span class="number">-1</span>],dp[i<span class="number">-1</span>][j<span class="number">-1</span>]),i); <span class="comment">// i*(dp[i][j-1]+dp[i-1][j-1])</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(k,<span class="number">2</span>,n)&#123; <span class="comment">// æœ«ä½ä¸º1çš„æ•°çš„ä¸ªæ•°</span></span><br><span class="line">        t = <span class="built_in">sub</span>(pow2[k],k+<span class="number">1</span>); <span class="comment">// 2^k-k-1</span></span><br><span class="line">        powt = <span class="number">1</span>;</span><br><span class="line">        a = pow2[<span class="built_in">mul</span>(n-k,m<span class="number">-1</span>)]; <span class="comment">// a = 2^(m-1)^(n-k)</span></span><br><span class="line">        b = <span class="number">0</span>; </span><br><span class="line">        <span class="built_in">FORLL_rev</span>(j,m<span class="number">-1</span>,k)&#123; <span class="comment">// kä¸ªå…ƒç´ æœ‰jä¸ªç‰¹æ®Šä½</span></span><br><span class="line">            tt = <span class="built_in">mul</span>(powt,dp[k][j]); <span class="comment">// t^(m-1-j)*dp[k][j]</span></span><br><span class="line">            tt = <span class="built_in">mul</span>(tt,C[m<span class="number">-1</span>][j]); <span class="comment">// C(m-1,j)*t^(m-1-j)*dp[k][j]</span></span><br><span class="line">            <span class="built_in">addto</span>(b,tt); </span><br><span class="line">            powt = <span class="built_in">mul</span>(powt,t); <span class="comment">// t^(m-1-j)</span></span><br><span class="line">        &#125;</span><br><span class="line">        tt = <span class="built_in">mul</span>(C[n][k],<span class="built_in">mul</span>(a,b)); <span class="comment">// C(n,k)*a*b</span></span><br><span class="line">        <span class="built_in">addto</span>(ans2,tt); </span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">sub</span>(ans1,ans2) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>C.Sum of Suffix Sums</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªåˆå§‹ä¸ºç©ºçš„æ•°ç»„ï¼Œä½ éœ€è¦è¿›è¡Œ <code>q</code> æ¬¡æ“ä½œï¼š</p><ul><li>å¯¹äºæ¯æ¬¡æ“ä½œï¼Œç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>t</code> å’Œ <code>v</code>ï¼Œå…ˆä»æ•°ç»„æœ«å°¾å–å‡º <code>t</code> ä¸ªå…ƒç´ ï¼Œç„¶åå°† <code>v</code> æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚ä¿è¯ <code>t</code> ä¸ä¼šè¶…è¿‡æ“ä½œå‰æ•°ç»„çš„é•¿åº¦ã€‚</li></ul><p>æ¯æ¬¡æ“ä½œåï¼Œå‡è®¾å½“å‰æ•°ç»„ä¸º <code>a1, a2, ..., an</code>ï¼Œè®¡ç®— <code>s1, s2, ..., sn</code> çš„æ€»å’Œï¼Œå…¶ä¸­ <code>si = ai + ai+1 + ... + an</code> æ˜¯ä»ä½ç½® <code>i</code> å¼€å§‹çš„åç¼€å’Œã€‚</p><p>ç”±äºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œè¾“å‡ºæ—¶éœ€å¯¹ <code>1000000007</code> å–æ¨¡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>è€ƒè™‘æ¯ä¸ªå…ƒç´ çš„è´¡çŒ®ï¼šç¬¬ $i$ ä¸ªå…ƒç´ å¯¹ç­”æ¡ˆçš„è´¡çŒ®ä¸º $i*a_i$ ã€‚</p><p>åœ¨åŠ å…¥å…ƒç´ æ—¶ï¼Œç›´æ¥å°†å…¶è´¡çŒ®åŠ å…¥ç­”æ¡ˆã€‚</p><p>åŒæ—¶å¯¹è¿™ä¸ªåºåˆ—ç»´æŠ¤ä¸€ä¸ªå‰ç¼€å’Œï¼Œä»¥ä¾¿å¿«é€Ÿç§»é™¤å…ƒç´ å’Œå‡å»è´¡çŒ®ã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> ll N = <span class="number">200005</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll q,t,rm;cin &gt;&gt; q;</span><br><span class="line">    ll n=<span class="number">1</span>;</span><br><span class="line">    vector&lt;ll&gt; v,s;</span><br><span class="line">    v.<span class="built_in">emplace_back</span>(<span class="number">0</span>);</span><br><span class="line">    s.<span class="built_in">emplace_back</span>(<span class="number">0</span>);</span><br><span class="line">    ll tm;</span><br><span class="line">    ll sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        cin &gt;&gt; rm &gt;&gt; t;</span><br><span class="line">        sum = <span class="built_in">Get_Mod</span>(sum-<span class="built_in">Get_Mod</span>(s[n<span class="number">-1</span>]-s[n-rm<span class="number">-1</span>]));</span><br><span class="line">        s.<span class="built_in">erase</span>(s.<span class="built_in">end</span>()-rm,s.<span class="built_in">end</span>());</span><br><span class="line">        v.<span class="built_in">erase</span>(v.<span class="built_in">end</span>()-rm,v.<span class="built_in">end</span>());</span><br><span class="line">        n-=rm;</span><br><span class="line"></span><br><span class="line">        tm = t;</span><br><span class="line">        tm = <span class="built_in">Get_Mod</span>(tm*n); <span class="comment">// å…ƒç´ è´¡çŒ®</span></span><br><span class="line">        sum = <span class="built_in">Get_Mod</span>(sum+tm);</span><br><span class="line">        v.<span class="built_in">emplace_back</span>(tm);</span><br><span class="line">        s.<span class="built_in">emplace_back</span>(sum);</span><br><span class="line">        n++;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>H.World Finals</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ä¸¤åœºICPCæ¯”èµ›ï¼Œå·²çŸ¥ï¼ˆé¢„æµ‹çš„ï¼‰ä¸¤åœºæ¯”èµ›çš„æ‰€æœ‰é˜Ÿä¼çš„è§£é¢˜æ•°å’Œç½šæ—¶ã€‚</p><p>å¦‚æœä¸€æ”¯é˜Ÿä¼åŒæ—¶å…·æœ‰ä¸¤åœºæ¯”èµ›çš„èµ„æ ¼ï¼Œåªèƒ½å‚åŠ å…¶ä¸­ä¸€åœºã€‚</p><p>ç°åœ¨ï¼Œ<code>lzr010506</code>å¯ä»¥å†³å®š åŒæ—¶å…·æœ‰ä¸¤åœºæ¯”èµ›çš„èµ„æ ¼ çš„é˜Ÿä¼å…·ä½“å‚åŠ å“ªä¸€åœºï¼Œæ ¹æ®é¢„æµ‹æ•°æ®æ±‚<code>lzr010506</code>å¯ä»¥å¾—åˆ°çš„æœ€é«˜åæ¬¡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>å¼€2ä¸ªmapåˆ†åˆ«è®°å½•ä¸¤åœºæ¯”èµ›æƒ…å†µã€‚</p><p>å‡è®¾<code>lzr010506</code>å‚åŠ å…¶ä¸­ä¸€åœºï¼Œå»æ‰é‚£ä¸€åœºæ‰€æœ‰çš„ åŒæ—¶å…·æœ‰ä¸¤åœºæ¯”èµ›çš„èµ„æ ¼ çš„é˜Ÿä¼ï¼Œæ’åºå³å¯å¾—åˆ°è¿™ä¸€åœºçš„æœ€ä½³åæ¬¡ã€‚</p><p>å¦‚æ­¤æ±‚å‡ºä¸¤åœºæ¯”èµ›çš„æœ€ä½³åæ¬¡ï¼Œå–æœ€å°å€¼å³å¯ã€‚</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> ll N = <span class="number">200005</span>;</span><br><span class="line">string me=<span class="string">&quot;lzr010506&quot;</span>;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">const</span> pair&lt;string,pll&gt; &amp;a,<span class="type">const</span> pair&lt;string,pll&gt; &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pll pa,pb;</span><br><span class="line">    pa=a.second; pb=b.second;</span><br><span class="line">    <span class="keyword">if</span>(pa.first==pb.first) <span class="keyword">return</span> pa.second&lt;pb.second;</span><br><span class="line">    <span class="keyword">return</span> pa.first&gt;pb.first;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;string,pll&gt; v1,v2;</span><br><span class="line">    ll n,m;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    string ts; ll t1,t2;</span><br><span class="line">    ll ans1,ans2;ans1=ans2=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; ts &gt;&gt; t1 &gt;&gt; t2;</span><br><span class="line">        v1[ts]=<span class="built_in">make_pair</span>(t1,t2);</span><br><span class="line">    &#125;</span><br><span class="line">    cin &gt;&gt; m;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,m)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; ts &gt;&gt; t1 &gt;&gt; t2;</span><br><span class="line">        v2[ts]=<span class="built_in">make_pair</span>(t1,t2);</span><br><span class="line">    &#125;</span><br><span class="line">    map&lt;string,pll&gt; tmp;</span><br><span class="line">    tmp = v1;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:v2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp.<span class="built_in">count</span>(x.first)&amp;&amp;x.first!=me)&#123;</span><br><span class="line">            tmp.<span class="built_in">erase</span>(x.first);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> tv = vector&lt;pair&lt;string,pll&gt;&gt;(tmp.<span class="built_in">begin</span>(),tmp.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">sort</span>(<span class="built_in">ALL</span>(tv),cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:tv)&#123;</span><br><span class="line">        ans1++;</span><br><span class="line">        <span class="keyword">if</span>(x.first==me) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    tmp = v2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:v1)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp.<span class="built_in">count</span>(x.first)&amp;&amp;x.first!=me)&#123;</span><br><span class="line">            tmp.<span class="built_in">erase</span>(x.first);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    tv = vector&lt;pair&lt;string,pll&gt;&gt;(tmp.<span class="built_in">begin</span>(),tmp.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">sort</span>(<span class="built_in">ALL</span>(tv),cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:tv)&#123;</span><br><span class="line">        ans2++;</span><br><span class="line">        <span class="keyword">if</span>(x.first==me) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">min</span>(ans1,ans2) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>I.Mirror Maze</h1><p><strong>DFS</strong></p><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>åœ¨ä¸€ä¸ª $n \times m$ çš„é•œå­è¿·å®«ä¸­ï¼Œæ¯ä¸ªæ ¼å­éƒ½æœ‰ä¸€é¢é•œå­ã€‚é•œå­çš„ç±»å‹æœ‰ä»¥ä¸‹å››ç§ï¼š</p><ol><li><code>-</code>ï¼šæ¥è‡ªä¸Šæ–¹æˆ–ä¸‹æ–¹çš„å…‰çº¿å°†è¢«åå°„å›å»ï¼Œæ¥è‡ªå·¦æ–¹æˆ–å³æ–¹çš„å…‰çº¿åˆ™ç»§ç»­å‰è¿›è€Œä¸ä¼šè¢«åå°„ã€‚</li><li><code>|</code>ï¼šæ¥è‡ªå·¦æ–¹æˆ–å³æ–¹çš„å…‰çº¿å°†è¢«åå°„å›å»ï¼Œæ¥è‡ªä¸Šæ–¹æˆ–ä¸‹æ–¹çš„å…‰çº¿åˆ™ç»§ç»­å‰è¿›è€Œä¸ä¼šè¢«åå°„ã€‚</li><li><code>/</code>ï¼šæ¥è‡ªå·¦æ–¹ã€å³æ–¹ã€ä¸Šæ–¹ã€ä¸‹æ–¹çš„å…‰çº¿å°†åˆ†åˆ«è¢«åå°„åˆ°ä¸Šæ–¹ã€ä¸‹æ–¹ã€å·¦æ–¹ã€å³æ–¹ã€‚</li><li><code>\</code>ï¼šæ¥è‡ªå·¦æ–¹ã€å³æ–¹ã€ä¸Šæ–¹ã€ä¸‹æ–¹çš„å…‰çº¿å°†åˆ†åˆ«è¢«åå°„åˆ°ä¸‹æ–¹ã€ä¸Šæ–¹ã€å³æ–¹ã€å·¦æ–¹ã€‚</li></ol><p>ç°åœ¨æœ‰ $q$ ä¸ªå…‰æºï¼ˆç»™å®šä½ç½®å’Œæ–¹å‘ï¼‰ã€‚å…‰çš„ä¿¡å¾’å°Gæƒ³çŸ¥é“ï¼Œå¯¹äºæ¯ä¸ªå…‰æºï¼Œåœ¨è¶³å¤Ÿé•¿çš„æ—¶é—´å†…ï¼Œå‘å‡ºçš„å…‰çº¿ä¼šè¢«åå°„ç»è¿‡çš„ä¸åŒé•œå­çš„æ•°é‡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-5">è§£é¢˜æ€è·¯</h2><p>å¯¹äºä¸€ä¸ªå…‰æºï¼Œå¦‚æœå®ƒçš„ä¼ æ’­è·¯å¾„æ²¡æœ‰é¦–å°¾ç›¸è¿æˆç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªè·¯å¾„å°±åªå¯èƒ½æ˜¯ä¸€æ¡é“¾ã€‚<br>ï¼ˆè¯æ˜ï¼šå…‰çš„è·¯å¾„æ˜¯å¯é€†çš„ï¼Œå‡è®¾ä¸€æ¡ä¼ æ’­è·¯å¾„åœ¨æŸä¸€ç‚¹çªç„¶å½¢æˆäº†ç¯ï¼Œé‚£å›æº¯æ—¶åœ¨è¿™ä¸ªç‚¹å°±å¯ä»¥æœ‰ä¸¤æ¡è·¯å¾„ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼‰</p><p>å¯¹äºç»™å®šçš„é•œå­é˜µåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¤„ç†å‡ºæ¯ä¸ªç‚¹å‘æ¯ä¸ªæ–¹å‘çš„ç­”æ¡ˆï¼Œå¯¹æœ€åçš„è¯¢é—®æ‰“è¡¨ã€‚</p><p>åªè¦æ˜¯ä¸€æ¡é“¾ï¼Œå®ƒçš„æœ€åˆèµ·ç‚¹å’Œæœ€åç»ˆç‚¹ä¸€å®šåœ¨é˜µåˆ—çš„è¾¹ç¼˜ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥ä»è¾¹ç¼˜ä½ç½®å¼€å§‹å‘å†…DFSï¼Œç›´åˆ°é‡åˆ°è¾¹ç¼˜ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€æ¡é“¾çš„è·¯å¾„ï¼Œè·¯å¾„ä¸Šçš„ç­”æ¡ˆéƒ½å¯ä»¥å¤„ç†å¾—åˆ°ã€‚</p><p>æ²¡æœ‰éå†åˆ°çš„ç‚¹ï¼Œè¯´æ˜å®ƒä»¬æ˜¯ç¯çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ—¶é—´æˆ³æ¥å¯»æ‰¾å’Œå¤„ç†ç¯ä¸Šçš„ç­”æ¡ˆã€‚</p><h2 id="å‚è€ƒç¨‹åº-5">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//                D  U  R  L</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dy[] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> c0[] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>&#125;; <span class="comment">// -</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> c1[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>&#125;; <span class="comment">// |</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> c2[] = &#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>&#125;; <span class="comment">// /</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> c3[] = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>&#125;; <span class="comment">// \&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">conv</span><span class="params">(<span class="type">int</span> d, <span class="type">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(c)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: <span class="keyword">return</span> c0[d];</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;|&#x27;</span>: <span class="keyword">return</span> c1[d];</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: <span class="keyword">return</span> c2[d];</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\\&#x27;</span>: <span class="keyword">return</span> c3[d];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,q,tms,cnt; <span class="comment">//tms:timestamp</span></span><br><span class="line">vector&lt;string&gt; mp;</span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; vis;</span><br><span class="line">vector&lt;vector&lt;array&lt;<span class="type">int</span>,4&gt;&gt;&gt; ans,visd;</span><br><span class="line">vector&lt;tuple&lt;<span class="type">int</span>,<span class="type">int</span>,<span class="type">int</span>&gt;&gt; buf;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs_line</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> dir)</span></span>&#123;</span><br><span class="line">    buf.<span class="built_in">push_back</span>(&#123;x,y,dir&#125;);</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>||x&gt;=n||y&lt;<span class="number">0</span>||y&gt;=m) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> nd=<span class="built_in">conv</span>(dir,mp[x][y]); <span class="comment">//new direction</span></span><br><span class="line">    <span class="built_in">dfs_line</span>(x+dx[nd],y+dy[nd],nd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f_line</span><span class="params">(<span class="type">int</span> sx,<span class="type">int</span> sy,<span class="type">int</span> sd)</span></span>&#123;</span><br><span class="line">    buf.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="built_in">dfs_line</span>(sx,sy,sd);</span><br><span class="line">    <span class="built_in">reverse</span>(buf.<span class="built_in">begin</span>(),buf.<span class="built_in">end</span>());</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>; tms++;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;buf.<span class="built_in">size</span>()<span class="number">-1</span>;i++)&#123; <span class="comment">//å›æº¯</span></span><br><span class="line">        <span class="keyword">auto</span> [x,y,d]=buf[i];</span><br><span class="line">        <span class="keyword">if</span>(i)&#123;</span><br><span class="line">            <span class="type">int</span> fl=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(mp[x][y]==<span class="string">&#x27;-&#x27;</span>&amp;&amp;(d&amp;<span class="number">2</span>)||mp[x][y]==<span class="string">&#x27;|&#x27;</span>&amp;&amp;!(d&amp;<span class="number">2</span>)) fl=<span class="number">0</span>; <span class="comment">// é€šè¿‡</span></span><br><span class="line">            <span class="keyword">if</span>(fl)&#123;</span><br><span class="line">                <span class="keyword">if</span>(vis[x][y]!=tms) res+=fl; <span class="comment">// åå°„</span></span><br><span class="line">                vis[x][y]=tms;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visd[x+dx[d^<span class="number">1</span>]][y+dy[d^<span class="number">1</span>]][d]=tms;</span><br><span class="line">        ans [x+dx[d^<span class="number">1</span>]][y+dy[d^<span class="number">1</span>]][d]=res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs_loop</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> dir)</span></span>&#123;</span><br><span class="line">    visd[x][y][dir]=tms;</span><br><span class="line">    x += dx[dir];</span><br><span class="line">    y += dy[dir];</span><br><span class="line">    <span class="type">int</span> nd = <span class="built_in">conv</span>(dir,mp[x][y]);</span><br><span class="line">    <span class="keyword">if</span>(nd!=dir)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[x][y]!=tms) cnt++;</span><br><span class="line">        vis[x][y]=tms;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(visd[x][y][nd]!=tms) <span class="built_in">dfs_loop</span>(x,y,nd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mk_loop</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> dir)</span></span>&#123;</span><br><span class="line">    ans[x][y][dir] = cnt;</span><br><span class="line">    visd[x][y][dir] = tms;</span><br><span class="line">    x+=dx[dir];</span><br><span class="line">    y+=dy[dir];</span><br><span class="line">    <span class="type">int</span> nd=<span class="built_in">conv</span>(dir,mp[x][y]);</span><br><span class="line">    <span class="keyword">if</span>(visd[x][y][nd]!=tms) <span class="built_in">mk_loop</span>(x,y,nd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f_loop</span><span class="params">(<span class="type">int</span> sx,<span class="type">int</span> sy,<span class="type">int</span> sd)</span></span>&#123;</span><br><span class="line">    cnt=<span class="number">0</span>; tms++;</span><br><span class="line">    <span class="built_in">dfs_loop</span>(sx,sy,sd);</span><br><span class="line">    tms++;</span><br><span class="line">    <span class="built_in">mk_loop</span>(sx,sy,sd);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    mp.<span class="built_in">clear</span>();</span><br><span class="line">    mp.<span class="built_in">resize</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; s:mp) cin &gt;&gt; s;</span><br><span class="line">    ans.<span class="built_in">resize</span>(n,vector&lt;array&lt;<span class="type">int</span>,<span class="number">4</span>&gt;&gt;(m,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;));</span><br><span class="line">    visd.<span class="built_in">resize</span>(n,vector&lt;array&lt;<span class="type">int</span>,<span class="number">4</span>&gt;&gt;(m,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;));</span><br><span class="line">    vis.<span class="built_in">resize</span>(n,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">f_line</span>(i,<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">f_line</span>(i,m<span class="number">-1</span>,<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="built_in">f_line</span>(<span class="number">0</span>,i,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">f_line</span>(n<span class="number">-1</span>,i,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> d=<span class="number">0</span>;d&lt;<span class="number">4</span>;d++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(visd[i][j][d]==<span class="number">0</span>)</span><br><span class="line">                    <span class="built_in">f_loop</span>(i,j,d);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cin &gt;&gt; q;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="type">int</span> x,y,d;</span><br><span class="line">        string s;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y &gt;&gt; s;</span><br><span class="line">        x--,y--;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">&#x27;b&#x27;</span>) d=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">&#x27;a&#x27;</span>) d=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">&#x27;r&#x27;</span>) d=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>]==<span class="string">&#x27;l&#x27;</span>) d=<span class="number">3</span>;</span><br><span class="line">        cout &lt;&lt; ans[x][y][d] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024æš‘æœŸç‰›å®¢å¤šæ ¡01</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024æš‘æœŸç‰›å®¢å¤šæ ¡" scheme="https://www.cclmsy.cc/tags/2024%E6%9A%91%E6%9C%9F%E7%89%9B%E5%AE%A2%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>é¡¹ç›®æ–‡æ¡£|åŸºäºç§‘å¤§è®¯é£æ˜Ÿç«å¤§æ¨¡å‹çš„Nonebot2æ’ä»¶</title>
    <link href="https://www.cclmsy.cc/posts/Project_nonebot_plugin_sparkapi.html"/>
    <id>https://www.cclmsy.cc/posts/Project_nonebot_plugin_sparkapi.html</id>
    <published>2024-07-11T14:00:00.000Z</published>
    <updated>2024-08-21T05:14:20.654Z</updated>
    
    <content type="html"><![CDATA[<div align="center">  <a href="https://v2.nonebot.dev/store"><img src="https://source.cclmsy.cc/Images/nbp_Sparkapi/nbp_logo.png" width="180" height="180" alt="NoneBotPluginLogo"></a>  <br>  <p><img src="https://source.cclmsy.cc/Images/nbp_Sparkapi/NoneBotPlugin.svg" width="240" alt="NoneBotPluginText"></p></div><div align="center"><h1>nonebot-plugin-sparkapi</h1><p><em>âœ¨ ç§‘å¤§è®¯é£æ˜Ÿç«å¤§æ¨¡å‹å®˜æ–¹ API èŠå¤©æœºå™¨äºº âœ¨</em></p><a href="./LICENSE">    <img src="https://img.shields.io/github/license/CCLMSY/nonebot-plugin-sparkapi.svg" alt="license"></a><a href="https://pypi.python.org/pypi/nonebot-plugin-sparkapi">    <img src="https://img.shields.io/pypi/v/nonebot-plugin-sparkapi.svg" alt="pypi"></a><img src="https://img.shields.io/badge/python-3.10+-blue.svg" alt="python"></div><h2 id="ğŸ“–-ä»‹ç»">ğŸ“– ä»‹ç»</h2><p>åŸºäº Nonebot2 å¹³å°/ç§‘å¤§è®¯é£æ˜Ÿç«å¤§æ¨¡å‹å®˜æ–¹ API çš„ AI èŠå¤©æœºå™¨äººæ’ä»¶</p><p>é€‚ç”¨äºæ‰€æœ‰æ¨¡å‹ç‰ˆæœ¬ï¼ˆé»˜è®¤å½“å‰æœ€æ–° <code>v4.0</code>ï¼‰ï¼ŒåŒæ—¶æ”¯æŒè‡ªå®šä¹‰äººç‰©é¢„è®¾ã€ä¼šè¯ç®¡ç†ï¼Œå…¼å…· AI ç»˜å›¾ã€AI ç”Ÿæˆ PPT ç­‰åŠŸèƒ½</p><p>å¼€å‘ç¯å¢ƒï¼š<code>Python3.11.8 on Conda, Windows 11</code></p><blockquote><p>[!important]</p><p>ä¸ºäº†æ–¹ä¾¿çš„ç›´æ¥é˜…è¯»å­˜å‚¨çš„æ–‡ä»¶ï¼Œ<code>v2.0.5</code> ç‰ˆæœ¬èµ·ï¼Œä¿¡æ¯ç¼–ç æ–¹å¼æ›´æ”¹ä¸º <code>UTF-8</code>ã€‚ä»æ—§ç‰ˆæœ¬æ›´æ–°åˆ° <code>v2.0.5</code> ä»¥ä¸Šç‰ˆæœ¬æ—¶ï¼Œè¯·åŠ¡å¿…åˆ é™¤ BOT é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„<code>SparkApi</code>æ–‡ä»¶å¤¹ï¼Œå³æ¸…é™¤æ‰€æœ‰ç¼“å­˜æ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿé”™è¯¯ã€‚ç”±æ­¤å¸¦æ¥ä¸ä¾¿æ•¬è¯·è°…è§£ï¼QwQ</p><p>é¡¹ç›®æ­£åœ¨å‡†å¤‡é‡å†™æ›´æ–°åˆ°3.xï¼ŒæœŸæœ›é›†æˆç»å¤§éƒ¨åˆ†æ˜Ÿç«å¤§æ¨¡å‹çš„èƒ½åŠ›</p></blockquote><h3 id="ğŸ“¦-é¡¹ç›®åœ°å€">ğŸ“¦ é¡¹ç›®åœ°å€</h3><ul><li>Github: <a href="https://github.com/CCLMSY/nonebot-plugin-sparkapi">https://github.com/CCLMSY/nonebot-plugin-sparkapi</a></li><li>Pypi: <a href="https://pypi.org/project/nonebot-plugin-sparkapi/">https://pypi.org/project/nonebot-plugin-sparkapi/</a></li><li>NoneBot: <a href="https://registry.nonebot.dev/plugin/nonebot-plugin-sparkapi:nonebot_plugin_sparkapi">https://registry.nonebot.dev/plugin/nonebot-plugin-sparkapi:nonebot_plugin_sparkapi</a></li><li>ä½œè€…ä¸»é¡µ: <a href="https://cclmsy.cc">https://cclmsy.cc</a></li><li>è§‰å¾—å¥½ç”¨çš„è¯ï¼Œè¯·ç»™ä¸ª Starâ­ï¸ è°¢è°¢å–µ~</li></ul><h3 id="ğŸ’¬-åŠŸèƒ½">ğŸ’¬ åŠŸèƒ½</h3><ul><li>[x] æ”¯æŒ AI å¯¹è¯ï¼ˆå·²é€‚é…æ˜Ÿç« 4.0APIï¼‰</li><li>[x] æ”¯æŒä¸Šä¸‹æ–‡å…³è”</li><li>[x] æ”¯æŒè‡ªå®šä¹‰é¢„è®¾ã€é¢„è®¾ç®¡ç†</li><li>[x] æ”¯æŒä¼šè¯å­˜å‚¨å’ŒåŠ è½½ã€ä¼šè¯ç®¡ç†</li><li>[x] æ”¯æŒé¢„è®¾å’Œå†å²è®°å½•æŒä¹…åŒ–ï¼ˆåŸºäº jsonï¼‰</li><li>[x] å®Œå–„é…ç½®é¡¹ï¼ˆæœ‰å…¶ä»–éœ€æ±‚è¯·å‘ issueï¼‰</li><li>[x] æ”¯æŒ AI ç»˜å›¾ï¼ˆImage Generationï¼‰</li><li>[x] æ”¯æŒ AI ç”Ÿæˆ PPTï¼ˆPPT Generationï¼‰</li><li>[ ] æ–‡æ¡£é—®ç­”ï¼ˆDocument QAï¼‰</li><li>[ ] ç”¨æˆ·æƒé™ä¸åŠŸèƒ½åŒºåˆ†ï¼ˆè¶…çº§ç”¨æˆ·ã€æ™®é€šç”¨æˆ·ï¼‰</li></ul><h2 id="ğŸ’¿-å®‰è£…">ğŸ’¿ å®‰è£…</h2><details open><summary>ä½¿ç”¨ nb-cli å®‰è£…</summary>åœ¨ nonebot2 é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œ, è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤å³å¯å®‰è£…<pre><code>nb plugin install nonebot-plugin-sparkapi</code></pre></details><details><summary>ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</summary>åœ¨ nonebot2 é¡¹ç›®çš„æ’ä»¶ç›®å½•ä¸‹, æ‰“å¼€å‘½ä»¤è¡Œ, æ ¹æ®ä½ ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨, è¾“å…¥ç›¸åº”çš„å®‰è£…å‘½ä»¤<details><summary>pip</summary><pre><code>pip install nonebot-plugin-sparkapi</code></pre></details><details><summary>pdm</summary><pre><code>pdm add nonebot-plugin-sparkapi</code></pre></details><details><summary>poetry</summary><pre><code>poetry add nonebot-plugin-sparkapi</code></pre></details><details><summary>conda</summary><pre><code>conda install nonebot-plugin-sparkapi</code></pre></details><p>æ‰“å¼€ nonebot2 é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>pyproject.toml</code> æ–‡ä»¶, åœ¨ <code>[tool.nonebot]</code> éƒ¨åˆ†è¿½åŠ å†™å…¥</p><pre><code>plugins = [&quot;nonebot_plugin_sparkapi&quot;]</code></pre></details><h2 id="âš™ï¸-é…ç½®é¡¹">âš™ï¸ é…ç½®é¡¹</h2><p>åœ¨ nonebot2 é¡¹ç›®çš„<code>.env</code>æ–‡ä»¶ä¸­æ·»åŠ ä¸‹åˆ—é…ç½®é¡¹ä¸­çš„å¿…å¡«é…ç½®ï¼ˆSPARKAPI_APP_ID, SPARKAPI_API_SECRET, SPARKAPI_API_KEYï¼‰</p><p>æœåŠ¡æ¥å£è®¤è¯ä¿¡æ¯ app_id, api_secret, api_key è¯·å‰å¾€ <a href="https://console.xfyun.cn/">è®¯é£å¼€æ”¾å¹³å°æ§åˆ¶å°</a> è·å–</p><p>AI ç»˜å›¾ã€AI ç”Ÿæˆ PPT åŠŸèƒ½çš„ API ä¿¡æ¯åœ¨åŒä¸€åº”ç”¨ä¸‹ä¸å¯¹è¯ API ä¿¡æ¯ç›¸åŒï¼Œå¼€å¯ç›¸åº”åŠŸèƒ½å‰éœ€è¦åœ¨è®¯é£å¼€æ”¾å¹³å°ç”³è¯·ç›¸åº”çš„æœåŠ¡ç”¨é‡</p><table><thead><tr><th style="text-align:center">é…ç½®é¡¹</th><th style="text-align:center">å¿…å¡«</th><th style="text-align:center">é»˜è®¤å€¼</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">SPARKAPI_APP_ID</td><td style="text-align:center">æ˜¯</td><td style="text-align:center">/</td><td style="text-align:center">APPID</td></tr><tr><td style="text-align:center">SPARKAPI_API_SECRET</td><td style="text-align:center">æ˜¯</td><td style="text-align:center">/</td><td style="text-align:center">APISecret</td></tr><tr><td style="text-align:center">SPARKAPI_API_KEY</td><td style="text-align:center">æ˜¯</td><td style="text-align:center">/</td><td style="text-align:center">APIKey</td></tr><tr><td style="text-align:center">SPARKAPI_MODEL_VERSION</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>&quot;&quot;</code></td><td style="text-align:center">æ˜Ÿç«å¤§æ¨¡å‹çš„ç‰ˆæœ¬ï¼Œé»˜è®¤ä¸ºå½“å‰æœ€æ–°ã€‚<br>å¯é€‰å€¼ï¼šâ€œdefaultâ€, â€œv4.0â€, â€œv3.5â€, â€œv3.0â€, â€œv2.0â€, â€œv1.5â€</td></tr><tr><td style="text-align:center">SPARKAPI_MODEL_TOP_K</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>4</code></td><td style="text-align:center">å¹³è¡¡ç”Ÿæˆæ–‡æœ¬çš„è´¨é‡å’Œå¤šæ ·æ€§ã€‚<br>è¾ƒå°çš„ k å€¼ä¼šå‡å°‘éšæœºæ€§ï¼Œä½¿å¾—è¾“å‡ºæ›´åŠ ç¨³å®šï¼›<br>è€Œè¾ƒå¤§çš„ k å€¼ä¼šå¢åŠ éšæœºæ€§ï¼Œäº§ç”Ÿæ›´å¤šæ–°é¢–çš„è¾“å‡ºã€‚<br>å–å€¼èŒƒå›´[1, 6]</td></tr><tr><td style="text-align:center">SPARKAPI_MODEL_TEMPERATURE</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>0.5</code></td><td style="text-align:center">æ§åˆ¶ç»“æœéšæœºæ€§ï¼Œå–å€¼è¶Šé«˜éšæœºæ€§è¶Šå¼ºï¼Œå³ç›¸åŒçš„é—®é¢˜å¾—åˆ°çš„ä¸åŒç­”æ¡ˆçš„å¯èƒ½æ€§è¶Šé«˜ã€‚<br>å–å€¼èŒƒå›´ (0ï¼Œ1]</td></tr><tr><td style="text-align:center">SPARKAPI_MODEL_MAXLENGTH</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>8000</code></td><td style="text-align:center">å•æ¬¡ä¸Šä¸‹æ–‡æœ€å¤§ token é•¿åº¦ï¼Œv2.0 ä»¥ä¸Šå»ºè®®å–å€¼èŒƒå›´ï¼š[4000,8000]ã€‚<br>è¯¦ç»†è¯´æ˜è§ä¸‹æ–‡</td></tr><tr><td style="text-align:center">SPARKAPI_PRIORITY</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>80</code></td><td style="text-align:center">æœ¬æ’ä»¶å“åº”äº‹ä»¶çš„ä¼˜å…ˆçº§ï¼Œå»ºè®®è®¾ç½®è¾ƒå¤§çš„å€¼ã€‚å¯é€‰å€¼ï¼š1~97ã€‚<br>è¯¦ç»†è¯´æ˜è§ä¸‹æ–‡</td></tr><tr><td style="text-align:center">SPARKAPI_COMMAND_CHAT</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>&quot;&quot;</code></td><td style="text-align:center">æœºå™¨äººå¯¹è¯æŒ‡ä»¤ï¼Œé»˜è®¤ä¸º&quot;&quot;å¯ç›´æ¥å¯¹è¯</td></tr><tr><td style="text-align:center">SPARKAPI_FL_NOTICE</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>True</code></td><td style="text-align:center">æ”¶åˆ°å¯¹è¯è¯·æ±‚æ—¶æ˜¯å¦æç¤ºâ€œå·²æ”¶åˆ°è¯·æ±‚â€</td></tr><tr><td style="text-align:center">SPARKAPI_FL_PRIVATE_CHAT</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>True</code></td><td style="text-align:center">æ˜¯å¦å…è®¸ç§èŠä½¿ç”¨</td></tr><tr><td style="text-align:center">SPARKAPI_FL_GROUP_PUBLIC</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>False</code></td><td style="text-align:center">ç¾¤èŠå¯ç”¨å…¬å…±ä¼šè¯<br>Trueï¼šæ‰€æœ‰äººå…±äº«åŒä¸€ä¼šè¯<br>Falseï¼šæ¯ä¸ªäººçš„ä¼šè¯å„è‡ªç‹¬ç«‹</td></tr><tr><td style="text-align:center">SPARKAPI_FL_INTERFLOW</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>False</code></td><td style="text-align:center">å¯¹äºåŒä¸€ç”¨æˆ·ï¼Œç¾¤èŠä¸ç§èŠæ•°æ®äº’é€šï¼ˆå…¬å…±ä¼šè¯å¯ç”¨æ—¶ï¼Œç¾¤èŠä»ç‹¬ç«‹ï¼‰</td></tr><tr><td style="text-align:center">SPARKAPI_FL_GROUP_AT</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>True</code></td><td style="text-align:center">ç¾¤èŠå›å¤æ¶ˆæ¯æ—¶æ˜¯å¦éœ€è¦@æé—®è€…</td></tr><tr><td style="text-align:center">SPARKAPI_FL_IMGGEN</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>False</code></td><td style="text-align:center">æ˜¯å¦å¯ç”¨ AI ç»˜å›¾åŠŸèƒ½</td></tr><tr><td style="text-align:center">SPARKAPI_FL_PPTGEN</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>False</code></td><td style="text-align:center">æ˜¯å¦å¯ç”¨ AI ç”Ÿæˆ PPT åŠŸèƒ½</td></tr><tr><td style="text-align:center">SPARKAPI_IG_SIZE</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>[1280,720]</code></td><td style="text-align:center">AI ç»˜å›¾çš„å›¾ç‰‡å°ºå¯¸ï¼Œ[å®½,é«˜]ã€‚<br>å¯é€‰å€¼å’Œ API æ¶ˆè€—è§ä¸‹æ–‡</td></tr><tr><td style="text-align:center">SPARKAPI_BOT_NAME</td><td style="text-align:center">å¦</td><td style="text-align:center"><code>&quot;&quot;</code></td><td style="text-align:center">æœºå™¨äººçš„åå­—</td></tr></tbody></table><h3 id="SPARKAPI-MODEL-MAXKLENGTH">SPARKAPI_MODEL_MAXKLENGTH</h3><ul><li>å•æ¬¡ä¸Šä¸‹æ–‡æœ€å¤§ token é•¿åº¦</li><li>è¯¥å€¼è¶Šå¤§ï¼Œå¯¹è¯å†å²è®°å½•ä¿ç•™è¶Šé•¿ï¼Œå•æ¬¡è¯·æ±‚æ¶ˆè€— token çš„æœ€å¤§å€¼è¶Šå¤§</li><li>1tokenâ‰ˆ1.5 ä¸ªä¸­æ–‡å­— â‰ˆ1 ä¸ªè‹±æ–‡å•è¯ã€‚ä¿å®ˆèµ·è§ï¼Œåœ¨æœ¬æ’ä»¶ä¸­ 1token å– 1.25 ä¸ªå­—ç¬¦</li><li>v1.5 å»ºè®®å–å€¼ï¼š4000ï¼ˆAPI é™åˆ¶ä¸èƒ½è¶…è¿‡ 4000tokenï¼‰</li><li>v2.0 ä»¥ä¸Šå»ºè®®å–å€¼èŒƒå›´ï¼š[4000,8000]ï¼ˆAPI é™åˆ¶ä¸èƒ½è¶…è¿‡ 8000tokenï¼‰</li><li>QQ å•æ¡æ¶ˆæ¯ä¸Šé™ 4500 ä¸ªå­—ç¬¦ï¼ˆè®¡ 3600tokenï¼‰ï¼Œæ¶ˆæ¯è¶…è¿‡æœ€å¤§é•¿åº¦å¯èƒ½å¯¼è‡´å“åº”ä¸æ­£ç¡®</li></ul><h3 id="SPARKAPI-PRIORITY">SPARKAPI_PRIORITY</h3><ul><li>å“åº”äº‹ä»¶çš„ä¼˜å…ˆçº§ï¼Œè¯¥å€¼è¶Šå°ï¼Œäº‹ä»¶è¶Šå…ˆè¢«æœ¬æ’ä»¶å“åº”ã€‚å¯é€‰å€¼ï¼š1~97</li><li>æœ¬æ’ä»¶ä¸­äº‹ä»¶çš„ä¼˜å…ˆçº§é¡ºåºï¼šç§èŠé˜»æ–­ï¼ˆ=priorityï¼‰&lt; åŠŸèƒ½ï¼ˆ=priority+1ï¼‰&lt; å¯¹è¯ï¼ˆ=priority+2ï¼‰</li><li>è‹¥è§¦å‘æœ¬æ’ä»¶äº‹ä»¶ï¼Œæ‰€æœ‰æ’ä»¶ä¸­ä¼˜å…ˆçº§å¤§äºæ­¤å€¼çš„äº‹ä»¶éƒ½å°†è¢«é˜»æ–­ï¼Œå› æ­¤æœ¬æ’ä»¶å»ºè®®è®¾ç½®è¾ƒå¤§çš„å€¼ã€‚</li></ul><h3 id="SPARKAPI-IG-SIZE">SPARKAPI_IG_SIZE</h3><table><thead><tr><th style="text-align:center">åˆ†è¾¨ç‡ï¼ˆå¯é€‰å€¼ï¼‰</th><th style="text-align:center">æ¶ˆè€—å›¾ç‚¹æ•°</th></tr></thead><tbody><tr><td style="text-align:center">[512,512]</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">[640,360]</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">[640,480]</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">[640,640]</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">[680,512]</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">[512,680]</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">[768,768]</td><td style="text-align:center">8</td></tr><tr><td style="text-align:center">[720,1280]</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">[1280,720]</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">[1024,1024]</td><td style="text-align:center">14</td></tr></tbody></table><h3 id="å‘½ä»¤ç›¸å…³ï¼šsparkapi-commandsã€sparkapi-commands-info">å‘½ä»¤ç›¸å…³ï¼šsparkapi_commandsã€sparkapi_commands_info</h3><ul><li><p>å¦‚æœ‰éœ€è¦ï¼Œä»¥ä¸‹å‘½ä»¤ç›¸å…³é…ç½®é¡¹è¯·åœ¨<code>./.venv/Lib/nonebot_plugin_sparkapi/config.py</code>ä¿®æ”¹ï¼š</p><ol><li>sparkapi_commandsï¼šæŒ‡ä»¤è¡¨</li><li>sparkapi_commands_infoï¼šæŒ‡ä»¤è¡¨è¯´æ˜ï¼ˆç”¨äºç”Ÿæˆå¸®åŠ©ä¿¡æ¯ï¼‰</li></ol></li><li><p>åœ¨<code>config.py</code>æ–‡ä»¶ä¸­ï¼Œå·²ç»ç”¨ç¼©è¿›è¡¨ç¤ºäº†å‘½ä»¤ä¹‹é—´çš„ä»å±å…³ç³»ã€‚ä¸€çº§å‘½ä»¤ä¸ºä¸»å‘½ä»¤ï¼ŒäºŒçº§å‘½ä»¤ä¸ºå­å‘½ä»¤ã€‚</p></li><li><p>å‘½ä»¤æ ¼å¼ç”± NoneBot æœºå™¨äººé¡¹ç›®ä¸‹çš„é…ç½®æ–‡ä»¶<code>.env</code>ä¸­çš„<code>COMMAND_START</code>å’Œ<code>COMMAND_SEP</code>å†³å®šï¼ˆè¯·å‚è€ƒ NoneBot æ–‡æ¡£ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>COMMAND_START</code>ä¸º<code>[&quot;/&quot;]</code>ï¼Œ<code>COMMAND_SEP</code>ä¸º<code>[&quot;.&quot;]</code>ã€‚</p></li><li><p>ä¸€çº§å‘½ä»¤å¸®åŠ©ä¿¡æ¯ä¼šå‡ºç°åœ¨<code>help</code>ä¸­ï¼ŒäºŒçº§å‘½ä»¤å¸®åŠ©ä¿¡æ¯åœ¨å•ç‹¬ä½¿ç”¨ä¸€çº§å‘½ä»¤æ—¶å‡ºç°ã€‚</p></li><li><p>ä»¥äºŒçº§å‘½ä»¤<code>preset_create</code>ä¸ºä¾‹ï¼Œé»˜è®¤é…ç½®ä¸‹ï¼š</p><ul><li>é¢„è®¾ç®¡ç†å‘½ä»¤<code>preset</code>ã€äºŒçº§å‘½ä»¤<code>create</code>ã€‚</li><li>å®Œæ•´å‘½ä»¤æ ¼å¼ä¸º<code>/preset.create</code>ã€‚</li><li>è¿™ä¸ªå‘½ä»¤ä¸ä¼šå‡ºç°åœ¨<code>/help</code>çš„å¸®åŠ©ä¿¡æ¯ä¸­ï¼Œä½†ä¼šåœ¨å‘é€<code>/preset</code>æ—¶å‘ŠçŸ¥ç”¨æˆ·å‘½ä»¤å’Œç”¨æ³•ã€‚</li></ul></li></ul><h2 id="ğŸ‰-ä½¿ç”¨">ğŸ‰ ä½¿ç”¨</h2><h3 id="æŒ‡ä»¤è¡¨ï¼ˆé»˜è®¤ï¼‰">æŒ‡ä»¤è¡¨ï¼ˆé»˜è®¤ï¼‰</h3><p>ä»¥ä¸‹æ‰€æœ‰æŒ‡ä»¤å‡å¯åœ¨ <a href="http://config.py">config.py</a> ä¸­ä¿®æ”¹ï¼Œä¸”æ— éœ€é‡å†™èœå•/æŒ‡ä»¤ç”Ÿæˆå‡½æ•°</p><table><thead><tr><th style="text-align:center">æŒ‡ä»¤ï¼ˆé»˜è®¤é…ç½®ä¸‹ï¼‰</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">ç›´æ¥å‘é€å¯¹è¯å†…å®¹<br>SPARKAPI_COMMAND_CHATï¼ˆè‹¥ä¸ä¸ºç©ºï¼‰+å¯¹è¯å†…å®¹</td><td style="text-align:center">ä¸æœºå™¨äººè¿›è¡Œå¯¹è¯</td></tr><tr><td style="text-align:center">/help</td><td style="text-align:center">æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</td></tr><tr><td style="text-align:center">/preset</td><td style="text-align:center">æ˜¾ç¤ºäººç‰©é¢„è®¾èœå•å’Œé¢„è®¾ç›¸å…³å‘½ä»¤é¡¹</td></tr><tr><td style="text-align:center">/preset.create</td><td style="text-align:center">åˆ›å»ºè‡ªå®šä¹‰äººç‰©é¢„è®¾</td></tr><tr><td style="text-align:center">/preset.set</td><td style="text-align:center">é€‰æ‹©äººç‰©é¢„è®¾å¹¶åˆ‡æ¢</td></tr><tr><td style="text-align:center">/preset.show</td><td style="text-align:center">æ˜¾ç¤ºè‡ªå®šä¹‰äººç‰©é¢„è®¾è¯¦æƒ…</td></tr><tr><td style="text-align:center">/preset.delete</td><td style="text-align:center">åˆ é™¤è‡ªå®šä¹‰äººç‰©é¢„è®¾</td></tr><tr><td style="text-align:center">/session</td><td style="text-align:center">æ˜¾ç¤ºä¿å­˜çš„å¯¹è¯è®°å½•å’Œä¼šè¯ç®¡ç†ç›¸å…³å‘½ä»¤é¡¹</td></tr><tr><td style="text-align:center">/session.save</td><td style="text-align:center">ä¿å­˜å½“å‰å¯¹è¯ä¸Šä¸‹æ–‡</td></tr><tr><td style="text-align:center">/session.load</td><td style="text-align:center">åŠ è½½ä¿å­˜çš„å¯¹è¯ä¸Šä¸‹æ–‡</td></tr><tr><td style="text-align:center">/session.show</td><td style="text-align:center">æ˜¾ç¤ºä¿å­˜çš„å¯¹è¯è®°å½•</td></tr><tr><td style="text-align:center">/session.delete</td><td style="text-align:center">åˆ é™¤ä¿å­˜çš„å¯¹è¯è®°å½•</td></tr><tr><td style="text-align:center">/clear</td><td style="text-align:center">æ¸…é™¤å½“å‰å¯¹è¯ä¸Šä¸‹æ–‡</td></tr><tr><td style="text-align:center">/image</td><td style="text-align:center">AI ç»˜å›¾</td></tr><tr><td style="text-align:center">/ppt</td><td style="text-align:center">AI ç”Ÿæˆ PPT</td></tr></tbody></table><h3 id="è‡ªå¸¦äººç‰©é¢„è®¾">è‡ªå¸¦äººç‰©é¢„è®¾</h3><ol><li>æ™ºèƒ½åŠ©æ‰‹ï¼ˆé»˜è®¤ï¼‰</li><li>æç™½</li></ol><h3 id="æ•ˆæœå›¾">æ•ˆæœå›¾</h3><details> <summary>æ•ˆæœå›¾</summary><p><img src="https://source.cclmsy.cc/Images/nbp_Sparkapi/demo.png" alt="Demo"><br><a href="https://source.cclmsy.cc/Images/nbp_Sparkapi/%E7%A7%91%E5%A4%A7%E8%AE%AF%E9%A3%9E%E6%98%9F%E7%81%AB%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%8A%A5.pptx">DemoPPT: ç§‘å¤§è®¯é£æ˜Ÿç«è¯­è¨€æ¨¡å‹é¡¹ç›®æ±‡æŠ¥.pptx</a></p></details><h2 id="ğŸ“-æ›´æ–°æ—¥å¿—">ğŸ“ æ›´æ–°æ—¥å¿—</h2><ul><li>2024.8.21 v2.0.8<ul><li>æ„Ÿè°¢å¼€å‘è€…<a href="https://github.com/wyf7685">wyf7685</a>ä¸ºæœ¬é¡¹ç›®æ•´ä½“é‡å†™ï¼Œæä¾›ä¼˜åŒ–åŠŸèƒ½å®ç°ã€å¤šå¹³å°é€‚é…ç­‰å¸®åŠ©ï¼</li><li>ä¿®å¤äº†FL_IMGGENå’ŒFL_PPTGENé…ç½®é¡¹æ— æ•ˆçš„é—®é¢˜</li><li>æ–°å¢å¯¹ Spark Pro-128K æ¨¡å‹çš„æ”¯æŒ</li></ul></li><li>2024.7.12 v2.0.5<ul><li>ä¿¡æ¯å­˜å‚¨æ”¹ä¸º UTF-8 ç¼–ç </li></ul></li><li>2024.7.11 v2.0.2<ul><li>å°è¯•é€šè¿‡ä¸éªŒè¯ SSL è¯ä¹¦è§„é¿ SSL è¯ä¹¦éªŒè¯é—®é¢˜</li></ul></li><li>2024.7.10 v2.0.0<ul><li>é¡¹ç›®é‡å†™</li><li>æ”¯æŒä¼šè¯å­˜å‚¨å’ŒåŠ è½½ã€ä¼šè¯ç®¡ç†</li><li>æ”¯æŒé¢„è®¾å’Œå†å²è®°å½•æŒä¹…åŒ–ï¼ˆåŸºäº jsonï¼‰</li><li>ä¼˜åŒ–å‘½ä»¤ã€åŠŸèƒ½çš„å®ç°æ–¹å¼</li><li>è°ƒæ•´äº†é…ç½®é¡¹å’ŒæŒ‡ä»¤è¡¨</li></ul></li><li>2024.6.30 v1.5.0<ul><li>é€‚é…æ˜Ÿç« 4.0API</li></ul></li><li>2024.6.25 v1.4.5<ul><li><s>ä½¿ç”¨é»˜è®¤çš„ SSL è¯ä¹¦</s></li></ul></li><li>2024.6.9 v1.4.4<ul><li>ä¼˜åŒ–é¡¹ç›®ç»“æ„</li><li>ä¼˜åŒ–éƒ¨åˆ†åŠŸèƒ½çš„å®ç°æ–¹å¼</li></ul></li><li>2024.5.30 v1.4.1<ul><li>æ–°å¢ AI ç”Ÿæˆ PPT åŠŸèƒ½</li></ul></li><li>2024.5.29 v1.4.0<ul><li>é¡¹ç›®é‡æ„</li><li>æ–°å¢ AI ç»˜å›¾åŠŸèƒ½</li></ul></li><li>2024.5.17 v1.2.0<ul><li>ç®€åŒ–äº†åˆå§‹å‘½ä»¤</li><li>æ¨¡å—ç»“æ„ä¼˜åŒ–</li></ul></li><li>2024.5.16 v1.1.0<ul><li><s>å­˜å‚¨å’ŒåŠ è½½å•æ¬¡ä¼šè¯ï¼ˆåŸºäº pickleï¼‰</s></li><li>æ”¹ç”¨å¼‚æ­¥æ–¹å¼è¯·æ±‚ API</li></ul></li><li>2024.5.15 v1.0.0<ul><li>æ”¯æŒ AI å¯¹è¯</li><li>æ”¯æŒä¸Šä¸‹æ–‡å…³è”</li><li>æ”¯æŒè‡ªå®šä¹‰é¢„è®¾ã€é¢„è®¾ç®¡ç†</li></ul></li></ul>]]></content>
    
    
    <summary type="html">åŸºäºç§‘å¤§è®¯é£æ˜Ÿç«å¤§æ¨¡å‹çš„Nonebot2æ’ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰äººç‰©é¢„è®¾ã€ä¼šè¯ç®¡ç†ï¼Œå…¼å…·AIç»˜å›¾ã€AIç”ŸæˆPPTç­‰åŠŸèƒ½ã€‚é€‚é…OneBotV11åè®®ï¼Œé€‚ç”¨äºæ‰€æœ‰æ¨¡å‹ç‰ˆæœ¬ï¼ˆé»˜è®¤å½“å‰æœ€æ–°ï¼ˆv4.0ï¼‰ï¼‰</summary>
    
    
    
    <category term="é¡¹ç›®" scheme="https://www.cclmsy.cc/categories/%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Python" scheme="https://www.cclmsy.cc/tags/Python/"/>
    
    <category term="æœºå™¨äºº" scheme="https://www.cclmsy.cc/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    <category term="é¡¹ç›®" scheme="https://www.cclmsy.cc/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šæ•°å­—å›¾åƒå¤„ç†ã€‹ç¬”è®°</title>
    <link href="https://www.cclmsy.cc/posts/Note_Image_Processing.html"/>
    <id>https://www.cclmsy.cc/posts/Note_Image_Processing.html</id>
    <published>2024-06-16T18:55:00.000Z</published>
    <updated>2024-07-27T08:56:52.802Z</updated>
    
    <content type="html"><![CDATA[<h1>äºŒã€æ•°å­—å›¾åƒå¤„ç†åŸºç¡€</h1><h2 id="2-1-æ•°å­—å›¾åƒé‡‡é›†">2.1.æ•°å­—å›¾åƒé‡‡é›†</h2><ol><li>å½“å‰æ™®éé‡‡ç”¨çš„å›¾åƒä¼ æ„Ÿå™¨ï¼šCCDã€CMOS<ul><li>å…±åŒç‚¹ï¼šåˆ©ç”¨æ„Ÿå…‰äºŒæç®¡è¿›è¡Œå…‰ç”µè½¬æ¢ï¼Œè·å–å›¾åƒå¹¶è½¬æ¢ä¸ºæ•°å­—æ•°æ®</li></ul></li><li>é‡‡æ ·ï¼šç©ºé—´åæ ‡ç¦»æ•£åŒ–<ul><li>å‡åŒ€é‡‡æ ·ï¼šç­‰é—´éš”åˆ’åˆ†æˆ$N$è¡Œ$M$åˆ—çš„ç½‘æ ¼</li></ul></li><li>é‡åŒ–ï¼šç°åº¦å€¼ç¦»æ•£åŒ–<ul><li>å‡åŒ€é‡åŒ–ï¼šå°†ç°åº¦å€¼åˆ’åˆ†ä¸º$L$ï¼ˆé€šå¸¸ä¸º$2^k$ï¼‰ä¸ªç­‰é—´éš”çš„åŒºé—´</li><li>é€šå¸¸å–$k=8,L=256$ï¼Œç°åº¦ä»å°åˆ°å¤§ï¼Œåƒç´ ä»æš—åˆ°äº®</li></ul></li></ol><h2 id="2-2-æ•°å­—å›¾åƒè¡¨ç¤º">2.2.æ•°å­—å›¾åƒè¡¨ç¤º</h2><ol><li>é€šå¸¸é‡‡ç”¨$N\times M$å¤§å°çš„çŸ©é˜µè¡¨ç¤ºå…·æœ‰$N$è¡Œ$M$åˆ—çš„æ•°å­—å›¾åƒ</li><li>å·¦ä¸Šè§’åæ ‡ä¸º$(0,0)$ï¼Œæ¯ä¸ªåæ ‡çš„å‡½æ•°å€¼$f(x,y)$è¡¨ç¤ºè¯¥ç‚¹çš„ç°åº¦å€¼</li><li>åƒç´ ï¼šæ¯ä¸ªåæ ‡è¡¨ç¤ºçš„å•å…ƒæ ¼</li></ol><h2 id="2-3-åˆ†è¾¨ç‡ä¸å›¾åƒå­˜å‚¨">2.3.åˆ†è¾¨ç‡ä¸å›¾åƒå­˜å‚¨</h2><ol><li>ç©ºé—´åˆ†è¾¨ç‡ï¼šä¸€èˆ¬æŒ‡æ•°å­—å›¾åƒçš„é˜µåˆ—å¤§å°$N\times M$</li><li>ç°åº¦åˆ†è¾¨ç‡ï¼šæŒ‡æ•°å­—å›¾åƒçš„ç°åº¦çº§åˆ«$L$ï¼ˆé€šå¸¸ä¸º$2^k$ï¼‰<ul><li>ç°åº¦ï¼šå›¾åƒä¸­æ¯ä¸ªåƒç´ çš„äº®åº¦å€¼ï¼Œé€šå¸¸ç”¨0-255è¡¨ç¤ºã€‚ç°åº¦çº§åˆ«è¶Šå¤šï¼Œå›¾åƒè¶Šæ¸…æ™°ã€‚</li></ul></li><li>å›¾åƒå­˜å‚¨ï¼šé•¿Ã—å®½Ã—ä½æ•°Ã—é€šé“æ•°/8<ul><li>ä¸€å¹…ç©ºé—´åˆ†è¾¨ç‡ä¸º$N\times M$ï¼Œç°åº¦åˆ†è¾¨ç‡ä¸º$2^k$çš„RGBæ•°å­—å›¾åƒï¼Œéœ€è¦$N\times M\times k\times 3 / 8 B$å­˜å‚¨ï¼ˆ$1B=8bit$ï¼‰</li></ul></li></ol><h2 id="2-4-åƒç´ é—´å…³ç³»">2.4.åƒç´ é—´å…³ç³»</h2><ol><li>ç›¸é‚»ä¸é‚»åŸŸï¼ˆä»¥$p(x,y)$ä¸ºä¾‹ï¼‰<ul><li>4é‚»åŸŸï¼šä¸Šä¸‹å·¦å³å››ä¸ªåƒç´ ï¼Œè®°ä¸º$N_4Â§$</li><li>å¯¹è§’é‚»åŸŸï¼šä¸Šå·¦ã€ä¸Šå³ã€ä¸‹å·¦ã€ä¸‹å³å››ä¸ªåƒç´ ï¼Œè®°ä¸º$N_DÂ§$</li><li>8é‚»åŸŸï¼šä¹å®«æ ¼ï¼Œè®°ä¸º$N_8Â§$</li></ul></li><li>åƒç´ çš„é‚»æ¥æ€§<ul><li>4é‚»æ¥ï¼š$p$ä¸$N_4Â§$ä¸­çš„åƒç´ ç›¸é‚»</li><li>8é‚»æ¥ï¼š$p$ä¸$N_8Â§$ä¸­çš„åƒç´ ç›¸é‚»</li><li>mé‚»æ¥ï¼ˆæ··åˆé‚»æ¥ï¼‰ï¼šå…ˆè¿›è¡Œ4é‚»æ¥ï¼Œè‹¥å­˜åœ¨å››å®«æ ¼ä¸­ä»…å¯¹è§’å­˜åœ¨åƒç´ ï¼Œåˆ™å¯¹è§’è¿æ¥</li></ul></li><li>åƒç´ çš„è¿é€šæ€§<ul><li>æŒ‰ç…§å¯¹åº”é‚»æ¥æ€§è¿æ¥åƒç´ ï¼Œå½¢æˆè¿é€šå—</li></ul></li><li>åƒç´ çš„è·ç¦»<ul><li>æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆæ¬§æ°è·ç¦»ï¼ŒèŒƒæ•°2ï¼‰ï¼š$d(p_1,p_2)=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$</li><li>æ›¼å“ˆé¡¿è·ç¦»ï¼ˆè¡—åŒºè·ç¦»ï¼ŒèŒƒæ•°1ï¼‰ï¼š$d(p_1,p_2)=|x_1-x_2|+|y_1-y_2|$</li><li>æ£‹ç›˜è·ç¦»ï¼ˆèŒƒæ•°$\infty$ï¼‰ï¼š$d(p_1,p_2)=\max(|x_1-x_2|,|y_1-y_2|)$</li><li>$D_m$è·ç¦»ï¼šmé‚»æ¥åï¼Œ$p_1$åˆ°$p_2$çš„æœ€çŸ­è·¯å¾„é•¿åº¦</li></ul></li></ol><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP08.png" alt=""></p><h2 id="2-5-ä¹ é¢˜">2.5. ä¹ é¢˜</h2><ol><li>æ•°å­—å›¾åƒå¤„ç†çš„äº”ä¸ªç»å…¸åº”ç”¨é¢†åŸŸï¼šåª’ä½“é€šä¿¡ã€å®‡å®™æ¢ç´¢ã€æ°”è±¡é¢„æŠ¥ã€ä¾¦ç¼‰ç ´æ¡ˆã€è€ƒå¤</li><li>äºŒå€¼å›¾åƒï¼šå…·æœ‰ä¸¤ç§ç°åº¦å€¼çš„å›¾åƒï¼Œä½†ä¸ä¸€å®šæ˜¯0å’Œ1ã€‚é»‘ç™½å›¾åƒä¸€å®šæ˜¯äºŒå€¼å›¾åƒï¼Œä½†äºŒå€¼å›¾åƒä¸ä¸€å®šæ˜¯é»‘ç™½å›¾åƒã€‚</li><li>è§†è§‰é€‚åº”æ€§ï¼šäººçœ¼å¯¹çªç„¶çš„äº®åº¦å˜åŒ–éœ€è¦æ—¶é—´é€‚åº”ï¼Œäº®é€‚åº”æ€§çš„æ—¶é—´æ¯”æš—é€‚åº”æ€§çŸ­å¾—å¤šã€‚</li><li>é©¬èµ«å¸¦æ•ˆåº”ï¼šäººçœ¼å¯¹ä¸¤ä¸ªé¢œè‰²ä¹‹é—´çš„è¾¹ç•Œï¼Œäº®åº¦æ„ŸçŸ¥å—å½±å“ã€‚è¾ƒæš—çš„è‰²å—é è¿‘è¾¹ç•Œçš„ä¸€ä¾§çœ‹èµ·æ¥æ›´æš—ã€‚</li><li>ä¸ºä»€ä¹ˆåœ¨æŸäº›å›¾åƒå¤„ç†ä¸­ï¼Œéœ€è¦å¯¹å›¾åƒçš„ç°åº¦è¿›è¡Œå¯¹æ•°è¿ç®—ï¼Ÿ<ul><li>å¤§é‡å®éªŒè¡¨æ˜äººçš„è§†è§‰æ„ŸçŸ¥åˆ°çš„ä¸»è§‚äº®åº¦ä¸è¿›å…¥äººçœ¼çš„å…‰å¼ºåº¦æˆå¯¹æ•°å…³ç³»ã€‚å¦‚æ­¤å¤„ç†å¯ä»¥è¾¾åˆ°æ›´å¥½çš„è§†è§‰æ•ˆæœã€‚</li></ul></li></ol><h1>ä¸‰ã€æ•°å­—å›¾åƒçš„åŸºæœ¬è¿ç®—</h1><h2 id="3-1-çŸ©é˜µç»Ÿè®¡é‡">3.1.çŸ©é˜µç»Ÿè®¡é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mean, stddev = cv2.meanStdDev(img) <span class="comment"># å‡å€¼ã€æ ‡å‡†å·®</span></span><br><span class="line">minVal, maxVal, minLoc, maxLoc = cv2.minMaxLoc(img) <span class="comment"># æœ€å°å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ä½ç½®ã€æœ€å¤§å€¼ä½ç½®</span></span><br><span class="line">coeff = stddev / mean <span class="comment"># å˜å¼‚ç³»æ•°</span></span><br></pre></td></tr></table></figure><h2 id="3-2-ç°åº¦ç›´æ–¹å›¾">3.2.ç°åº¦ç›´æ–¹å›¾</h2><ul><li>$HÂ§=[h(r_0),h(r_1),\cdots,h(r_{L-1})]$</li><li>$h(r_i)=n_i$</li><li>ç»Ÿè®¡å›¾åƒä¸­æ¯ä¸ªç°åº¦çº§åˆ«çš„åƒç´ ä¸ªæ•°</li><li>ç”¨äºåˆ†æå›¾åƒçš„å¯¹æ¯”åº¦ã€äº®åº¦ç­‰ä¿¡æ¯</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hist = cv2.calcHist([img], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>], [<span class="number">0</span>, <span class="number">256</span>]) <span class="comment"># è®¡ç®—ç›´æ–¹å›¾</span></span><br><span class="line"><span class="comment"># å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment"># images: list[MatLike]  å›¾åƒåˆ—è¡¨</span></span><br><span class="line"><span class="comment"># channels : list[int]  é€šé“</span></span><br><span class="line"><span class="comment"># mask : MatLike æ©ç ï¼Œå¤§å°ä¸è¾“å…¥å›¾åƒç›¸åŒï¼Œ1è¡¨ç¤ºç»Ÿè®¡ï¼Œ0è¡¨ç¤ºä¸ç»Ÿè®¡</span></span><br><span class="line"><span class="comment"># histSize : list[int] ç›´æ–¹å›¾ä¸­binçš„ä¸ªæ•°ï¼ˆæŸ±çš„ä¸ªæ•°ï¼‰</span></span><br><span class="line"><span class="comment"># ranges : list[int] ç°åº¦å€¼èŒƒå›´ï¼Œé€šå¸¸ä¸º[0, 256]ï¼Œè¡¨ç¤º0-255çš„ç°åº¦å€¼èŒƒå›´</span></span><br><span class="line">hist = cv2.calcHist([img], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>//<span class="number">8</span>], [<span class="number">0</span>, <span class="number">256</span>]) <span class="comment"># è®¡ç®—binwidth=8çš„ç›´æ–¹å›¾</span></span><br><span class="line">plt.hist(img.ravel(), <span class="number">256</span>//<span class="number">8</span>, [<span class="number">0</span>, <span class="number">256</span>]) <span class="comment"># ç»˜åˆ¶ç›´æ–¹å›¾</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><ul><li>å¯¹æ¯”åº¦è¶Šå°ï¼Œç›´æ–¹å›¾ä¸­åƒç´ åˆ†å¸ƒè¶Šé›†ä¸­ï¼›å¯¹æ¯”åº¦è¶Šå¤§ï¼Œç›´æ–¹å›¾ä¸­åƒç´ åˆ†å¸ƒè¶Šåˆ†æ•£å‡åŒ€<ul><li>å¯¹æ¯”åº¦ï¼šæœ€äº®ä¸æœ€æš—åƒç´ ä¹‹é—´çš„å·®å¼‚ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºæœ€å¤§ç°åº¦å’Œæœ€å°ç°åº¦çš„æ¯”å€¼</li></ul></li><li>äº®åº¦è¶Šä½ï¼Œç›´æ–¹å›¾ä¸­åƒç´ åˆ†å¸ƒè¶Šé è¿‘å·¦ä¾§</li></ul><h3 id="ç°åº¦ç›´æ–¹å›¾çš„ç‰¹å¾">ç°åº¦ç›´æ–¹å›¾çš„ç‰¹å¾</h3><ol><li>æ‰€æœ‰å‡½æ•°å€¼çš„æ€»å’Œæ˜¯MN</li><li>åªåæ˜ æ¯ç§åƒç´ å€¼å‡ºç°çš„æ¬¡æ•°ï¼Œä¸åæ˜ åƒç´ çš„ç©ºé—´åˆ†å¸ƒ</li><li>ä¸€å¹…å›¾åƒçš„ç›´æ–¹å›¾æ˜¯å”¯ä¸€çš„ï¼Œä½†ä¸åŒå›¾åƒçš„ç›´æ–¹å›¾å¯ä»¥ç›¸åŒï¼ˆç”±ç¬¬äºŒç‚¹å†³å®šï¼‰</li></ol><h3 id="å½’ä¸€åŒ–ç›´æ–¹å›¾">å½’ä¸€åŒ–ç›´æ–¹å›¾</h3><ul><li>$P(r_k)=\dfrac{h(r_k)}{MN}$</li><li>å°†ç›´æ–¹å›¾ä¸­çš„åƒç´ ä¸ªæ•°è½¬æ¢ä¸ºé¢‘ç‡</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hist = hist.ravel()/hist.<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure><h2 id="3-3-å›¾åƒçš„å‡ ä½•è¿ç®—">3.3.å›¾åƒçš„å‡ ä½•è¿ç®—</h2><p>ä¿®æ”¹åƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»ï¼Œç”±ä¸¤ç§åŸºæœ¬æ“ä½œç»„æˆï¼š</p><ol><li>ç©ºé—´å˜æ¢ï¼šæ”¹å˜åƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»</li><li>ç°åº¦çº§æ’å€¼ï¼šç¡®å®šç©ºé—´å˜æ¢åçš„åƒç´ ç°åº¦å€¼</li></ol><h3 id="3-3-1-ç©ºé—´å˜æ¢">3.3.1.ç©ºé—´å˜æ¢</h3><h4 id="3-3-1-1-å¹³ç§»å˜æ¢">3.3.1.1.å¹³ç§»å˜æ¢</h4><p>$$<br>\begin{cases}<br>x_1=x_0+\Delta x\\<br>y_1=y_0+\Delta y<br>\end{cases}<br>$$</p><h4 id="3-3-1-2-æ—‹è½¬å˜æ¢">3.3.1.2.æ—‹è½¬å˜æ¢</h4><p>è®°æ—‹è½¬å‰ï¼ˆè§’åæ ‡ç³»ï¼‰ï¼š</p><p>$$<br>\begin{cases}<br>x_0=r\cos\theta\\<br>y_0=r\sin\theta<br>\end{cases}<br>$$</p><p>é¡ºæ—¶é’ˆæ—‹è½¬$\alpha$è§’åº¦ï¼š</p><p>$$<br>\begin{cases}<br>x_1=r\cos(\theta-\alpha)\\<br>y_1=r\sin(\theta-\alpha)<br>\end{cases}\\<br>=\begin{cases}<br>x_1=r\cos\theta\cos\alpha+r\sin\theta\sin\alpha\\<br>y_1=r\sin\theta\cos\alpha-r\cos\theta\sin\alpha<br>\end{cases}\\<br>=\begin{cases}<br>x_1=x_0\cos\alpha+y_0\sin\alpha\\<br>y_1=-x_0\sin\alpha+y_0\cos\alpha<br>\end{cases}<br>$$</p><h4 id="3-3-1-3-é•œåƒå˜æ¢">3.3.1.3.é•œåƒå˜æ¢</h4><ol><li>æ°´å¹³é•œåƒï¼š$x_1=M-x_0,y_1=y_0$</li><li>å‚ç›´é•œåƒï¼š$x_1=x_0,y_1=N-y_0$</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_flip = cv2.flip(img, <span class="number">1</span>) <span class="comment"># 1æ°´å¹³é•œåƒï¼Œ0å‚ç›´é•œåƒï¼Œ-1æ°´å¹³+å‚ç›´é•œåƒ</span></span><br></pre></td></tr></table></figure><h4 id="3-3-1-4-ç¼©æ”¾å˜æ¢">3.3.1.4.ç¼©æ”¾å˜æ¢</h4><p>$$<br>\begin{cases}<br>x_1=kx_0 \\<br>y_1=ky_0<br>\end{cases}<br>$$</p><h4 id="3-3-1-5-è½¬ç½®å˜æ¢">3.3.1.5.è½¬ç½®å˜æ¢</h4><p>$$<br>\begin{cases}<br>x_1=y_0\\<br>y_1=x_0<br>\end{cases}<br>$$</p><h3 id="3-3-2-ç°åº¦çº§æ’å€¼">3.3.2.ç°åº¦çº§æ’å€¼</h3><h4 id="3-3-2-0-å‰å‘æ˜ å°„ä¸åå‘æ˜ å°„">3.3.2.0.å‰å‘æ˜ å°„ä¸åå‘æ˜ å°„</h4><ol><li>å‰å‘æ˜ å°„ï¼šåŸå›¾åƒçš„ä¸€ä¸ªåƒç´ æ˜ å°„åˆ°ç›®æ ‡å›¾åƒçš„å¤šä¸ªåƒç´ ï¼ˆæ”¾å¤§ï¼‰</li><li>åå‘æ˜ å°„ï¼šåŸå›¾åƒçš„å¤šä¸ªåƒç´ æ˜ å°„åˆ°ç›®æ ‡å›¾åƒçš„ä¸€ä¸ªåƒç´ ï¼ˆç¼©å°ï¼‰</li></ol><h4 id="3-3-2-1-æœ€è¿‘é‚»æ’å€¼-é›¶é˜¶å†…æ’">3.3.2.1.æœ€è¿‘é‚»æ’å€¼/é›¶é˜¶å†…æ’</h4><p>å–å‰å‘æ˜ å°„å˜æ¢æ‰€å¾—ä½ç½®ï¼Œæœ€è¿‘çš„çš„æ•´æ•°åƒç´ ä½ç½®ä½œä¸ºç°åº¦å€¼ã€‚<br>è®¡ç®—ç®€å•ï¼Œå®¹æ˜“äº§ç”Ÿé”¯é½¿ã€‚</p><h4 id="3-3-2-2-åŒçº¿æ€§æ’å€¼">3.3.2.2.åŒçº¿æ€§æ’å€¼</h4><p>è®°ï¼šåŸåƒç´ ä½ç½®$(0,0),(0,1),(1,0),(1,1)$ï¼Œåå‘æ˜ å°„å˜æ¢æ‰€å¾—ä½ç½®$(x,y)$åœ¨å®ƒä»¬ä¸­é—´ã€‚</p><p>æ ¹æ®åƒç´ ç›¸å¯¹å››ç‚¹çš„ä½ç½®ï¼Œæ±‚å–ç®—æœ¯å¹³å‡å€¼ä½œä¸ºç°åº¦å€¼ã€‚</p><p>$$<br>f(x,0)=(1-x)f(0,0)+xf(1,0)\\<br>f(x,1)=(1-x)f(0,1)+xf(1,1)\\<br>f(x,y)=(1-y)f(x,0)+yf(x,1)<br>$$</p><h1>å››ã€ç©ºé—´åŸŸå›¾åƒå¢å¼º</h1><p>å›¾åƒå¢å¼ºæŠ€æœ¯å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šç©ºé—´åŸŸæ–¹æ³•å’Œé¢‘ç‡åŸŸæ–¹æ³•ã€‚<br>ç©ºé—´åŸŸæ–¹æ³•ä»¥å¯¹å›¾åƒçš„åƒç´ è¿›è¡Œç›´æ¥å¤„ç†ä¸ºåŸºç¡€ï¼ŒåŸºäºç‚¹è¿ç®—çš„æ–¹æ³•ï¼Œåœ¨å•ä¸ªåƒç´ å±‚é¢ä¸Šè¿›è¡Œã€‚<br>ç»Ÿä¸€è¡¨ç¤ºï¼š$g(x,y)=T[f(x,y)]$ï¼Œå…¶ä¸­ç®—å­Tæ˜¯ä¸€ç§ç‚¹æ“ä½œã€‚</p><h2 id="4-1-åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•">4.1.åŸºäºç‚¹è¿ç®—çš„å›¾åƒå¢å¼ºæ–¹æ³•</h2><h3 id="4-1-1-å¯¹æ¯”åº¦æ‹‰ä¼¸-åˆ†æ®µçº¿æ€§å˜æ¢">4.1.1.å¯¹æ¯”åº¦æ‹‰ä¼¸/åˆ†æ®µçº¿æ€§å˜æ¢</h3><p>ä¸€ç§é€šè¿‡å¢å¼ºå›¾åƒçš„å¯¹æ¯”åº¦æ¥æ”¹å–„å›¾åƒè´¨é‡çš„æ–¹æ³•ã€‚</p><ul><li>ä¸€ç§å…¸å‹å¤„ç†ï¼šå‹ç¼©æœ€æš—å’Œæœ€äº®éƒ¨åˆ†ï¼Œæ‹‰ä¼¸ä¸­é—´éƒ¨åˆ†ã€‚</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP01.png" alt=""></p><ul><li>å‡åŒ€å˜äº®/å‡åŒ€å˜æš—ï¼šä¸åŸå§‹ç°åº¦æˆçº¿æ€§å…³ç³»ã€‚</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP02.png" alt=""></p><h3 id="4-1-2-çª—åˆ‡ç‰‡">4.1.2.çª—åˆ‡ç‰‡</h3><p>ä¸€ç§å¼ºåˆ¶æŸåŒºé—´çš„ç°åº¦å€¼ä¸ºç»™å®šå€¼çš„æ–¹æ³•ã€‚</p><ul><li>åŒºå¤–ç°åº¦å€¼ä¸å˜</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP03.png" alt=""></p><h3 id="4-1-3-ä¿®å‰ªå˜æ¢">4.1.3.ä¿®å‰ªå˜æ¢</h3><p>å»é™¤è¾ƒæš—å’Œè¾ƒäº®éƒ¨åˆ†ï¼Œæ‹‰ä¼¸ä¸­é—´éƒ¨åˆ†ï¼Œç‰¹æ®Šçš„å¯¹æ¯”åº¦æ‹‰ä¼¸ã€‚</p><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP04.png" alt=""></p><h3 id="4-1-4-å…¶ä»–å˜æ¢">4.1.4.å…¶ä»–å˜æ¢</h3><ul><li>å¯¹æ•°å˜æ¢ï¼š$s=c\log(1+r)$</li><li>å¹‚æ¬¡å˜æ¢ï¼š$s=cr^\gamma$</li><li>ç¦»æ•£åŒ–ï¼š$s=0\ if\ r&lt;b\ else\ L-1$</li></ul><h2 id="4-2-åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•">4.2.åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•</h2><h3 id="4-2-1-ç›´æ–¹å›¾å‡è¡¡åŒ–">4.2.1.ç›´æ–¹å›¾å‡è¡¡åŒ–</h3><p>å°†ä¸€å‰¯å·²çŸ¥å›¾åƒå˜æ¢æˆç°åº¦å…·æœ‰å‡åŒ€æ¦‚ç‡åˆ†å¸ƒçš„å›¾åƒï¼Œé€šè¿‡å¢å¤§ç°åº¦å€¼èŒƒå›´å’Œå¯¹æ¯”åº¦å®ç°å›¾åƒå¢å¼ºã€‚</p><ul><li>è®°åŸå›¾åƒ$f$çš„ç°åº¦çº§ä¸º$L$ï¼Œå¯¹åŸå›¾åƒ$f$è¿›è¡Œç›´æ–¹å›¾å‡è¡¡åŒ–å¾—åˆ°çš„æ–°å›¾åƒä¸º$g$ã€‚å›¾åƒç›´æ–¹å›¾å‡è¡¡åŒ–çš„æ­¥éª¤å¦‚ä¸‹ï¼š</li></ul><ol><li>ç»Ÿè®¡åŸå›¾åƒ$f$ä¸­å„ä¸ªç°åº¦çº§çš„åƒç´ ä¸ªæ•°ï¼Œå¾—åˆ°åŸå›¾åƒçš„ç›´æ–¹å›¾$H(f)$ã€‚<ul><li>ç»™å®š $16\times16$çš„å›¾åƒ$f$ç°åº¦çº§$L=8$</li><li>ç»™å®š $H(f)=[29,40,32,27,13,10,6,3]$</li></ul></li><li>å¯¹åŸå›¾åƒçš„ç›´æ–¹å›¾$H(f)$è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œå¾—åˆ°å½’ä¸€åŒ–ç›´æ–¹å›¾$P(f)$ã€‚<ul><li>å½’ä¸€åŒ–ç›´æ–¹å›¾$P(f)=[0.18,0.25,0.20,0.17,0.08,0.06,0.04,0.02]$</li></ul></li><li>è®¡ç®—å½’ä¸€åŒ–ç›´æ–¹å›¾$P(f)$çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°$C(f)$ï¼ˆå‰ç¼€å’Œï¼‰ã€‚<ul><li>ç´¯ç§¯åˆ†å¸ƒå‡½æ•°$C(f)=[0.18,0.43,0.63,0.80,0.88,0.94,0.98,1.00]$</li></ul></li><li>è®¡ç®—æ–°ç°åº¦çº§$t_i=round((L-1)c(i))$ï¼ˆå››èˆäº”å…¥ï¼‰<ul><li>$[1,3,4,6,6,7,7,7]$</li></ul></li><li>å°†åŸå›¾åƒ$f$ä¸­çš„ç°åº¦çº§$i$æ›¿æ¢ä¸ºæ–°ç°åº¦çº§$t_i$ï¼Œå¾—åˆ°ç›´æ–¹å›¾å‡è¡¡åŒ–åçš„æ–°å›¾åƒ$g$ã€‚</li><li>ç»Ÿè®¡æ–°å›¾åƒ$g$ä¸­å„ä¸ªç°åº¦çº§çš„åƒç´ ä¸ªæ•°ï¼Œå¾—åˆ°æ–°å›¾åƒçš„ç›´æ–¹å›¾$H(g)$ã€‚<ul><li>$H(g)=[0,29,0,40,32,0,40,19]$</li></ul></li><li>å¯¹æ–°å›¾åƒçš„ç›´æ–¹å›¾$H(g)$è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œå¾—åˆ°æ–°å›¾åƒçš„å½’ä¸€åŒ–ç›´æ–¹å›¾$P(g)$ã€‚<ul><li>$P(g)=[0.00,0.18,0.00,0.25,0.20,0.00,0.25,0.12]$</li></ul></li></ol><ul><li>é€šè¿‡ç›´æ–¹å›¾å‡è¡¡åŒ–ï¼Œå¯ä»¥ä½¿å¾—å›¾åƒçš„ç°åº¦å€¼åˆ†å¸ƒæ›´åŠ å‡åŒ€ï¼Œä»è€Œå¢å¼ºå›¾åƒçš„å¯¹æ¯”åº¦ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_eq = cv2.equalizeHist(img) <span class="comment"># ç›´æ–¹å›¾å‡è¡¡åŒ–</span></span><br></pre></td></tr></table></figure><h3 id="4-2-2-ç›´æ–¹å›¾è§„å®šåŒ–">4.2.2.ç›´æ–¹å›¾è§„å®šåŒ–</h3><p>ç›´æ–¹å›¾å‡è¡¡åŒ–èƒ½æ˜¾è‘—çš„å¢å¼ºæ•´ä¸ªå›¾åƒçš„å¯¹æ¯”åº¦ï¼Œä½†å¢å¼ºæ•ˆæœä¸æ˜“æ§åˆ¶ã€‚é€šè¿‡ç›´æ–¹å›¾è§„å®šåŒ–ï¼Œå¯ä»¥äººä¸ºåœ°æ”¹å˜ç›´æ–¹å›¾çš„å½¢çŠ¶ã€‚</p><ul><li>å›¾åƒç›´æ–¹å›¾è§„å®šåŒ–çš„æ­¥éª¤å¦‚ä¸‹ï¼š</li></ul><ol><li>ç»Ÿè®¡åŸå›¾åƒ$f$ä¸­å„ä¸ªç°åº¦çº§çš„åƒç´ ä¸ªæ•°ï¼Œå¾—åˆ°åŸå›¾åƒçš„ç›´æ–¹å›¾$H(f)$ã€‚<ul><li>ç»™å®š$64\times64$çš„å›¾åƒ$f$ç°åº¦çº§$L=8$</li><li>ç»™å®š $H(f)=[790,1023,850,656,329,245,122,81]$</li></ul></li><li>å¯¹åŸå›¾åƒçš„ç›´æ–¹å›¾$H(f)$è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œå¾—åˆ°å½’ä¸€åŒ–ç›´æ–¹å›¾$P(f)$ã€‚<ul><li>$P(f)=[0.19,0.25,0.21,0.16,0.08,0.06,0.03,0.02]$</li></ul></li><li>è®¡ç®—å½’ä¸€åŒ–ç›´æ–¹å›¾$P(f)$çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°$C(f)$ï¼ˆå‰ç¼€å’Œï¼‰ã€‚<ul><li>$C(f)=[0.19,0.44,0.65,0.81,0.89,0.95,0.98,1.00]$</li></ul></li><li>å¯¹äºç»™å®šçš„ç›®æ ‡ä¿¡æ¯ï¼Œæ±‚å‡ºç›®æ ‡ç´¯ç§¯åˆ†å¸ƒå‡½æ•°$C_1(f_1)$ã€‚<ul><li>å‡è®¾ç»™å®š$P_1(f_1)=[0,0,0,0.15,0.2,0.3,0.2,0.15]$</li><li>$C_1(f_1)=[0,0,0,0.15,0.35,0.65,0.85,1.00]$</li></ul></li><li>æ¯”è¾ƒ$C(f)$å’Œ$C(f_1)$ï¼Œå¯¹äºåŸå›¾åƒ$f$æ¯ä¸ªç°åº¦çº§$i$ï¼Œæ‰¾åˆ°$|C(i)-C_1(j)|$æœ€æ¥è¿‘çš„$j$ï¼Œå¾—åˆ°æ˜ å°„å…³ç³»ã€‚<ul><li>$C(f)=[0.19,0.44,0.65,0.81,0.89,0.95,0.98,1.00]$</li><li>$C_1(f_1)=[0,0,0,0.15,0.35,0.65,0.85,1.00]$</li><li>$T(i)=[3,4,5,6,6,7,7,7]$</li></ul></li><li>å°†åŸå›¾åƒ$f$ä¸­çš„ç°åº¦çº§$i$æ›¿æ¢ä¸ºæ–°ç°åº¦çº§$t_i$ï¼Œå¾—åˆ°ç›´æ–¹å›¾å‡è¡¡åŒ–åçš„æ–°å›¾åƒ$g$ã€‚</li><li>ç»Ÿè®¡æ–°å›¾åƒ$g$ä¸­å„ä¸ªç°åº¦çº§çš„åƒç´ ä¸ªæ•°ï¼Œå¾—åˆ°æ–°å›¾åƒçš„ç›´æ–¹å›¾$H(g)$ã€‚<ul><li>$H(g)=[0,0,0,790,1023,850,985,448]$</li></ul></li><li>å¯¹æ–°å›¾åƒçš„ç›´æ–¹å›¾$H(g)$è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œå¾—åˆ°æ–°å›¾åƒçš„å½’ä¸€åŒ–ç›´æ–¹å›¾$P(g)$ã€‚<ul><li>$P(g)=[0,0,0,0.19,0.25,0.21,0.24,0.11]$</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">f = cv2.imread(<span class="string">&#x27;lenna.jpg&#x27;</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line">f1 = cv2.imread(<span class="string">&#x27;Flower.png&#x27;</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line"></span><br><span class="line">Hf = cv2.calcHist([f], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>], [<span class="number">0</span>, <span class="number">256</span>])</span><br><span class="line">Pf = Hf / np.<span class="built_in">sum</span>(Hf)</span><br><span class="line">Cf = [np.<span class="built_in">sum</span>(Pf[:i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>)]</span><br><span class="line"></span><br><span class="line">Hf1 = cv2.calcHist([f1], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>], [<span class="number">0</span>, <span class="number">256</span>])</span><br><span class="line">Pf1 = Hf1 / np.<span class="built_in">sum</span>(Hf1)</span><br><span class="line">Cf1 = [np.<span class="built_in">sum</span>(Pf1[:i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>)]</span><br><span class="line"></span><br><span class="line">Tr = np.zeros(<span class="number">256</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>):</span><br><span class="line">    tmp_h = np.ones(<span class="number">256</span>) * Cf1[i]</span><br><span class="line">    tmp = np.fabs(Cf - tmp_h) <span class="comment"># å¯¹åº”å…ƒç´ ç›¸å‡å–ç»å¯¹å€¼</span></span><br><span class="line">    Tr[i] = np.argmin(tmp) <span class="comment"># æ‰¾åˆ°æœ€å°å€¼çš„ç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">out = cv2.LUT(f, Tr)</span><br></pre></td></tr></table></figure><h2 id="4-æ»¤æ³¢">4.*.æ»¤æ³¢</h2><ul><li>åˆ©ç”¨åƒç´ å’Œå…¶é‚»åŸŸåƒç´ çš„ç°åº¦å€¼è¿›è¡Œå›¾åƒå¢å¼ºçš„æ–¹æ³•ã€‚</li><li>ç©ºé—´æ»¤æ³¢åˆ†ä¸ºå¹³æ»‘æ»¤æ³¢å’Œé”åŒ–æ»¤æ³¢ã€‚</li><li>filterï¼šæ»¤æ³¢å™¨ï¼Œç”¨äºå¯¹å›¾åƒè¿›è¡Œæ»¤æ³¢å¤„ç†</li><li>maskï¼šæ»¤æ³¢å™¨çš„æ¨¡æ¿ï¼Œç”¨äºè®¡ç®—æ»¤æ³¢åçš„åƒç´ å€¼</li></ul><h2 id="4-3-åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•">4.3.åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</h2><ul><li>å¹³æ»‘æ»¤æ³¢<ul><li>ç›®çš„ï¼šå»é™¤ï¼ˆç»†å°ï¼‰å™ªå£°ã€å¹³æ»‘å›¾åƒ</li><li>æœ¬è´¨ï¼šå¯¹åƒç´ å’Œå…¶é‚»åŸŸåƒç´ çš„ç°åº¦å€¼è¿›è¡ŒåŠ æƒå¹³å‡</li></ul></li></ul><h3 id="4-3-1-çº¿æ€§æ»¤æ³¢æ–¹æ³•â€”â€”é‚»åŸŸå¹³å‡æ»¤æ³¢">4.3.1.çº¿æ€§æ»¤æ³¢æ–¹æ³•â€”â€”é‚»åŸŸå¹³å‡æ»¤æ³¢</h3><ul><li>maskï¼š$h=\dfrac{1}{9}\begin{bmatrix}1&amp;1&amp;1 \\ 1&amp;1&amp;1 \\ 1&amp;1&amp;1\end{bmatrix}$</li><li>å¯ä»¥è°ƒæ•´maskçš„å¤§å°å’Œæƒé‡ï¼Œå®ç°ä¸åŒçš„å¹³æ»‘æ•ˆæœã€‚<ul><li>å‚æ•°è¶Šå¤§ï¼Œå¹³æ»‘æ•ˆæœè¶Šæ˜æ˜¾ï¼Œå›¾åƒè¶Šæ¨¡ç³Šã€‚</li><li>ä¸€èˆ¬ä¸­å¿ƒåƒç´ æƒé‡æœ€å¤§ï¼Œè¾¹ç¼˜åƒç´ æƒé‡è¾ƒå°ã€‚</li></ul></li><li>å¯ä»¥æ ¹æ®Gaussianåˆ†å¸ƒç¡®å®šmaskçš„æƒé‡ï¼Œå®ç°é«˜æ–¯æ»¤æ³¢ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ksize = (<span class="number">5</span>, <span class="number">5</span>) <span class="comment"># maskå¤§å°ï¼Œå¥‡æ•°</span></span><br><span class="line">img_blur = cv2.blur(img, ksize) <span class="comment"># é‚»åŸŸå¹³å‡æ»¤æ³¢</span></span><br><span class="line">img_gaussian = cv2.GaussianBlur(img, ksize, <span class="number">0</span>) <span class="comment"># é«˜æ–¯æ»¤æ³¢</span></span><br></pre></td></tr></table></figure><h3 id="4-3-2-éçº¿æ€§æ»¤æ³¢æ–¹æ³•â€”â€”ä¸­å€¼æ»¤æ³¢">4.3.2.éçº¿æ€§æ»¤æ³¢æ–¹æ³•â€”â€”ä¸­å€¼æ»¤æ³¢</h3><ul><li>ä¸­å€¼æ»¤æ³¢çª—å£å½¢çŠ¶ä¸å®šï¼šçŸ©å½¢ã€åœ†å½¢ã€åå­—å½¢ç­‰</li><li>é€‰å–çª—å£å†…åƒç´ çš„ä¸­å€¼ä½œä¸ºä¸­å¿ƒåƒç´ çš„ç°åº¦å€¼</li><li>ä¼˜ç‚¹ï¼šåœ¨å‡å°‘è¾¹ç¼˜æ¨¡ç³Šæ–¹é¢æ¯”é‚»åŸŸå¹³å‡æ•ˆæœå¥½ï¼Œå¯¹æ¶ˆé™¤å†²æ¿€å™ªå£°æ•ˆæœå¥½</li><li>ç¼ºç‚¹ï¼šå¯¹æ¶ˆé™¤é«˜æ–¯å™ªå£°æ•ˆæœå·®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_median = cv2.medianBlur(img, <span class="number">5</span>) <span class="comment"># ä¸­å€¼æ»¤æ³¢</span></span><br></pre></td></tr></table></figure><h2 id="4-4-åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•">4.4.åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</h2><ul><li>é”åŒ–æ»¤æ³¢<ul><li>ç›®çš„ï¼šå¢å¼ºå›¾åƒçš„è¾¹ç¼˜ã€è½®å»“</li><li>è¦æ±‚ï¼šå›¾åƒå…·æœ‰è¾ƒé«˜çš„ä¿¡å™ªæ¯”</li><li>é”åŒ–å¤„ç†é€šå¸¸å’Œè¾¹ç¼˜æ£€æµ‹ç»“åˆä½¿ç”¨</li></ul></li><li>æ¢¯åº¦<ul><li>å‡½æ•°$z=f(x,y)$åœ¨ç‚¹$(x,y)$å¤„çš„æ¢¯åº¦ï¼š$\nabla f(x,y)=\left[\dfrac{\partial f}{\partial x},\dfrac{\partial f}{\partial y}\right]^T$</li><li>æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…·æœ‰æ–¹å‘å’Œæ¨¡</li><li>æ¢¯åº¦çš„æ–¹å‘$\theta$ï¼š$\theta=\arctan\left(\dfrac{\partial f}{\partial y}/\dfrac{\partial f}{\partial x}\right)$</li><li>æ¢¯åº¦çš„æ¨¡$G$ï¼š<ul><li>æŒ‰2-èŒƒæ•°è®¡ç®—ï¼Œå¯¹åº”æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆæ¬§æ°è·ç¦»ï¼‰ï¼š$|\nabla f_{(2)}|=\sqrt{\left(\dfrac{\partial f}{\partial x}\right)^2+\left(\dfrac{\partial f}{\partial y}\right)^2}$</li><li>æŒ‰1-èŒƒæ•°è®¡ç®—ï¼Œå¯¹åº”æ›¼å“ˆé¡¿è·ç¦»ï¼ˆè¡—åŒºè·ç¦»ï¼‰ï¼š$|\nabla f_{(1)}|=|\dfrac{\partial f}{\partial x}|+|\dfrac{\partial f}{\partial y}|$</li><li>æŒ‰$\infty$-èŒƒæ•°è®¡ç®—ï¼Œå¯¹åº”æ£‹ç›˜è·ç¦»ï¼š$|\nabla f_{(\infty)}|=\max(|\dfrac{\partial f}{\partial x}|,|\dfrac{\partial f}{\partial y}|)$</li></ul></li></ul></li><li>ç”±äºæ•°å­—å›¾åƒçš„ç¦»æ•£æ€§ï¼Œåå¯¼ä½¿ç”¨å·®åˆ†è¡¨ç¤ºï¼š<ul><li>ä¸€é˜¶æ°´å¹³ï¼š$\Delta_y f(x,y)=f(x,y+1)-f(x,y)$</li><li>ä¸€é˜¶å‚ç›´ï¼š$\Delta_x f(x,y)=f(x+1,y)-f(x,y)$</li><li>äºŒé˜¶æ°´å¹³ï¼š$\Delta_{yy} f(x,y)=f(x,y+1)+f(x,y-1)-2f(x,y)$</li><li>äºŒé˜¶å‚ç›´ï¼š$\Delta_{xx} f(x,y)=f(x+1,y)+f(x-1,y)-2f(x,y)$</li></ul></li></ul><h3 id="4-4-1-ç½—ä¼¯ç‰¹ç®—å­ï¼ˆRoberts-Operatorï¼‰">4.4.1.ç½—ä¼¯ç‰¹ç®—å­ï¼ˆRoberts Operatorï¼‰</h3><ul><li>$G=|\Delta_x f(x,y)|+|\Delta_y f(x,y)|$</li><li>$h=\begin{bmatrix}1&amp;0\\0&amp;-1\end{bmatrix}æˆ–\begin{bmatrix}0&amp;1\\-1&amp;0\end{bmatrix}$</li><li>ä¼˜ç‚¹ï¼šäº¤å‰å·®åˆ†æ³•ï¼Œç®€å•ï¼Œè®¡ç®—é‡å°ã€‚</li><li>ç¼ºç‚¹ï¼šä½¿ç”¨åƒç´ å°‘ï¼Œå¯¹å™ªå£°æ•æ„Ÿã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_roberts = cv2.filter2D(img, -<span class="number">1</span>, np.array([[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>]])) <span class="comment"># ç½—ä¼¯ç‰¹ç®—å­</span></span><br></pre></td></tr></table></figure><h3 id="4-4-2-æ‹‰æ™®æ‹‰æ–¯ç®—å­ï¼ˆLaplacian-Operatorï¼‰">4.4.2.æ‹‰æ™®æ‹‰æ–¯ç®—å­ï¼ˆLaplacian Operatorï¼‰</h3><ul><li>$G=|\Delta_{xx} f(x,y)|+|\Delta_{yy} f(x,y)|$</li><li>å¸¸ç”¨maskï¼š<ul><li>$h_{4,1}=\begin{bmatrix}0&amp;1&amp;0\\1&amp;-4&amp;1\\0&amp;1&amp;0\end{bmatrix}$</li><li>$h_{4,2}=\dfrac{1}{2}\begin{bmatrix}1&amp;0&amp;1\\0&amp;-4&amp;0\\1&amp;0&amp;1\end{bmatrix}$</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_laplacian = cv2.Laplacian(img, cv2.CV_64F, ksize=<span class="number">3</span>) <span class="comment"># æ‹‰æ™®æ‹‰æ–¯ç®—å­ï¼Œå‚æ•°è¶Šå¤§ï¼Œçº¿æ¡è¶Šç²—</span></span><br></pre></td></tr></table></figure><h3 id="4-4-3-æ™®ç‘ç»´ç‰¹ç®—å­ï¼ˆPrewitt-Operatorï¼‰">4.4.3.æ™®ç‘ç»´ç‰¹ç®—å­ï¼ˆPrewitt Operatorï¼‰</h3><ul><li>è¿‘ä¼¼ä¸€é˜¶å¯¼æ•°</li><li>å¸¸ç”¨mask:<ul><li>$h_1 = \begin{bmatrix}1&amp;1&amp;1\\0&amp;0&amp;0\\-1&amp;-1&amp;-1\end{bmatrix}$</li><li>å…¶ä½™é€šè¿‡æ—‹è½¬å¾—åˆ°</li></ul></li></ul><h3 id="4-4-4-ç´¢è´å°”ç®—å­ï¼ˆSobel-Operatorï¼‰">4.4.4.ç´¢è´å°”ç®—å­ï¼ˆSobel Operatorï¼‰</h3><ul><li>è¿‘ä¼¼ä¸€é˜¶å¯¼æ•°ï¼Œå¾€å¾€ç”¨äºä¼°è®¡æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„æ¢¯åº¦</li><li>å¸¸ç”¨mask:<ul><li>$h_1 = \begin{bmatrix}-1&amp;-2&amp;-1\\0&amp;0&amp;0\\1&amp;2&amp;1\end{bmatrix}$</li><li>$h_2 = \begin{bmatrix}-1&amp;0&amp;1\\-2&amp;0&amp;2\\-1&amp;0&amp;1\end{bmatrix}$</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img_sobelx = cv2.Sobel(img, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>, ksize=<span class="number">3</span>) <span class="comment"># xæ–¹å‘æ¢¯åº¦ï¼ˆç«–ç›´ï¼‰ï¼Œksizeè¶Šå¤§ï¼Œæˆå—çš„è‰²å—è¶Šå¤§</span></span><br><span class="line">img_sobely = cv2.Sobel(img, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>, ksize=<span class="number">3</span>) <span class="comment"># yæ–¹å‘æ¢¯åº¦ï¼ˆæ°´å¹³ï¼‰</span></span><br><span class="line">img_sobel = cv2.magnitude(img_sobelx, img_sobely) <span class="comment"># æ¢¯åº¦å¹…å€¼</span></span><br></pre></td></tr></table></figure><h1>äº”ã€é¢‘ç‡åŸŸå›¾åƒå¢å¼º</h1><ul><li>ä¸‰å¤§ç±»æ­£äº¤å˜æ¢ï¼šæ­£å¼¦å‹å˜æ¢ã€æ–¹æ³¢å‹å˜æ¢ã€åŸºäºç‰¹å¾å‘é‡çš„å˜æ¢</li><li>å·ç§¯ï¼šä¸€ç§æ•°å­¦ç®—å­ï¼Œæ–½åŠ äºä¸¤ä¸ªå‡½æ•°$f,g$ï¼Œäº§ç”Ÿç¬¬ä¸‰ä¸ªå‡½æ•°ã€‚<ul><li>å®šä¹‰ï¼š$(f*g)(t)=\int_{-\infty}^{+\infty}f(\tau)g(t-\tau)d\tau=\int_{-\infty}^{+\infty}f(t-\tau)g(\tau)d\tau$</li></ul></li><li>é¢‘ç‡åŸŸå›¾åƒå¤„ç†æµç¨‹ï¼š<ul><li>$åŸå›¾åƒf(x,y)\xrightarrow{å‚…é‡Œå¶å˜æ¢}F(u,v)\xrightarrow{H(u,v)æ»¤æ³¢}G(u,v)\xrightarrow{å‚…é‡Œå¶é€†å˜æ¢}ç»“æœå›¾åƒg(x,y)$</li></ul></li></ul><h2 id="5-1-ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDiscrete-Fourier-Transformï¼ŒDFTï¼‰">5.1.ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDiscrete Fourier Transformï¼ŒDFTï¼‰</h2><ul><li>å‚…é‡Œå¶å˜æ¢å°†ä¸€ä¸ªä¿¡å·ä»æ—¶é—´åŸŸè½¬æ¢åˆ°é¢‘ç‡åŸŸï¼Œåå‚…é‡Œå¶å˜æ¢å°†ä¸€ä¸ªä¿¡å·ä»é¢‘ç‡åŸŸè½¬æ¢åˆ°æ—¶é—´åŸŸã€‚</li><li>ç¦»æ•£å‚…é‡Œå¶å˜æ¢æ˜¯æ­£å¼¦å‹å˜æ¢</li></ul><h3 id="5-1-1-ä¸€ç»´è¿ç»­å‚…é‡Œå¶å˜æ¢">5.1.1.ä¸€ç»´è¿ç»­å‚…é‡Œå¶å˜æ¢</h3><ul><li>ä¸€é˜¶è¿ç»­å‡½æ•°$f(x)$çš„å‚…é‡Œå¶å˜æ¢ï¼š$F(u)=\int_{-\infty}^{+\infty}f(x)e^{-j2\pi ux}dx$ï¼ˆjä¸ºè™šæ•°å•ä½ï¼‰</li><li>ä¸€é˜¶è¿ç»­å‡½æ•°$f(x)$çš„åå‚…é‡Œå¶å˜æ¢ï¼š$f(x)=\int_{-\infty}^{+\infty}F(u)e^{j2\pi ux}du$</li><li><strong>æ¬§æ‹‰å…¬å¼</strong>ï¼š$e^{j\theta}=\cos\theta+j\sin\theta$</li></ul><h3 id="5-1-2-ä¸€ç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢">5.1.2.ä¸€ç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢</h3><ul><li>ç»™å®šæ—¶é—´åºåˆ—$x[n],n=0,1,2,\cdots,N-1$<ul><li>ç¦»æ•£å‚…é‡Œå¶å˜æ¢ä¸ºï¼š<ul><li>$X[k]=\sum\limits_{n=0}^{N-1}x[n]e^{-j2\pi kn/N}$</li></ul></li><li>ç¦»æ•£å‚…é‡Œå¶é€†å˜æ¢ä¸ºï¼š<ul><li>$x[n]=\dfrac{1}{N}\sum\limits_{k=0}^{N-1}X[k]e^{j2\pi kn/N}$</li></ul></li></ul></li><li>ä»¥$N=4$ä¸ºä¾‹ï¼Œåˆ©ç”¨æ¬§æ‹‰å®šç†å¯çŸ¥ï¼š<ul><li>$\begin{bmatrix}X_0\\X_1\\X_2\\X_3\end{bmatrix}=\begin{bmatrix}e^{-0\cdot i\pi/2}&amp;e^{-0\cdot i\pi}&amp;e^{-0\cdot i3\pi/2}&amp;e^{-0\cdot i2\pi}\\e^{-0\cdot i\pi/2}&amp;e^{-1\cdot i\pi}&amp;e^{-2\cdot i3\pi/2}&amp;e^{-3\cdot i2\pi}\\e^{-0\cdot i\pi/2}&amp;e^{-2\cdot i\pi}&amp;e^{-4\cdot i3\pi/2}&amp;e^{-6\cdot i2\pi}\\e^{-0\cdot i\pi/2}&amp;e^{-3\cdot i\pi}&amp;e^{-6\cdot i3\pi/2}&amp;e^{-9\cdot i2\pi}\end{bmatrix}\begin{bmatrix}x_0\\x_1\\x_2\\x_3\end{bmatrix}=\begin{bmatrix}1&amp;1&amp;1&amp;1\\1&amp;-i&amp;-1&amp;i\\1&amp;-1&amp;1&amp;-1\\1&amp;i&amp;-1&amp;-i\end{bmatrix}\begin{bmatrix}x_0\\x_1\\x_2\\x_3\end{bmatrix}$</li></ul></li></ul><h3 id="5-1-3-äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢">5.1.3.äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢</h3><ul><li>å¯¹äºç»™å®šçš„äºŒç»´ç¦»æ•£ä¿¡å·$f(x,y)$ï¼Œ$x\in[0,M-1],y\in[0,N-1]$<ul><li>äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼š<ul><li>$F(u,v)=\sum\limits_{x=0}^{M-1}\sum\limits_{y=0}^{N-1}f(x,y)e^{-j2\pi(\dfrac{ux}{M}+\dfrac{vy}{N})}$</li></ul></li><li>äºŒç»´ç¦»æ•£å‚…é‡Œå¶é€†å˜æ¢ï¼š<ul><li>$f(x,y)=\dfrac{1}{\sqrt{MN}}\sum\limits_{u=0}^{M-1}\sum\limits_{v=0}^{N-1}F(u,v)exp({j2\pi(\dfrac{ux}{M}+\dfrac{vy}{N})})$</li></ul></li></ul></li><li>å¯åˆ†ç¦»æ€§ï¼šå‚…é‡Œå¶å˜æ¢ä¸­çš„æŒ‡æ•°é¡¹å¯åˆ†ç¦»æˆåªå«æœ‰x,uçš„ä¸€é¡¹å’Œåªå«æœ‰y,vçš„ä¸€é¡¹çš„ä¹˜ç§¯<ul><li>$exp(-j2\pi\dfrac{ux+vy}{N})=exp(-j2\pi\dfrac{ux}{N})\cdot exp(-j2\pi\dfrac{vy}{N})$</li><li>å³$F(u,v)=\sum\limits_{x=0}^{N-1}F(x,v)exp(-j2\pi\dfrac{ux}{N})$</li><li>ç»“è®ºï¼šå¯¹æ¯ä¸ªxï¼Œå¯¹è¡Œè¿›è¡Œä¸€æ¬¡ä¸€ç»´DFTï¼Œå¯¹æ¯ä¸ªyï¼Œå¯¹åˆ—è¿›è¡Œä¸€æ¬¡ä¸€ç»´DFTï¼Œå¯ä»¥å¾—åˆ°äºŒç»´DFT</li></ul></li><li>é›¶é¢‘ç‡åˆ†é‡ä¸å¹³å‡å€¼<ul><li>$F(0,0)=\dfrac{1}{\sqrt{MN}}\sum\limits_{x=0}^{M-1}\sum\limits_{y=0}^{N-1}f(x,y)$</li><li>ç»“è®ºï¼š$F(0,0)$ä¸å›¾åƒçš„å¹³å‡å€¼æˆæ­£æ¯”ï¼Œ$k=\sqrt{MN}$</li></ul></li><li>å…±è½­å¯¹ç§°æ€§<ul><li>$F(u,v)=F^*(-u,-v)$</li><li>ç»“è®ºï¼šå¯¹äºå®æ•°å›¾åƒï¼Œå…¶é¢‘è°±æ˜¯å…±è½­å¯¹ç§°çš„</li></ul></li><li>å¹³ç§»ä¸å˜æ€§<ul><li>ç©ºé—´åŸŸå¹³ç§»ï¼š$f(x-x_0,y-y_0)\leftrightarrow F(u,v)exp(-j2\pi\dfrac{ux_0}{M})exp(-j2\pi\dfrac{vy_0}{N})$</li><li>é¢‘ç‡åŸŸå¹³ç§»ï¼š$f(x,y)exp(j2\pi\dfrac{ux_0}{M})exp(j2\pi\dfrac{vy_0}{N})\leftrightarrow F(u-u_0,v-v_0)$</li><li>ç»“è®ºï¼šåœ¨ç©ºé—´åŸŸä¸­å¹³ç§»å›¾åƒï¼Œé¢‘ç‡åŸŸåªå‘ç”Ÿç›¸ç§»ï¼Œä¸å‘ç”Ÿå¹…åº¦å˜åŒ–ï¼›åœ¨é¢‘ç‡åŸŸä¸­å¹³ç§»å›¾åƒï¼Œç©ºé—´åŸŸåªå‘ç”Ÿç›¸ç§»ï¼Œå›¾åƒå¹…å€¼ä¸å˜ã€‚</li></ul></li><li>å‘¨æœŸæ€§<ul><li>$|F(u,v)|=|F(u+M,v+N)|=|F(-u,-v)|=|F(M-u,N-v)|$</li></ul></li></ul><h3 id="5-1-4-OpenCV">5.1.4.OpenCV</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">img_dft = cv2.dft(np.float32(img), flags=cv2.DFT_COMPLEX_OUTPUT) <span class="comment"># äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢</span></span><br><span class="line"><span class="comment"># flags: cv2.DFT_COMPLEX_OUTPUTï¼ˆè¾“å‡ºä¸ºå¤æ•°æ•°ç»„ï¼‰ã€cv2.DFT_REAL_OUTPUTï¼ˆåªè¾“å‡ºå®æ•°æ•°ç»„ï¼‰</span></span><br><span class="line">img_idft = cv2.idft(img_dft) <span class="comment"># äºŒç»´ç¦»æ•£å‚…é‡Œå¶é€†å˜æ¢ï¼Œè¾“å‡ºä¸ºå¤æ•°æ•°ç»„</span></span><br><span class="line">img_dftshf = np.fft.fftshift(img_dft) <span class="comment"># é¢‘è°±ä¸­å¿ƒåŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“å›¾åƒæ•°ç»„çš„å¤§å°ä¸º2çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œdft()çš„è¿ç®—é€Ÿåº¦æœ€å¿«</span></span><br><span class="line">rows, cols = img.shape</span><br><span class="line">new_rows = cv2.getOptimalDFTSize(rows) <span class="comment"># è·å–æœ€ä¼˜è¡Œæ•°</span></span><br><span class="line">new_cols = cv2.getOptimalDFTSize(cols) <span class="comment"># è·å–æœ€ä¼˜åˆ—æ•°</span></span><br><span class="line"></span><br><span class="line">dft_mag, dft_pol = cv2.cartToPolar(img_dft[:,:,<span class="number">0</span>], img_dft[:,:,<span class="number">1</span>]) <span class="comment"># æåæ ‡è½¬æ¢</span></span><br></pre></td></tr></table></figure><h2 id="5-2-å›¾åƒçš„å‚…é‡Œå¶é¢‘è°±åˆ†æ">5.2.å›¾åƒçš„å‚…é‡Œå¶é¢‘è°±åˆ†æ</h2><h3 id="5-2-1-é¢‘è°±å›¾åƒå…³äº-M-2-N-2-å¯¹ç§°">5.2.1.é¢‘è°±å›¾åƒå…³äº$(M/2,N/2)$å¯¹ç§°</h3><h3 id="5-2-2-é¢‘è°±ä¸­å¿ƒåŒ–å‰åçš„é¢‘è°±å›¾åƒ">5.2.2.é¢‘è°±ä¸­å¿ƒåŒ–å‰åçš„é¢‘è°±å›¾åƒ</h3><ul><li>ä¸­å¿ƒåŒ–å‰ï¼šé¢‘è°±å›¾åƒçš„åŸç‚¹ä½äºå·¦ä¸Šè§’ã€‚ä½é¢‘åˆ†é‡ä½äºå›¾åƒçš„å››è§’ï¼Œé«˜é¢‘åˆ†é‡ä½äºå›¾åƒçš„ä¸­å¿ƒã€‚</li><li>ä¸­å¿ƒåŒ–åï¼šé¢‘è°±å›¾åƒçš„åŸç‚¹ä½äºä¸­å¿ƒã€‚ä½é¢‘åˆ†é‡ä½äºå›¾åƒçš„ä¸­å¿ƒï¼Œé«˜é¢‘åˆ†é‡ä½äºå›¾åƒçš„å››è§’ã€‚</li><li>ç”±äºå‚…é‡Œå¶å˜æ¢çš„å‘¨æœŸæ€§ï¼Œå¯ä»¥å°†ä¸­å¿ƒåŒ–å‰çš„å›¾åƒç»„æˆ$2\times2$çš„å‘¨æœŸå›¾åƒï¼Œå–ä¸­å¿ƒéƒ¨åˆ†å³ä¸ºä¸­å¿ƒåŒ–åçš„å›¾åƒã€‚</li></ul><h3 id="5-2-3-å‚…é‡Œå¶å˜æ¢çš„æ„ä¹‰">5.2.3.å‚…é‡Œå¶å˜æ¢çš„æ„ä¹‰</h3><ol><li>ç®€åŒ–è®¡ç®—ï¼šå‚…é‡Œå¶å˜æ¢å°†ç©ºé—´åŸŸå›¾åƒè½¬æ¢åˆ°é¢‘ç‡åŸŸï¼Œåœ¨ç©ºé—´åŸŸä¸­å¤„ç†å›¾åƒæ—¶ç”¨åˆ°çš„å¤æ‚å·ç§¯è¿ç®—ï¼Œç­‰åŒäºåœ¨é¢‘ç‡åŸŸä¸­è¿›è¡Œç®€å•çš„ä¹˜æ³•è¿ç®—ã€‚</li><li>ç”¨é¢‘è°±å›¾è¡¨ç¤ºçš„é¢‘ç‡åŸŸå›¾åƒä¸­ï¼š<ul><li>ä¸­å¿ƒéƒ¨ä½æ˜¯èƒ½é‡é›†ä¸­çš„ä½é¢‘ç‰¹å¾ï¼Œåæ˜ å›¾åƒçš„å¹³æ»‘éƒ¨åˆ†</li><li>è¾¹ç¼˜éƒ¨ä½æ˜¯èƒ½é‡åˆ†æ•£çš„é«˜é¢‘ç‰¹å¾ï¼Œå¯¹åº”äºç»†èŠ‚ã€è¾¹ç¼˜ã€ç»“æ„å¤æ‚åŒºåŸŸã€çªå˜éƒ¨ä½å’Œå™ªå£°</li><li>å› æ­¤ï¼Œé¢‘ç‡åŸŸä¸­æ»¤æ³¢çš„æ¦‚å¿µæ›´ç›´è§‚ã€æ›´æ˜“ç†è§£</li></ul></li><li>æŸäº›ç‰¹å®šçš„åº”ç”¨éœ€æ±‚åªèƒ½åœ¨é¢‘ç‡åŸŸè¿›è¡Œå¤„ç†ï¼Œå¦‚é¢‘ç‡åŸŸå›¾åƒç‰¹å¾æå–ã€æ•°æ®å‹ç¼©ã€çº¹ç†åˆ†æç­‰</li></ol><h2 id="5-3-åŸºäºé¢‘ç‡åŸŸæ»¤æ³¢çš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢">5.3.åŸºäºé¢‘ç‡åŸŸæ»¤æ³¢çš„å›¾åƒå™ªå£°æ¶ˆé™¤â€”â€”é¢‘ç‡åŸŸä½é€šæ»¤æ³¢</h2><ul><li>å›¾åƒçš„è¾¹ç¼˜å’Œå™ªå£°å¯¹åº”äºå‚…é‡Œå¶é¢‘è°±çš„é«˜é¢‘æˆåˆ†ã€‚</li><li>ä½é€šæ»¤æ³¢å™¨ï¼šä¿ç•™ä½é¢‘æˆåˆ†ï¼ŒæŠ‘åˆ¶é«˜é¢‘æˆåˆ†ã€‚</li><li>å¯ä»¥å‰Šå¼±å™ªå£°å½±å“ï¼Œä½†æ˜¯ä¼šæ¨¡ç³Šè¾¹ç¼˜ç»†èŠ‚ï¼Œé™ä½å›¾åƒæ¸…æ™°åº¦ã€‚</li><li>ä¸ç©ºé—´åŸŸå¹³æ»‘æ»¤æ³¢æ•ˆæœç±»ä¼¼ã€‚</li></ul><h3 id="5-3-1-ç†æƒ³ä½é€šæ»¤æ³¢å™¨">5.3.1.ç†æƒ³ä½é€šæ»¤æ³¢å™¨</h3><p>è®¾ç½®ä¸€ä¸ªæˆªæ­¢é¢‘ç‡$D_0$ï¼Œåªä¿ç•™é¢‘ç‡å°äº$D_0$çš„æˆåˆ†ã€‚</p><ul><li>ç†æƒ³ä½é€šæ»¤æ³¢å™¨ï¼š$H(u,v)=\begin{cases}1&amp;D(u,v)\leq D_0\\0&amp;D(u,v)&gt;D_0\end{cases}$</li><li>å…¶ä¸­ï¼Œ$D(u,v)$æ˜¯é¢‘ç‡åŸŸä¸­ç‚¹$(u,v)$åˆ°ä¸­å¿ƒçš„è·ç¦»ã€‚è‹¥å˜æ¢è¢«ä¸­å¿ƒåŒ–ï¼Œæ³¨æ„è°ƒæ•´$D(u,v)$çš„è®¡ç®—æ–¹å¼ã€‚</li><li>ç†æƒ³ä½é€šæ»¤æ³¢å™¨æ— æ³•é€šè¿‡ç”µå­å™¨ä»¶å®ç°ã€‚</li></ul><h3 id="5-3-2-å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨ï¼ˆButterworth-Lowpass-Filterï¼‰">5.3.2.å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨ï¼ˆButterworth Lowpass Filterï¼‰</h3><ul><li>né˜¶å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨ï¼š$H(u,v)=\dfrac{1}{1+[D(u,v)/D_0]^{2n}}$</li><li>å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨èƒ½å¤Ÿç‰©ç†å®ç°ã€‚</li></ul><h3 id="5-4-3-å…¶ä»–ä½é€šæ»¤æ³¢å™¨">5.4.3.å…¶ä»–ä½é€šæ»¤æ³¢å™¨</h3><ul><li>æ¢¯å½¢ä½é€šæ»¤æ³¢å™¨</li><li>næŒ‡æ•°å‹ä½é€šæ»¤æ³¢å™¨</li></ul><h2 id="5-4-åŸºäºé¢‘ç‡åŸŸæ»¤æ³¢çš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢">5.4.åŸºäºé¢‘ç‡åŸŸæ»¤æ³¢çš„å›¾åƒå¢å¼ºâ€”â€”é¢‘ç‡åŸŸé«˜é€šæ»¤æ³¢</h2><ul><li>å›¾åƒçš„è¾¹ç¼˜å’Œç»†èŠ‚å¯¹åº”äºå‚…é‡Œå¶é¢‘è°±çš„é«˜é¢‘æˆåˆ†ã€‚</li><li>é«˜é€šæ»¤æ³¢å™¨ï¼šä¿ç•™é«˜é¢‘æˆåˆ†ï¼ŒæŠ‘åˆ¶ä½é¢‘æˆåˆ†ã€‚</li></ul><h3 id="5-4-1-ç†æƒ³é«˜é€šæ»¤æ³¢å™¨">5.4.1.ç†æƒ³é«˜é€šæ»¤æ³¢å™¨</h3><p>ä¸ç†æƒ³ä½é€šæ»¤æ³¢å™¨ç›¸åï¼Œåªä¿ç•™é¢‘ç‡å¤§äº$D_0$çš„æˆåˆ†ã€‚</p><ul><li>ç†æƒ³é«˜é€šæ»¤æ³¢å™¨ï¼š$H(u,v)=\begin{cases}1&amp;D(u,v)&gt;D_0\\0&amp;D(u,v)\leq D_0\end{cases}$</li></ul><h3 id="5-4-2-å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨ï¼ˆButterworth-Highpass-Filterï¼‰">5.4.2.å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨ï¼ˆButterworth Highpass Filterï¼‰</h3><ul><li>né˜¶å·´ç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨ï¼š$H(u,v)=1-\dfrac{1}{1+[D_0/D(u,v)]^{2n}}$</li></ul><h3 id="5-4-3-é«˜é¢‘å¢å¼ºæ»¤æ³¢å™¨">5.4.3.é«˜é¢‘å¢å¼ºæ»¤æ³¢å™¨</h3><ul><li>é«˜é€šæ»¤æ³¢ä¼šæ»¤é™¤ä½é¢‘æˆåˆ†ï¼Œå¯¼è‡´æ•´ä½“å½¢è±¡å˜æš—ã€‚</li><li>é«˜é¢‘å¢å¼ºæ»¤æ³¢å™¨ï¼š$H_e(u,v)=kH(u,v)+c$<ul><li>$k&gt;1$ï¼šå¢å¼ºé«˜é¢‘æˆåˆ†</li><li>$c$ï¼šé€‚å½“ä¿ç•™ä½é¢‘æˆåˆ†</li></ul></li></ul><h2 id="5-5-å¸¦é€šæ»¤æ³¢å’Œå¸¦é˜»æ»¤æ³¢">5.5.å¸¦é€šæ»¤æ³¢å’Œå¸¦é˜»æ»¤æ³¢</h2><ul><li>å¸¦é€šæ»¤æ³¢ï¼šåªä¿ç•™é¢‘ç‡åœ¨ä¸¤ä¸ªæˆªæ­¢é¢‘ç‡ä¹‹é—´çš„æˆåˆ†ã€‚</li><li>å¸¦é˜»æ»¤æ³¢ï¼šåªä¿ç•™é¢‘ç‡åœ¨ä¸¤ä¸ªæˆªæ­¢é¢‘ç‡ä¹‹å¤–çš„æˆåˆ†ã€‚</li></ul><h2 id="5-6-ä¹ é¢˜">5.6.ä¹ é¢˜</h2><ol><li>ç©ºé—´åŸŸå›¾åƒå’Œæ¨¡æ¿ä¹‹é—´çš„è¿ç®—æ˜¯ä¸€ç§å·ç§¯è¿ç®—ã€‚ç”±å·ç§¯å®šç†ï¼Œç©ºåŸŸçš„å·ç§¯å¯ä»¥é€šè¿‡é¢‘åŸŸä¸­å›¾åƒçš„å‚…ç«‹å¶å˜æ¢å’Œæ¨¡æ¿çš„å‚…ç«‹å¶å˜æ¢é—´çš„ä¹˜ç§¯è¿ç®—æ¥å®ç°ã€‚æ‰€ä»¥ï¼Œå¯¹é¢‘åŸŸä¸­çš„è½¬ç§»å‡½æ•°æ±‚å‚…ç«‹å¶åå˜æ¢å³å¯å¾—åˆ°ç”¨äºç©ºåŸŸå·ç§¯çš„æ¨¡æ¿ã€‚</li></ol><h1>ä¸ƒã€å›¾åƒå‹ç¼©ç¼–ç </h1><h2 id="7-1-ç¦»æ•£ä½™å¼¦å˜æ¢ï¼ˆDiscrete-Cosine-Transformï¼ŒDCTï¼‰">7.1.ç¦»æ•£ä½™å¼¦å˜æ¢ï¼ˆDiscrete Cosine Transformï¼ŒDCTï¼‰</h2><ul><li>DCTå˜æ¢é¿å…äº†å¤æ•°è¿ç®—ã€‚è‹¥å›¾åƒçŸ©é˜µæ˜¯å®æ•°çŸ©é˜µï¼Œåˆ™DCTå˜æ¢åçš„çŸ©é˜µä¹Ÿæ˜¯å®æ•°çŸ©é˜µã€‚</li><li>DCTæ˜¯ä¸€ç§æ­£äº¤å˜æ¢ï¼Œå˜æ¢çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå˜æ¢æ ¸æ˜¯å¯åˆ†ç¦»çš„ã€‚</li><li>DCTæœ‰å¿«é€Ÿç®—æ³•ã€‚</li><li>DCTå…·æœ‰æ›´å¼ºçš„ä¿¡æ¯é›†ä¸­èƒ½åŠ›ã€‚</li></ul><h3 id="7-1-1-ä¸€ç»´ç¦»æ•£ä½™å¼¦å˜æ¢">7.1.1.ä¸€ç»´ç¦»æ•£ä½™å¼¦å˜æ¢</h3><ul><li>ç»™å®šé•¿åº¦ä¸ºNçš„ä¸€ç»´ä¿¡å·$x[n],n=0,1,2,\cdots,N-1$<ul><li>ä¸€ç§å¸¸ç”¨çš„1D-DCTå½¢å¼ï¼š$X[u]=a(u)\sum\limits_{m=0}^{N-1}x[m]cos(\dfrac{(2m+1)u\pi}{2N})$ï¼Œå…¶ä¸­$a(u)=\begin{cases}\sqrt{\dfrac{1}{N}}&amp;u=0\\\sqrt{\dfrac{2}{N}}&amp;u&gt;0\end{cases}$</li></ul></li><li>ä»¥$N=4$ä¸ºä¾‹<ul><li>1D-DCTï¼š$\begin{bmatrix}X_0\\X_1\\X_2\\X_3\end{bmatrix}=\begin{bmatrix}0.5&amp;0.5&amp;0.5&amp;0.5\\0.65&amp;0.27&amp;-0.27&amp;-0.65\\0.5&amp;-0.5&amp;-0.5&amp;0.5\\0.27&amp;-0.65&amp;0.65&amp;-0.27\end{bmatrix}\begin{bmatrix}x_0\\x_1\\x_2\\x_3\end{bmatrix}$</li><li>1D-IDCTï¼š$\begin{bmatrix}x_0\\x_1\\x_2\\x_3\end{bmatrix}=\begin{bmatrix}0.5&amp;0.65&amp;0.5&amp;0.27\\0.5&amp;0.27&amp;-0.5&amp;-0.65\\0.5&amp;-0.27&amp;-0.5&amp;0.65\\0.5&amp;-0.65&amp;0.5&amp;-0.27\end{bmatrix}\begin{bmatrix}X_0\\X_1\\X_2\\X_3\end{bmatrix}$</li></ul></li></ul><h3 id="7-1-2-äºŒç»´ç¦»æ•£ä½™å¼¦å˜æ¢">7.1.2.äºŒç»´ç¦»æ•£ä½™å¼¦å˜æ¢</h3><ul><li>ç»™å®šäºŒç»´ä¿¡å·$x[m,n],m=0,1,2,\cdots,M-1,n=0,1,2,\cdots,N-1$<ul><li>2D-DCTï¼š<ul><li>$C(u,v)=a(u)a(v)\sum\limits_{m=0}^{M-1}\sum\limits_{n=0}^{N-1}f(x,y)cos(\dfrac{(2x+1)u\pi}{2M})cos(\dfrac{(2y+1)v\pi}{2N})$</li></ul></li><li>2D-IDCTï¼š<ul><li>$f(x,y)=\sum\limits_{u=0}^{M-1}\sum\limits_{v=0}^{N-1}a(u)a(v)C(u,v)cos(\dfrac{(2x+1)u\pi}{2M})cos(\dfrac{(2y+1)v\pi}{2N})$</li></ul></li><li>å…¶ä¸­ï¼Œ$a(u)=\begin{cases}\sqrt{\dfrac{1}{N}}&amp;u=0\\\sqrt{\dfrac{2}{N}}&amp;u&gt;0\end{cases}$</li></ul></li></ul><h3 id="7-1-3-OpenCV">7.1.3.OpenCV</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img_dct = cv2.dct(img.astype(np.float32)) <span class="comment"># äºŒç»´ç¦»æ•£ä½™å¼¦å˜æ¢</span></span><br><span class="line">img_idct = cv2.idct(img_dct) <span class="comment"># äºŒç»´ç¦»æ•£ä½™å¼¦é€†å˜æ¢</span></span><br></pre></td></tr></table></figure><h2 id="7-2-æ•°å­—å›¾åƒå‹ç¼©ç¼–ç åŸºç¡€">7.2.æ•°å­—å›¾åƒå‹ç¼©ç¼–ç åŸºç¡€</h2><h3 id="7-2-1-ä¿¡æ¯å†—ä½™">7.2.1.ä¿¡æ¯å†—ä½™</h3><ul><li>å›¾åƒå‹ç¼©çš„åŸç†<ul><li>å›¾åƒä¿¡å·å­˜åœ¨å¤§é‡çš„å†—ä½™</li><li>äººçœ¼å¯¹å›¾åƒçš„æ„ŸçŸ¥æœ‰é™ï¼Œå¯ä»¥ä»¥ä¸€å®šå¤±çœŸä¸ºä»£ä»·æ¢å–æ•°æ®é‡å‡å°‘</li></ul></li><li>å‹ç¼©ç‡ï¼š$å‹ç¼©ç‡=\dfrac{åŸå§‹æ•°æ®é‡}{å‹ç¼©åæ•°æ®é‡}$</li><li>ä¿¡æ¯å†—ä½™<ul><li>ç©ºé—´å†—ä½™ï¼šç›¸é‚»åƒç´ ä¹‹é—´å…·æœ‰ç›¸å…³æ€§</li><li>æ—¶é—´å†—ä½™ï¼šè§†é¢‘åºåˆ—ä¸­ç›¸é‚»å¸§ä¹‹é—´å…·æœ‰ç›¸å…³æ€§</li><li>ç¼–ç å†—ä½™ï¼šç”±ç¼–ç æ–¹å¼å¯¼è‡´çš„å†—ä½™</li><li>å¿ƒç†-è§†è§‰å†—ä½™ï¼šäººçœ¼å¯¹å›¾åƒçš„æ„ŸçŸ¥æœ‰é™ï¼ŒæŸäº›ä¿¡æ¯ä¸é‡è¦</li></ul></li><li>å›¾åƒè´¨é‡çš„ä¸»è§‚è¯„ä»·ï¼šäººçš„ä¸»è§‚æ„Ÿå—ï¼Œå¦‚å›¾åƒçš„æ¸…æ™°åº¦ã€è‰²å½©ã€å¯¹æ¯”åº¦ç­‰ã€‚</li><li>å›¾åƒè´¨é‡çš„å®¢è§‚è¯„ä»·ï¼šä¿¡å™ªæ¯”ï¼ˆSNRï¼‰ã€å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPSNRï¼‰ã€å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ç­‰ã€‚</li></ul><h3 id="7-2-2-å›¾åƒè´¨é‡çš„å®¢è§‚è¯„ä»·">7.2.2.å›¾åƒè´¨é‡çš„å®¢è§‚è¯„ä»·</h3><p>åŸå§‹å›¾åƒ$f$ï¼Œå‹ç¼©åçš„å›¾åƒ$g$ï¼Œå›¾åƒå¤§å°ä¸º$M\times N$</p><h4 id="7-2-2-1-å‡æ–¹è¯¯å·®ï¼ˆMean-Square-Errorï¼ŒMSEï¼‰">7.2.2.1.å‡æ–¹è¯¯å·®ï¼ˆMean Square Errorï¼ŒMSEï¼‰</h4><ul><li>$MSE=\dfrac{1}{MN}\sum\limits_{x=0}^{M-1}\sum\limits_{y=0}^{N-1}[f(x,y)-g(x,y)]^2$</li></ul><h4 id="7-2-2-2-ä¿¡å™ªæ¯”ï¼ˆSignal-to-Noise-Ratioï¼ŒSNRï¼‰">7.2.2.2.ä¿¡å™ªæ¯”ï¼ˆSignal-to-Noise Ratioï¼ŒSNRï¼‰</h4><ul><li>$SNR=10\log_{10}\dfrac{\sigma^2}{MSE}$</li><li>å…¶ä¸­$\sigma^2=\dfrac{1}{MN}\sum\limits_{x=0}^{M-1}\sum\limits_{y=0}^{N-1}f^2(x,y)$ï¼ˆåŸå§‹å›¾åƒçš„å¹³æ–¹å¹³å‡ï¼‰</li></ul><h4 id="7-2-2-3-å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPeak-Signal-to-Noise-Ratioï¼ŒPSNRï¼‰">7.2.2.3.å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPeak Signal-to-Noise Ratioï¼ŒPSNRï¼‰</h4><ul><li>$PSNR=10\log_{10}\dfrac{max(I)^2}{MSE}$</li><li>é€šå¸¸$max(I)=L-1$</li></ul><h2 id="7-3-å›¾åƒå‹ç¼©ç¼–ç ">7.3.å›¾åƒå‹ç¼©ç¼–ç </h2><ul><li>å›¾åƒå‹ç¼©ç¼–ç å¤„ç†æµç¨‹ï¼š$f(x,y)\xrightarrow{ä¿¡æºç¼–ç å™¨}\xrightarrow{ä¿¡é“ç¼–ç å™¨}ä¿¡é“ä¼ è¾“\xrightarrow{ä¿¡é“è§£ç å™¨}\xrightarrow{ä¿¡æºè§£ç å™¨}g(x,y)$</li><li>ä¿¡æºç¼–ç ï¼šé€šè¿‡å‡å°‘å†—ä½™æ¥å‹ç¼©æ•°æ®çš„è¿‡ç¨‹ã€‚<ul><li>ä¿¡æºç¼–ç å™¨æ¨¡å‹ï¼š$f(x,y)\rightarrowæ˜ å°„å˜æ¢å™¨\rightarrowé‡åŒ–å™¨\rightarrowç¬¦å·ç¼–ç å™¨\rightarrow ä¿¡é“$</li><li>ä¿¡æºè§£ç å™¨æ¨¡å‹ï¼š$ä¿¡é“\rightarrowç¬¦å·è§£ç å™¨\rightarrowåé‡åŒ–å™¨\rightarrowåå‘æ˜ å°„å˜æ¢å™¨\rightarrow g(x,y)$</li></ul></li><li>ä¿¡é“ç¼–ç ï¼šä¹Ÿç§°å·®é”™æ§åˆ¶ç¼–ç ï¼Œæ˜¯ä¸€ç§åœ¨å‘é€ç«¯ç»™åŸæ•°æ®æ·»åŠ ä¸åŸæ•°æ®ç›¸å…³çš„å†—ä½™ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ¥æ”¶ç«¯æ£€æµ‹å’Œçº æ­£é”™è¯¯çš„ç¼–ç æ–¹å¼ã€‚ç”¨äºå¯¹æŠ—ä¼ è¾“è¿‡ç¨‹ä¸­çš„å™ªå£°å¹²æ‰°ã€‚<ul><li>æ±‰æ˜ç ã€å¾ªç¯å†—ä½™æ ¡éªŒç ï¼ˆCRCï¼‰</li></ul></li></ul><h3 id="7-3-1-ä¿¡æ¯é‡ä¸ä¿¡æ¯ç†µ">7.3.1.ä¿¡æ¯é‡ä¸ä¿¡æ¯ç†µ</h3><ul><li>äº‹ä»¶æä¾›çš„ä¿¡æ¯é‡ï¼š$I(x)=-\log_2P(x)$</li><li>ä¿¡æºï¼š$X,x_i=p_i$ï¼Œ$x_i$å‘ç”Ÿçš„æ¦‚ç‡ä¸º$p_i$</li><li>ä¿¡æºç†µï¼š$H(X)=-\sum\limits_{i=1}^n p_i\log_2p_i$ï¼ˆæ¯”ç‰¹/ç¬¦å·ï¼‰<ul><li>ä¿¡æºçš„å¹³å‡ä¿¡æ¯é‡ï¼Œå³ä¿¡æºå‘å‡ºä¸€ä¸ªç¬¦å·æ‰€æºå¸¦çš„å¹³å‡ä¿¡æ¯é‡</li><li>éè´Ÿï¼Œåœ¨æ‰€æœ‰äº‹ä»¶æ¦‚ç‡å‡ç­‰æ—¶ï¼Œç†µæœ€å¤§</li></ul></li></ul><h3 id="7-3-2-ç¼–ç ">7.3.2.ç¼–ç </h3><ul><li>ç¼–ç ï¼šç”±ä¿¡æºæ¶ˆæ¯é›†åˆ°ç å­—é›†çš„æ˜ å°„</li><li>æ ¹æ®é•¿åº¦æ˜¯å¦ç›¸ç­‰åˆ†ä¸ºï¼šç­‰é•¿ç å’Œå˜é•¿ç </li><li>é¦™å†œå®šç†ï¼šæ— å¹²æ‰°ä¸‹ï¼Œå¹³å‡ç é•¿çš„ä¸‹é™ä¸ºä¿¡æºç†µ</li><li>å‹ç¼©æ¯”ï¼š$å‹ç¼©æ¯”C=\dfrac{ä¿¡æºçš„å¹³å‡æ¯”ç‰¹ç‡n}{ç¼–ç åå¹³å‡ç é•¿n_d}$</li><li>æœ€å¤§å‹ç¼©æ¯”ï¼š$C_{max}=\dfrac{n}{H(X)}$</li></ul><h3 id="7-3-3-å“ˆå¤«æ›¼ç¼–ç ">7.3.3.å“ˆå¤«æ›¼ç¼–ç </h3><ul><li>å¸¦æƒè·¯å¾„é•¿åº¦ï¼ˆWPLï¼‰ï¼š$WPL=\sum\limits_{i=1}^n p_i l_i$</li><li>ç®—æ³•ï¼š<ul><li>æ¯æ¬¡é€‰å–æƒé‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œåˆå¹¶åˆ°ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæ–°èŠ‚ç‚¹çš„æƒé‡ä¸ºä¸¤ä¸ªèŠ‚ç‚¹çš„æƒé‡ä¹‹å’Œ</li><li>ç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹åˆå¹¶åˆ°ä¸€èµ·ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€æ£µæ ‘</li><li>æ¯ä¸ªå¶å­èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæºç¬¦å·ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„ç¼–ç å³ä¸ºå“ˆå¤«æ›¼ç¼–ç </li></ul></li></ul><h3 id="7-3-4-ç®—æœ¯ç¼–ç ">7.3.4.ç®—æœ¯ç¼–ç </h3><ul><li>æ ¹æ®æƒé‡åˆ†é…æ¦‚ç‡</li><li>ç¬¦å·åºåˆ—æ˜ å°„ä¸º$[0,1)$çš„ä¸€ä¸ªå­åŒºé—´</li><li>è®¾$a:30%,b:70%$ï¼Œåˆ™$a=[0,0.3),b=[0.3,1),aa=[0,0.09),ab=[0.09,0.3),ba=[0.3,0.51),bb=[0.51,1)$</li></ul><h2 id="7-4-ä½å¹³é¢ç¼–ç ">7.4.ä½å¹³é¢ç¼–ç </h2><ul><li>ä½å¹³é¢åˆ†è§£ï¼šä¸€å¹…$m$æ¯”ç‰¹è¡¨ç¤ºç°åº¦çš„å›¾åƒï¼Œå¯ä»¥çœ‹ä½œ$m$ä¸ªäºŒå€¼å›¾åƒåºåˆ—</li><li>åœ¨ä½å¹³é¢ä¸­å­˜åœ¨å¤§é‡å…·æœ‰ç›¸åŒå€¼çš„åŒºåŸŸï¼Œå¯ä»¥åˆ©ç”¨è¿ç»­çš„0å’Œ1è¿›è¡Œé«˜æ•ˆçš„å‹ç¼©ç¼–ç å’Œä¼ è¾“</li></ul><h3 id="7-4-1-æ ¼é›·ç åˆ†è§£ç¼–ç ">7.4.1.æ ¼é›·ç åˆ†è§£ç¼–ç </h3><ul><li>æ ¼é›·ç ï¼šç›¸é‚»ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶ç åªæœ‰ä¸€ä½ä¸åŒ</li><li>è®¾æºå›¾åƒä¸­åƒç´ ç°åº¦å€¼åŸ$m$ä½ä¸º$x_{m-1}\cdots x_1x_0$ï¼Œåˆ™æœ‰ï¼š$\begin{cases}g_i=x_i\oplus x_{i-1}\\g_{m-1}=x_{m-1}\end{cases}$</li><li>è¿™ç§æ–¹å¼ä¿è¯äº†ç›¸é‚»åƒç´ çš„æ ¼é›·ç å€¼åªæœ‰ä¸€ä½ä¸åŒï¼Œåœ¨ä½å¹³é¢ä¸Šçš„è¿ç»­0å’Œ1çš„åºåˆ—æ›´å¤šï¼Œæœ‰åˆ©äºå‹ç¼©ç¼–ç </li></ul><h2 id="7-5-æ¸¸ç¨‹ç¼–ç -è¡Œç¨‹ç¼–ç ">7.5.æ¸¸ç¨‹ç¼–ç /è¡Œç¨‹ç¼–ç </h2><ul><li>é€‚ç”¨äºè¿ç»­çš„0å’Œ1è¾ƒå¤šçš„åºåˆ—</li><li>ç¼ºç‚¹ï¼šå¯¹äºäº¤æ›¿çš„0å’Œ1ï¼Œæ•ˆæœä¸å¥½ç”šè‡³ä¼šå¢åŠ ç¼–ç é•¿åº¦</li></ul><h3 id="7-5-1-åŸºæœ¬æ€æƒ³">7.5.1.åŸºæœ¬æ€æƒ³</h3><ul><li>å¯¹äºè¿ç»­çš„åŸç¬¦å·ï¼Œç”¨ä¸€ä¸ªç¬¦å·å’Œä¸€ä¸ªè®¡æ•°å€¼æ¥è¡¨ç¤º</li><li>å¦‚ï¼š$aaaaabbbcccc\rightarrow a5b3c4$</li></ul><h3 id="7-5-2-è¡¨0çš„æ¸¸ç¨‹ç¼–ç ">7.5.2.è¡¨0çš„æ¸¸ç¨‹ç¼–ç </h3><ul><li>ç”¨ä¸€ä¸ª$k$ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºç›¸é‚»ä¸¤ä¸ª$1$ä¹‹é—´$0$çš„ä¸ªæ•°</li><li>å¦‚ï¼š$0(14)10(9)110(20)10(30)110(11)1ï¼ˆæ‹¬å·å†…ä¸ºè¿ç»­0çš„æ•°é‡ï¼‰\rightarrow 1110(14),1001(9),0000(0),1111 0101(15+5=20),1111 1111(15+15=30),0000(0),1011(11),0000(0)ï¼ˆæ‹¬å·å†…ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºæ•°çš„å«ä¹‰ï¼‰$</li></ul><h3 id="7-5-3-å›½é™…ä¼ çœŸæ ‡å‡†CCITT-T-4-G3">7.5.3.å›½é™…ä¼ çœŸæ ‡å‡†CCITT T.4(G3)</h3><ul><li>é‡‡ç”¨äº†éœå¤«æ›¼ç¼–ç å’Œæ¸¸ç¨‹ç¼–ç ç›¸ç»“åˆçš„æ–¹æ³•ï¼Œå¯¹æ¯ç§ç™½é•¿ç å­—å’Œé»‘é•¿ç å­—è¿›è¡Œéœå¤«æ›¼ç¼–ç ã€‚</li><li>æ¯ä¸€è¡Œæ€»æ˜¯ä»¥ç™½é•¿å¼€å§‹ï¼Œå…è®¸ä¸º0ï¼›ä»¥å”¯ä¸€è¡Œå°¾ï¼ˆEOLï¼‰ç å­—ç»“æŸã€‚</li></ul><h2 id="7-6-å˜æ¢ç¼–ç ">7.6.å˜æ¢ç¼–ç </h2><h1>ä¹ã€å›¾åƒåˆ†å‰²</h1><h2 id="9-1-å›¾åƒåˆ†å‰²çš„åŸºæœ¬æ¦‚å¿µ">9.1.å›¾åƒåˆ†å‰²çš„åŸºæœ¬æ¦‚å¿µ</h2><ul><li>å›¾åƒåˆ†å‰²ï¼šä¾æ®å›¾åƒçš„ç°åº¦ã€é¢œè‰²ã€çº¹ç†ã€è¾¹ç¼˜ç­‰ç‰¹å¾ï¼ŒæŠŠå›¾åƒåˆ†æˆå„è‡ªæ»¡è¶³æŸç§ç‰¹å¾çš„è¿é€šåŒºåŸŸçš„é›†åˆã€‚</li><li>ç‰¹å¾ï¼šç°åº¦ã€é¢œè‰²ã€çº¹ç†ã€å½¢çŠ¶ã€è¾¹ç¼˜è½®å»“ç­‰</li></ul><h2 id="9-2-åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²â€”â€”å“ˆå¤«å˜æ¢ï¼ˆHough-Transformï¼‰">9.2.åŸºäºè¾¹ç¼˜æ£€æµ‹çš„å›¾åƒåˆ†å‰²â€”â€”å“ˆå¤«å˜æ¢ï¼ˆHough Transformï¼‰</h2><ul><li>è¾¹ç¼˜ï¼šå…·æœ‰ä¸åŒç°åº¦çš„åŒºåŸŸçš„è¾¹ç•Œ</li><li>å¸¸ç”¨ç®—å­ï¼šRobertsã€Sobelã€Prewittã€Laplacianã€Canny</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge = cv2.Canny(img, <span class="number">80</span>, <span class="number">240</span>) <span class="comment"># Cannyè¾¹ç¼˜æ£€æµ‹ï¼Œå»ºè®®å‚æ•°3æ˜¯å‚æ•°2çš„3å€</span></span><br></pre></td></tr></table></figure><ul><li>å“ˆå¤«å˜æ¢ï¼šç”¨äºåœ¨æ•°å­—å›¾åƒä¸­æ£€æµ‹ç›´çº¿ã€åœ†ç­‰å½¢çŠ¶ç‰¹å¾</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">lines = cv2.HoughLinesP(image, rho, theta, threshold, lines=<span class="literal">None</span>, minLineLength=<span class="literal">None</span>, maxLineGap=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># 1. image--è¾“å…¥ï¼Œå¿…é¡»æ˜¯äºŒå€¼å›¾åƒï¼Œæ¨èä»¥cannyè¾¹ç¼˜æ£€æµ‹ç»“æœä½œä¸ºè¾“å…¥;</span></span><br><span class="line"><span class="comment"># 2. rho--çº¿æ®µä»¥åƒç´ ä¸ºå•ä½çš„è·ç¦»ç²¾åº¦ï¼Œdoubleç±»å‹ï¼Œæ¨èå€¼1.0;</span></span><br><span class="line"><span class="comment"># 3. theta--çº¿æ®µä»¥å¼§åº¦ä¸ºå•ä½çš„è§’åº¦ç²¾åº¦ï¼Œæ¨èå€¼numpy.pi/180ï¼›</span></span><br><span class="line"><span class="comment"># 4. threshlod--ç´¯åŠ å¹³é¢çš„é˜ˆå€¼å‚æ•°,intç±»å‹ï¼Œ è¶…è¿‡é˜ˆå€¼æ‰è¢«æ£€æµ‹å‡ºçº¿æ®µ, å€¼è¶Šå¤§, æ„å‘³ç€æ£€å‡ºçš„çº¿æ®µè¶Šé•¿, æ£€å‡ºçš„çº¿æ®µä¸ªæ•°è¶Šå°‘</span></span><br><span class="line"><span class="comment"># 5. minLineLength--çº¿æ®µä»¥åƒç´ ä¸ºå•ä½çš„æœ€å°ï¼Œéœ€æ ¹æ®å…·ä½“åœºæ™¯è®¾å®šï¼›</span></span><br><span class="line"><span class="comment"># 6. maxLineGap--åŒä¸€æ–¹å‘ä¸Šä¸¤æ¡çº¿æ®µåˆ¤å®šä¸ºä¸€æ¡çº¿æ®µçš„æœ€å¤§å…ï¼Œå€¼è¶Šå¤§åˆ™åŒä¸€æ–¹å‘ä¸Šå…è®¸çš„æ–­è£‚è¶Šå¤§ï¼›</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">    x1, y1, x2, y2 = line[<span class="number">0</span>] <span class="comment"># çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹</span></span><br><span class="line">    cv2.line(img, (x1, y1), (x2, y2), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>) <span class="comment"># ç”»çº¿</span></span><br><span class="line"></span><br><span class="line">circles = cv2.HoughCircles(image, method, dp, minDist, param1, param2, minRadius, maxRadius)</span><br><span class="line"><span class="comment"># 1. image: è¾“å…¥çš„ç°åº¦å›¾åƒ</span></span><br><span class="line"><span class="comment"># 2. method: æ£€æµ‹æ–¹æ³•ï¼Œå¯ä¸ºcv2.HOUGH_GRADIENTï¼ˆæ¢¯åº¦æ³•éœå¤«åœ†æ£€æµ‹ï¼‰ã€cv2.HOUGH_GRADIENT_ALTï¼ˆå¦ä¸€ç§æ¢¯åº¦æ³•ï¼‰</span></span><br><span class="line"><span class="comment"># 3. dp: æ–‡æ¡£ä¸Šå†™çš„æ˜¯å›¾åƒåˆ†è¾¨ç‡ä¸ç´¯åŠ å™¨åˆ†è¾¨ç‡çš„æ¯”å€¼ï¼Œé€šå¸¸ä¸º1</span></span><br><span class="line"><span class="comment"># 4. minDistï¼šåœ†å¿ƒä¹‹é—´æœ€å°è·ç¦»ï¼Œå¦‚æœè·ç¦»å¤ªå°ï¼Œä¼šäº§ç”Ÿå¾ˆå¤šç›¸äº¤çš„åœ†</span></span><br><span class="line"><span class="comment"># 5. param1ï¼šcannyæ£€æµ‹çš„åŒé˜ˆå€¼ä¸­çš„é«˜é˜ˆå€¼ï¼Œä½é˜ˆå€¼æ˜¯å®ƒçš„ä¸€åŠ</span></span><br><span class="line"><span class="comment"># 6. param2ï¼šæœ€å°æŠ•ç¥¨æ•°ï¼ˆåŸºäºåœ†å¿ƒçš„æŠ•ç¥¨æ•°ï¼‰</span></span><br></pre></td></tr></table></figure><h2 id="9-3-åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²æ–¹æ³•">9.3.åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²æ–¹æ³•</h2><p>æå–ç‰©ä½“ä¸èƒŒæ™¯åœ¨ç°åº¦ä¸Šçš„å·®å¼‚ï¼Œå°†å›¾åƒåˆ†ä¸ºå…·æœ‰ä¸åŒç°åº¦çº§ç›®æ ‡åŒºåŸŸå’ŒèƒŒæ™¯åŒºåŸŸ</p><h3 id="9-3-1-åŸºäºå•ä¸€é˜ˆå€¼çš„å›¾åƒåˆ†å‰²">9.3.1.åŸºäºå•ä¸€é˜ˆå€¼çš„å›¾åƒåˆ†å‰²</h3><ul><li>æ‰¾åˆ°ä¸€ä¸ªä»‹äºç›®æ ‡å’ŒèƒŒæ™¯ç°åº¦ä¹‹é—´çš„é˜ˆå€¼$T$ï¼Œå°†å›¾åƒåˆ†ä¸ºä¸¤éƒ¨åˆ†</li><li>$m(x,y)=\begin{cases}1&amp;f(x,y)&gt;T\\0&amp;f(x,y)\leq T\end{cases}$</li></ul><h3 id="9-3-2-ä¸€ç§é˜ˆå€¼ç¡®å®šæ–¹æ³•çš„æ­¥éª¤">9.3.2. ä¸€ç§é˜ˆå€¼ç¡®å®šæ–¹æ³•çš„æ­¥éª¤</h3><ol><li>é€‰æ‹©ä¸€ä¸ªåˆå§‹ä¼°è®¡å€¼$T_0$</li><li>ä»¥$T_0$è¿›è¡Œå›¾åƒåˆ†å‰²ï¼Œè®¡ç®—ä¸¤ä¸ªåƒç´ é›†åˆå„è‡ªçš„å¹³å‡ç°åº¦å€¼$M_1$å’Œ$M_2$</li><li>è®¡ç®—æ–°çš„é˜ˆå€¼$T_1=\dfrac{M_1+M_2}{2}$</li></ol><h3 id="9-3-3-è‡ªé€‚åº”é˜ˆå€¼">9.3.3.è‡ªé€‚åº”é˜ˆå€¼</h3><p>å°†å›¾åƒåˆ†ä¸º$N\times N$ä¸ªå°åŒºåŸŸï¼Œå¯¹æ¯ä¸ªå°åŒºåŸŸåˆ†åˆ«è®¡ç®—ä¸€ä¸ªé˜ˆå€¼</p><h2 id="9-4-åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²æ–¹æ³•">9.4.åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²æ–¹æ³•</h2><p>æ ¹æ®å›¾åƒçš„ç°åº¦ã€é¢œè‰²ã€çº¹ç†å’Œå›¾åƒåƒç´ ç»Ÿè®¡ç‰¹å¾çš„å‡åŒ€æ€§ç­‰å›¾åƒçš„ç©ºé—´å±€éƒ¨ç‰¹å¾ï¼Œå°†å›¾åƒä¸­çš„åƒç´ åˆ’å½’åˆ°å„ä¸ªç‰©ä½“æˆ–åŒºåŸŸä¸­ã€‚</p><h3 id="9-4-1-åŒºåŸŸç”Ÿé•¿æ³•">9.4.1.åŒºåŸŸç”Ÿé•¿æ³•</h3><ul><li>æ ¹æ®äº‹å…ˆå®šä¹‰çš„ç›¸ä¼¼æ€§å‡†åˆ™ï¼Œå°†å…·æœ‰ç›¸ä¼¼æ€§è´¨çš„åƒç´ ç‚¹åˆå¹¶æˆä¸€ä¸ªåŒºåŸŸ</li><li>æ­¥éª¤ï¼š<ol><li>é€‰æ‹©å’Œç¡®å®šä¸€ç»„èƒ½å¤Ÿæ­£ç¡®ä»£è¡¨æ‰€éœ€åŒºåŸŸçš„ç§å­<ul><li>åŸåˆ™ï¼šæ¥è¿‘èšç±»ä¸­å¿ƒçš„åƒç´ /çº¢å¤–å›¾åƒç›®æ ‡æ£€æµ‹ä¸­æœ€äº®çš„åƒç´ /æŒ‰ä½ç½®è¦æ±‚/æ ¹æ®ç»éªŒ</li></ul></li><li>ç¡®å®šåœ¨ç”Ÿé•¿è¿‡ç¨‹ä¸­åˆå¹¶ç›¸é‚»åƒç´ çš„ç›¸ä¼¼æ€§åŸåˆ™<ul><li>é¢œè‰²ï¼ˆå½©è‰²å›¾åƒï¼‰/ç°åº¦å€¼å·®/å’Œå·²çŸ¥åŒºåŸŸæ„æˆæŸç§å½¢çŠ¶æˆ–å°ºå¯¸</li></ul></li><li>ç¡®å®šç»ˆæ­¢ç”Ÿé•¿è¿‡ç¨‹çš„æ¡ä»¶æˆ–è§„åˆ™<ul><li>ä¸€èˆ¬ï¼šæ²¡æœ‰æ»¡è¶³åˆå¹¶æ¡ä»¶çš„åƒç´ </li><li>å…¶ä»–ï¼šåŒºåŸŸå¤§å°ã€ç°åº¦å·®ã€å½¢çŠ¶ç­‰è§¦å‘ä¸€å®šæ¡ä»¶</li></ul></li><li>ä»ç§å­åƒç´ å¼€å§‹ï¼Œé€æ­¥åˆå¹¶ç›¸é‚»åƒç´ ï¼Œç›´åˆ°æ»¡è¶³ç»ˆæ­¢æ¡ä»¶</li></ol></li></ul><h3 id="9-4-2-åˆ†è£‚åˆå¹¶æ³•">9.4.2.åˆ†è£‚åˆå¹¶æ³•</h3><ul><li>ä»æ•´å¹…å›¾åƒå¼€å§‹ï¼Œæ ¹æ®å›¾åƒä¸­åŒºåŸŸé—´æŸç§ä¸ä¸€è‡´æ€§ï¼Œé€æ­¥åˆ†è£‚æˆæ›´å°çš„åŒºåŸŸï¼›å†æ ¹æ®ç›¸é‚»å­åŒºåŸŸçš„æŸç§ä¸€è‡´æ€§å‡†åˆ™ï¼Œé€æ­¥åˆå¹¶ã€‚</li><li>å›¾åƒå››å‰æ ‘è¡¨ç¤ºæ³•ï¼š<img src="https://source.cclmsy.cc/Images/Posts/IP/IP05.png" alt=""></li><li>æ­¥éª¤ï¼š<ol><li>å¯¹åˆå§‹å›¾åƒ$R_0$è¿›è¡Œä¸€æ¬¡å››åˆ†è£‚å¾—åˆ°å››ä¸ªå­åŒºåŸŸ$R_1,R_2,R_3,R_4$</li><li>å¯¹äºæ‰€æœ‰å›¾åƒ$R_i$è¿›è¡Œæ£€æµ‹ï¼Œè‹¥æ»¡è¶³åˆ†è£‚è§„åˆ™ï¼ˆ$P(R_i)=TRUE$ï¼‰ï¼Œåˆ™å¯¹è¯¥åŒºåŸŸè¿›è¡Œå››åˆ†è£‚</li><li>å¯¹äºæ‰€æœ‰å›¾åƒ$R_i$è¿›è¡Œæ£€æµ‹ï¼Œè‹¥ç›¸é‚»åŒºåŸŸæ»¡è¶³åˆå¹¶è§„åˆ™ï¼ˆ$M(R_i,R_j)=TRUE$ï¼‰ï¼Œåˆ™åˆå¹¶è¿™ä¸¤ä¸ªåŒºåŸŸ</li><li>é‡å¤æ­¥éª¤2å’Œ3ï¼Œç›´åˆ°ä¸å†æœ‰åŒºåŸŸæ»¡è¶³åˆ†è£‚æˆ–åˆå¹¶è§„åˆ™</li></ol></li></ul><h1>åäºŒã€å½¢æ€å­¦å›¾åƒå¤„ç†</h1><h2 id="12-1-äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—">12.1.äºŒå€¼å½¢æ€å­¦çš„åŸºæœ¬è¿ç®—</h2><h3 id="12-1-1-è†¨èƒ€è¿ç®—">12.1.1.è†¨èƒ€è¿ç®—</h3><p>$A\oplus B={x|(\hat{B})_y\cap A\neq\emptyset}$</p><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP07.png" alt=""></p><p>è®¡ç®—è¿‡ç¨‹ï¼š<br>åˆ›å»ºä¸€ä¸ªä¸åŸå›¾åƒ$A$å½¢çŠ¶åŒçš„å…¨0å›¾åƒ$G$ã€‚<br>å¯¹äºåŸå›¾åƒ$A$ä¸­çš„æ¯ä¸€ä¸ª1æ‰€åœ¨çš„åƒç´ ï¼Œå°†ç»“æ„å…ƒç´ $B$çš„åŸç‚¹æ”¾åœ¨è¯¥ä½ç½®ï¼Œå°†$B$ä¸­çš„1å¯¹åº”çš„ä½ç½®åœ¨$G$ä¸­ç½®1ã€‚</p><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP10.png" alt=""></p><ul><li>å›¾$G$ä¸­ï¼šç™½0è¡¨ç¤ºåŸæ¥æ˜¯1æ–°å›¾åƒæ˜¯0ï¼›ç°1è¡¨ç¤ºåŸæ¥æ˜¯1æ–°å›¾åƒè¿˜æ˜¯1ï¼›é»‘2è¡¨ç¤ºåŸæ¥æ˜¯0ï¼Œæ–°å›¾åƒæ˜¯1</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kernel = np.ones((<span class="number">5</span>,<span class="number">1</span>), np.uint8) <span class="comment"># 5x1çš„ç»“æ„å…ƒç´ </span></span><br><span class="line">img_dilate = cv2.dilate(img, kernel, iterations=<span class="number">1</span>) <span class="comment"># è†¨èƒ€è¿ç®—</span></span><br></pre></td></tr></table></figure><h3 id="12-1-2-è…èš€è¿ç®—">12.1.2.è…èš€è¿ç®—</h3><p>$A\ominus B={x|(\hat{B})_y\subseteq A}$</p><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP06.png" alt=""></p><p>è®¡ç®—è¿‡ç¨‹ï¼š<br>åˆ›å»ºä¸€ä¸ªä¸åŸå›¾åƒ$A$å½¢çŠ¶åŒçš„å…¨0å›¾åƒ$G$ã€‚<br>å¯¹äºåŸå›¾åƒ$A$ä¸­çš„æ¯ä¸€ä¸ª1æ‰€åœ¨çš„åƒç´ ï¼Œå°†ç»“æ„å…ƒç´ $B$çš„åŸç‚¹æ”¾åœ¨è¯¥ä½ç½®ã€‚<br>è‹¥$B$ä¸­çš„1å¯¹åº”çš„ä½ç½®åœ¨$A$ä¸­éƒ½æ˜¯1ï¼Œåˆ™å°†$G$ä¸­è¯¥ä½ç½®ç½®1ï¼›<br>å¦åˆ™ï¼Œ$G$ä¸­è¯¥ä½ç½®ä¸º0ã€‚</p><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP11.png" alt=""></p><ul><li>å›¾$G$ä¸­ï¼šç™½0è¡¨ç¤ºåŸæ¥æ˜¯1æ–°å›¾åƒæ˜¯0ï¼›ç°1è¡¨ç¤ºåŸæ¥æ˜¯1æ–°å›¾åƒè¿˜æ˜¯1</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">1</span>), np.uint8) <span class="comment"># 3x1çš„ç»“æ„å…ƒç´ </span></span><br><span class="line">img_dilate = cv2.dilate(img, kernel, iterations=<span class="number">1</span>) <span class="comment"># è†¨èƒ€è¿ç®—</span></span><br></pre></td></tr></table></figure><h3 id="12-1-3-å¼€è¿ç®—">12.1.3.å¼€è¿ç®—</h3><ul><li>å…ˆè…èš€åè†¨èƒ€</li><li>$A\circ B=(A\ominus B)\oplus B$</li><li>èƒ½å¤Ÿæ¶ˆé™¤å¤–éƒ¨å™ªç‚¹ï¼Œå¹³æ»‘è½®å»“</li></ul><h3 id="12-1-4-é—­è¿ç®—">12.1.4.é—­è¿ç®—</h3><ul><li>å…ˆè†¨èƒ€åè…èš€</li><li>$A\bullet B=(A\oplus B)\ominus B$</li><li>èƒ½å¤Ÿæ¶ˆé™¤å†…éƒ¨å™ªç‚¹ï¼Œä¿æŒç‰©ä½“çš„é¢ç§¯å’Œå½¢çŠ¶</li></ul><h3 id="12-1-5-å››ç§åŸºæœ¬è¿ç®—çš„æ€§è´¨">12.1.5.å››ç§åŸºæœ¬è¿ç®—çš„æ€§è´¨</h3><p>å•è°ƒæ€§ã€æ‰©å±•æ€§ã€äº¤æ¢æ€§ã€ç»“åˆæ€§ã€å¹³ç§»ä¸å˜æ€§</p><h2 id="12-2-äºŒå€¼å›¾åƒçš„å½¢æ€å­¦å¤„ç†">12.2.äºŒå€¼å›¾åƒçš„å½¢æ€å­¦å¤„ç†</h2><h3 id="12-2-1-å½¢æ€æ»¤æ³¢">12.2.1.å½¢æ€æ»¤æ³¢</h3><p>å½¢æ€æ»¤æ³¢å™¨ï¼šå…ˆå¼€åé—­/å…ˆé—­åå¼€</p><h3 id="12-2-2-è¾¹ç•Œæå–">12.2.2.è¾¹ç•Œæå–</h3><p>åŸå›¾åƒ-è…èš€å›¾åƒ=è¾¹ç•Œå›¾åƒ</p><h3 id="12-2-3-åŒºåŸŸå¡«å……">12.2.3.åŒºåŸŸå¡«å……</h3><ol><li>å…ˆå¯¹åŸå›¾åƒ$f$å–åå¾—åˆ°$f_c$</li><li>å¯¹$f_c$è¿›è¡Œè†¨èƒ€è¿ç®—ï¼Œå¾—åˆ°$f_1$</li><li>å¯¹$f_1$å’Œ$f_c$æ±‚äº¤é›†ï¼Œå¾—åˆ°$f_2$</li><li>å¯¹$f_2$å’Œ$f$æ±‚å¹¶é›†ï¼Œå¾—åˆ°ç›®æ ‡å›¾åƒ$g$</li></ol><h3 id="12-2-4-éª¨æ¶æå–">12.2.4.éª¨æ¶æå–</h3><p>é€šè¿‡è¿­ä»£è…èš€å’Œå·®åˆ†è¿ç®—ï¼Œå¾—åˆ°å›¾åƒçš„éª¨æ¶</p><h3 id="12-2-5-ç‰©ä½“è¯†åˆ«-å‡»ä¸­å‡»ä¸ä¸­å˜æ¢">12.2.5.ç‰©ä½“è¯†åˆ«/å‡»ä¸­å‡»ä¸ä¸­å˜æ¢</h3><p>åˆ©ç”¨å…·æœ‰ç‰¹å®šå½¢çŠ¶çš„ç»“æ„å…ƒç´ ï¼Œå¯¹å›¾åƒè¿›è¡Œè…èš€è¿ç®—ï¼Œæ ¹æ®å†…éƒ¨åƒç´ çš„å˜åŒ–åˆ¤æ–­ç‰©ä½“çš„å½¢çŠ¶</p><h1>é›¶ä¸€ã€å½©è‰²å›¾åƒä¸é¢œè‰²æ¨¡å‹</h1><h2 id="01-1-å½©è‰²å›¾åƒçš„æ¦‚è¿°">01.1.å½©è‰²å›¾åƒçš„æ¦‚è¿°</h2><ol><li>é¢œè‰²æ¨¡å‹ï¼šä¹Ÿç§°ä½œé¢œè‰²ç©ºé—´ï¼Œå¸¸è§çš„åŒ…æ‹¬ï¼šHSIã€HSVã€RGBã€NTSCã€YCbCrç­‰</li><li>å…‰è°±åˆ†å¸ƒå’Œå½©è‰²æ„Ÿè§‰æ˜¯å¤šå¯¹ä¸€å…³ç³»ï¼šä¸ºäº†å¾—åˆ°æŸä¸€ç§å½©è‰²æ„Ÿè§‰ï¼Œå¯ä»¥ç”¨ä¸åŒå…‰è°±åˆ†å¸ƒçš„å…‰ä»¥é€‚å½“æ¯”ä¾‹æ··åˆè€Œæˆï¼Œå‚ä¸æ··åˆçš„å…‰çš„æˆåˆ†ä¸å”¯ä¸€</li><li>ä¸‰åŸºè‰²åŸç†ï¼šåˆç†åœ°é€‰å–ä¸‰ç§åŸºæœ¬é¢œè‰²ï¼Œå‡ ä¹è‡ªç„¶ç•Œä¸­æ‰€æœ‰é¢œè‰²éƒ½å¯ä»¥ç”¨è¿™ä¸‰ç§é¢œè‰²çš„é€‚å½“æ··åˆæ¥è¡¨ç¤º</li><li>å½©è‰²ç”µè§†åŠå›¾åƒå¤„ç†ç³»ç»Ÿçš„å½©è‰²æ˜¾ç¤ºå™¨ï¼Œéƒ½é‡‡ç”¨çº¢ç»¿è“ä¸‰è‰²ä½œä¸ºä¸‰åŸºè‰²</li></ol><h2 id="01-2-HSI">01.2.HSI</h2><h3 id="01-2-1-HSI">01.2.1.HSI</h3><ul><li>HSIæ¨¡å‹ï¼šè‰²è°ƒï¼ˆHueï¼‰ã€é¥±å’Œåº¦ï¼ˆSaturationï¼‰ã€äº®åº¦/ç°åº¦ï¼ˆIntensityï¼‰</li><li>è‰²è°ƒï¼šåæ˜ é¢œè‰²çš„ç±»åˆ«ï¼Œå†³å®šäºå½©è‰²å…‰çš„å…‰è°±æˆåˆ†ï¼Œæ˜¯â€œè´¨â€çš„ç‰¹å¾</li><li>é¥±å’Œåº¦ï¼šåæ˜ é¢œè‰²çš„çº¯åº¦ï¼Œå³è‰²å½©çš„æµ“æ·¡ã€‚çº¯è‰²å…‰è°±è‰²çš„å«é‡è¶Šå¤šï¼Œé¥±å’Œåº¦è¶Šé«˜</li><li>äº®åº¦/ç°åº¦ï¼šå†³å®šäº†å½©è‰²å…‰çš„å¼ºåº¦</li><li>è‰²è°ƒå’Œé¥±å’Œåº¦åˆç§°â€œè‰²åº¦â€</li></ul><h3 id="01-2-2-HSIæ¨¡å‹">01.2.2.HSIæ¨¡å‹</h3><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP09.png" alt=""></p><ul><li>HSIæ¨¡å‹å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªçººé”¤ä½“</li><li>è‰²è°ƒ$H$å¯¹åº”æåæ ‡çš„$\rho$ï¼Œé¥±å’Œåº¦$S$å¯¹åº”æåæ ‡çš„$\theta$ï¼Œäº®åº¦$I$å¯¹åº”å‚ç›´åæ ‡$z$</li><li>$\theta=0,120,240$å¯¹åº”çº¢ã€ç»¿ã€è“ä¸‰åŸè‰²</li><li>$I$è¶Šå¤§ï¼Œè¶Šé è¿‘ç™½è‰²ï¼›$I$è¶Šå°ï¼Œè¶Šé è¿‘é»‘è‰²</li></ul><h3 id="01-2-3-HSIä¸RGBä¹‹é—´çš„è½¬æ¢">01.2.3.HSIä¸RGBä¹‹é—´çš„è½¬æ¢</h3><ol><li>æ±‚è‰²è°ƒ$H$</li></ol><ul><li>$\theta=\arccos(\dfrac{[(R-G)+(R-B)]}{2\sqrt{(R-G)^2+(R-B)(G-B)}})$</li><li>$H=\begin{cases}\theta&amp;G\geq B\\2\pi-\theta&amp;G&lt;B\end{cases}$</li></ul><ol start="2"><li>æ±‚é¥±å’Œåº¦$S$<ul><li>$S=1-\dfrac{3min(R,G,B)}{R+G+B}$</li></ul></li><li>æ±‚äº®åº¦$I$<ul><li>$I=\dfrac{R+G+B}{3}$</li></ul></li></ol><h2 id="01-3-HSV">01.3.HSV</h2><h3 id="01-3-1-HSV">01.3.1.HSV</h3><ul><li>ä¸HSIç±»ä¼¼ï¼Œåªæ˜¯è®¡ç®—äº®åº¦çš„æ–¹å¼ä¸åŒ</li><li>Vï¼šValueï¼Œè¡¨ç¤ºé¢œè‰²çš„äº®åº¦</li></ul><h3 id="01-3-2-HSVä¸RGBä¹‹é—´çš„è½¬æ¢">01.3.2.HSVä¸RGBä¹‹é—´çš„è½¬æ¢</h3><ul><li>$V=\dfrac{max(R,G,B)}{255}$</li></ul><h2 id="01-4-YUV">01.4.YUV</h2><h3 id="01-4-1-YUV">01.4.1.YUV</h3><ul><li>æ¬§æ´²ç”µè§†ç³»ç»Ÿæ‰€é‡‡ç”¨çš„ä¸€ç§é¢œè‰²ç¼–ç </li><li>Yï¼šäº®åº¦ä¿¡å·ï¼›Uã€Vï¼šè‰²å·®ä¿¡å·</li></ul><h3 id="01-4-2-YUVä¸RGBä¹‹é—´çš„è½¬æ¢">01.4.2.YUVä¸RGBä¹‹é—´çš„è½¬æ¢</h3><ul><li>$Y=0.299R+0.587G+0.114B$</li><li>$U=-0.147R-0.289G+0.436B$</li><li>$V=0.615R-0.515G-0.100B$</li></ul><h3 id="01-4-3-YUVçš„ä¼˜ç‚¹">01.4.3.YUVçš„ä¼˜ç‚¹</h3><ul><li>é‡‡ç”¨YUVè‰²å½©ç©ºé—´ï¼Œå¯ä»¥å°†äº®åº¦ä¿¡å·å’Œè‰²åº¦ä¿¡å·åˆ†å¼€å¤„ç†ï¼Œä½¿å¾—é»‘ç™½ç”µè§†æœºä¹Ÿèƒ½æ¥æ”¶å½©è‰²ä¿¡å·</li><li>ä¸RGBç›¸æ¯”ï¼Œæœ€å¤§çš„ä¼˜ç‚¹åœ¨äºåªéœ€è¦å ç”¨æå°‘çš„å¸¦å®½ï¼Œé€‚åˆäºä¼ è¾“å’Œå­˜å‚¨</li></ul><h2 id="01-5-YCbCr">01.5.YCbCr</h2><h3 id="01-5-1-YCbCr">01.5.1.YCbCr</h3><ul><li>DVDã€DVæ‘„åƒæœºã€æ•°å­—ç”µè§†ç­‰æ¶ˆè´¹ç±»è§†é¢‘äº§å“ä¸­å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§é¢œè‰²ç¼–ç </li><li>Yï¼šäº®åº¦ä¿¡å·ï¼›Cbï¼šè“è‰²ä¸å‚è€ƒå€¼çš„å·®ï¼›Crï¼šçº¢è‰²ä¸å‚è€ƒå€¼çš„å·®</li></ul><h3 id="01-5-2-YCbCrä¸RGBä¹‹é—´çš„è½¬æ¢">01.5.2.YCbCrä¸RGBä¹‹é—´çš„è½¬æ¢</h3><p>$$<br>\begin{bmatrix} Y\\Cb\\Cr\end{bmatrix}=\begin{bmatrix}16\\128\\128\end{bmatrix}+\begin{bmatrix}0.257&amp;0.504&amp;0.098\\-0.148&amp;-0.291&amp;0.439\\0.439&amp;-0.368&amp;-0.071\end{bmatrix}\begin{bmatrix}R\\G\\B\end{bmatrix}<br>$$</p><h3 id="01-5-3-YCbCrä¸YUVçš„å¯¹æ¯”">01.5.3.YCbCrä¸YUVçš„å¯¹æ¯”</h3><ul><li>YUVï¼šé€‚åˆäºæ¨¡æ‹Ÿç”µè§†ç³»ç»Ÿ</li><li>YCbCrï¼šé€‚åˆäºæ•°å­—ç³»ç»Ÿ</li></ul><h2 id="01-6-å½©è‰²å›¾åƒå¢å¼º">01.6.å½©è‰²å›¾åƒå¢å¼º</h2><ol><li>å•åˆ†é‡å˜åŒ–ï¼Œäº®åº¦å¢å¼º</li><li>å•åˆ†é‡å˜åŒ–ï¼Œé¥±å’Œåº¦å¢å¼º</li><li>æ¯ä¸ªåƒç´ çœ‹ä½œå‘é‡ï¼Œä»¥å‘é‡æ–¹å¼å¤„ç†</li></ol><h1>é›¶äºŒã€å›¾åƒç‰¹å¾ä¸ç†è§£</h1><h2 id="02-1-è¾¹ç•Œè¡¨ç¤ºï¼šé“¾ç ">02.1.è¾¹ç•Œè¡¨ç¤ºï¼šé“¾ç </h2><h3 id="02-1-1-é“¾ç ">02.1.1.é“¾ç </h3><ul><li>ç”¨ä¸€ç»„æ•°å­—åºåˆ—æ¥è¡¨ç¤ºè¾¹ç•Œçš„å½¢çŠ¶</li><li>ä»¥å³å‘ä¸º0ï¼Œé¡ºæ—¶é’ˆæ–¹å‘ä¸ºæ­£æ–¹å‘ï¼Œä¸ºæ¯ä¸ªæ–¹å‘ç¼–ç ã€‚åˆ†ä¸ºï¼š4æ–¹å‘é“¾ç ã€8æ–¹å‘é“¾ç </li><li>ä»è¾¹ç•Œæœ€å·¦ä¸Šè§’çš„åƒç´ å¼€å§‹ï¼ŒæŒ‰ç…§é€†æ—¶é’ˆæ–¹å‘ï¼Œå°†è¾¹ç•Œä¸Šçš„åƒç´ ç‚¹ç”¨é“¾ç è¡¨ç¤º</li><li>é“¾ç æ˜¯ä¸€ä¸ªå¾ªç¯åºåˆ—</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP12.png" alt=""></p><ul><li>ä¸Šå›¾çš„é“¾ç <ul><li>4æ–¹å‘é“¾ç ï¼š$00333332322121110101$</li><li>8æ–¹å‘é“¾ç ï¼š$07666553321202$</li></ul></li></ul><h3 id="02-1-2-é“¾ç å½’ä¸€åŒ–">02.1.2.é“¾ç å½’ä¸€åŒ–</h3><p>å¯¹é“¾ç è¿›è¡Œå¾ªç¯å³ç§»ï¼Œç›´åˆ°é“¾ç çš„å­—å…¸åºæœ€å°</p><h3 id="02-1-3-é“¾ç ä¸€é˜¶å·®åˆ†">02.1.3.é“¾ç ä¸€é˜¶å·®åˆ†</h3><p>å¯¹é“¾ç è¿›è¡Œæ¨¡ä¸‹å·®åˆ†ï¼Œå³$x_i=(x_i-x_{i-1}+n)\mod n$ï¼ˆnä¸ºé“¾ç çš„æ–¹å‘æ•°ï¼‰</p><h2 id="02-2-äºŒå€¼å›¾åƒçš„å‡ ä½•ç‰¹å¾">02.2.äºŒå€¼å›¾åƒçš„å‡ ä½•ç‰¹å¾</h2><h3 id="02-2-1-ä½ç½®">02.2.1.ä½ç½®</h3><p>ä¸€èˆ¬ä»¥ç‰©ä½“é¢ç§¯çš„é‡å¿ƒè¡¨ç¤ºç‰©ä½“çš„ä½ç½®<br>$$<br>\begin{cases}<br>x_c=\dfrac{1}{N}\sum\limits_{i=1}^N x_i\\\\<br>y_c=\dfrac{1}{N}\sum\limits_{i=1}^N y_i<br>\end{cases}<br>$$</p><h3 id="02-2-2-æ–¹å‘">02.2.2.æ–¹å‘</h3><ul><li>ç‰©ä½“çš„æ–¹å‘ï¼šç‰©ä½“çš„ä¸»è½´æ–¹å‘</li><li>ç¡®å®šä¸»è½´ï¼šï¼ˆæ—‹è½¬ï¼‰å¯»æ‰¾æœ€å°å¤–æ¥çŸ©å½¢ï¼Œä¸»è½´ä¸çŸ©å½¢çš„é•¿è¾¹å¹³è¡Œ</li></ul><h3 id="02-2-3-é¢ç§¯">02.2.3.é¢ç§¯</h3><p>ç‰©ä½“çš„åƒç´ ä¸ªæ•°</p><h3 id="02-2-4-å‘¨é•¿">02.2.4.å‘¨é•¿</h3><ol><li>é“¾ç è®¡ç®—ï¼š$C=n_0+\sqrt{2}n_1$ï¼ˆ$n_0$ä¸ºå¶æ•°æ–¹å‘çš„ä¸ªæ•°ï¼Œ$n_1$ä¸ºå¥‡æ•°æ–¹å‘çš„ä¸ªæ•°ï¼‰</li><li>è¾¹ç•Œæ‰€å é¢ç§¯</li><li>è¾¹ç•Œçš„é•¿åº¦</li></ol><h3 id="02-2-5-å½¢çŠ¶">02.2.5.å½¢çŠ¶</h3><ol><li>çŸ©å½¢åº¦ï¼š$R=\dfrac{A}{A_r}$ï¼ˆ$A$ä¸ºç‰©ä½“é¢ç§¯ï¼Œ$A_r$ä¸ºæœ€å°å¤–æ¥çŸ©å½¢çš„é¢ç§¯ï¼‰</li><li>å®½é•¿æ¯”ï¼š$W=\dfrac{W_r}{L_r}$ï¼ˆ$W_r$ä¸ºæœ€å°å¤–æ¥çŸ©å½¢çš„å®½åº¦ï¼Œ$L_r$ä¸ºæœ€å°å¤–æ¥çŸ©å½¢çš„é•¿åº¦ï¼‰</li><li>åœ†å½¢åº¦<ol><li>å‘¨é•¿å¹³æ–¹ä¸é¢ç§¯çš„æ¯”å€¼ï¼š$\dfrac{C^2}{A}$</li><li>é¢ç§¯ä¸å¹³å‡åŠå¾„çš„æ¯”å€¼ï¼š$\dfrac{A}{\bar{r}^2}$</li></ol></li><li>åå¿ƒç‡</li></ol><h2 id="02-3-å½¢çŠ¶æè¿°å­">02.3.å½¢çŠ¶æè¿°å­</h2><ul><li>å‚…é‡Œå¶æè¿°å­</li><li>è¾¹ç•Œé“¾ç </li><li>å¾®åˆ†é“¾ç </li></ul><h2 id="02-4-çŸ©æè¿°">02.4.çŸ©æè¿°</h2><h2 id="02-5-çº¹ç†åˆ†æï¼šç°åº¦å…±ç”ŸçŸ©é˜µ">02.5.çº¹ç†åˆ†æï¼šç°åº¦å…±ç”ŸçŸ©é˜µ</h2><p><img src="https://source.cclmsy.cc/Images/Posts/IP/IP13.png" alt=""></p><ul><li>æ•°ç»„åˆæ•°é‡</li></ul><h1>è€ƒè¯•é‡ç‚¹</h1><ul><li><a href="#32%E7%81%B0%E5%BA%A6%E7%9B%B4%E6%96%B9%E5%9B%BE">3.2 ç°åº¦ç›´æ–¹å›¾</a></li><li><a href="#42%E5%9F%BA%E4%BA%8E%E7%9B%B4%E6%96%B9%E5%9B%BE%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95">4.2 åŸºäºç›´æ–¹å›¾çš„å›¾åƒå¢å¼ºæ–¹æ³•</a><ul><li>ç›´æ–¹å›¾å‡è¡¡åŒ–</li></ul></li><li><a href="#43%E5%9F%BA%E4%BA%8E%E7%A9%BA%E9%97%B4%E5%B9%B3%E6%BB%91%E6%BB%A4%E6%B3%A2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95">4.3 åŸºäºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</a></li><li><a href="#44%E5%9F%BA%E4%BA%8E%E7%A9%BA%E9%97%B4%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA%E6%96%B9%E6%B3%95">4.4 åŸºäºç©ºé—´é”åŒ–æ»¤æ³¢çš„å›¾åƒå¢å¼ºæ–¹æ³•</a></li><li><a href="#51%E7%A6%BB%E6%95%A3%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2discrete-fourier-transformdft">5.1 2D-DFT</a><ul><li>2D-DFTçš„æ€§è´¨</li><li>å›¾åƒçš„å‚…é‡Œå¶é¢‘è°±å›¾ç‰¹æ€§åˆ†æ</li></ul></li><li><a href="#71%E7%A6%BB%E6%95%A3%E4%BD%99%E5%BC%A6%E5%8F%98%E6%8D%A2discrete-cosine-transformdct">7.1 DCT</a></li><li><a href="#73%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9%E7%BC%96%E7%A0%81">7.3 å›¾åƒå‹ç¼©ç¼–ç </a><ul><li>Huffmanç¼–ç </li></ul></li><li><a href="#74%E4%BD%8D%E5%B9%B3%E9%9D%A2%E7%BC%96%E7%A0%81">7.4 ä½å¹³é¢ç¼–ç </a></li><li><a href="#93%E5%9F%BA%E4%BA%8E%E9%98%88%E5%80%BC%E7%9A%84%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2%E6%96%B9%E6%B3%95">9.3 åŸºäºé˜ˆå€¼çš„å›¾åƒåˆ†å‰²</a></li><li><a href="#94%E5%9F%BA%E4%BA%8E%E5%8C%BA%E5%9F%9F%E7%9A%84%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2%E6%96%B9%E6%B3%95">9.5 åŸºäºåŒºåŸŸçš„å›¾åƒåˆ†å‰²</a></li><li><a href="#121%E4%BA%8C%E5%80%BC%E5%BD%A2%E6%80%81%E5%AD%A6%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97">12.2 äºŒå€¼å½¢æ€å­¦åŸºæœ¬è¿ç®—</a></li><li><a href="#122%E4%BA%8C%E5%80%BC%E5%9B%BE%E5%83%8F%E7%9A%84%E5%BD%A2%E6%80%81%E5%AD%A6%E5%A4%84%E7%90%86">12.2 äºŒå€¼å›¾åƒçš„å½¢æ€å­¦å¤„ç†</a></li></ul><h1>cv2/np</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">img = cv2.imread(filename, flag) <span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line"><span class="comment"># filename: str å›¾åƒæ–‡ä»¶å &quot;lenna.jpg&quot;</span></span><br><span class="line"><span class="comment"># flag: int cv2.IMREAD_COLORï¼ˆé»˜è®¤å½©è‰²ï¼‰ã€cv2.IMREAD_GRAYSCALEï¼ˆç°åº¦ï¼‰</span></span><br><span class="line">img[:,:,] <span class="comment"># è¡Œåˆ‡ç‰‡ã€åˆ—åˆ‡ç‰‡ã€é€šé“ï¼ˆBGRï¼‰</span></span><br><span class="line">b,g,r = cv2.split(img) <span class="comment"># åˆ†ç¦»é€šé“ </span></span><br><span class="line">img_rgb = cv2.merge([r,g,b]) <span class="comment"># åˆå¹¶é€šé“</span></span><br><span class="line">img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY) <span class="comment"># è½¬æ¢ä¸ºç°åº¦å›¾</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;image&quot;</span>, img) <span class="comment"># æ˜¾ç¤ºå›¾åƒ </span></span><br><span class="line">cv2.waitKey() <span class="comment"># ç­‰å¾…é”®ç›˜è¾“å…¥</span></span><br><span class="line">cv2.destroyAllWindows() <span class="comment"># å…³é—­æ‰€æœ‰çª—å£</span></span><br><span class="line"><span class="comment"># æ±‚åè‰²ï¼š255-åŸåƒç´ å€¼</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">400</span>,<span class="number">600</span>):</span><br><span class="line">      <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">400</span>,<span class="number">600</span>):</span><br><span class="line">         img[i,j] = [<span class="number">255</span>-img[i,j][<span class="number">0</span>],<span class="number">255</span>-img[i,j][<span class="number">1</span>],<span class="number">255</span>-img[i,j][<span class="number">2</span>]] </span><br><span class="line">img_cat = cv2.hconcat([r,g,b]) <span class="comment"># ä»å·¦åˆ°å³æ°´å¹³æ‹¼æ¥å›¾åƒ</span></span><br></pre></td></tr></table></figure><h1>plt</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">221</span>) <span class="comment"># 2è¡Œ2åˆ—ï¼Œç¬¬1ä¸ªå›¾</span></span><br><span class="line">plt.imshow(img) <span class="comment"># æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">plt.title(<span class="string">&#x27;Original&#x27;</span>) <span class="comment"># å›¾åƒæ ‡é¢˜</span></span><br><span class="line">plt.axis(<span class="string">&#x27;off&#x27;</span>) <span class="comment"># å…³é—­åæ ‡è½´</span></span><br><span class="line"></span><br><span class="line">hist = cv2.calcHist([img], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>//<span class="number">8</span>], [<span class="number">0</span>, <span class="number">256</span>]) </span><br><span class="line">plt.subplot(<span class="number">222</span>) <span class="comment"># 2è¡Œ2åˆ—ï¼Œç¬¬2ä¸ªå›¾</span></span><br><span class="line">plt.plot(hist) <span class="comment"># ç»˜åˆ¶histæŠ˜çº¿å›¾ï¼ˆåæ ‡0-31ï¼‰</span></span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">223</span>) <span class="comment"># 2è¡Œ2åˆ—ï¼Œç¬¬3ä¸ªå›¾</span></span><br><span class="line">plt.hist(img.ravel(), <span class="number">256</span>//<span class="number">8</span>, [<span class="number">0</span>, <span class="number">256</span>]) <span class="comment"># ç»˜åˆ¶binwidth=8çš„ç›´æ–¹å›¾ï¼ˆåæ ‡0-255ï¼‰</span></span><br><span class="line"><span class="comment"># img.ravel()ï¼šå°†å›¾åƒè½¬æ¢ä¸ºä¸€ç»´æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ä¸€é—¨å‡­å®åŠ›è®©æ•°å­—å›¾åƒæ›´ç³Šçš„å­¦ç§‘ï¼ˆé›¾ï¼‰</summary>
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://www.cclmsy.cc/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="ç¬”è®°" scheme="https://www.cclmsy.cc/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹ç¬”è®°</title>
    <link href="https://www.cclmsy.cc/posts/Note_Principle_of_Computer.html"/>
    <id>https://www.cclmsy.cc/posts/Note_Principle_of_Computer.html</id>
    <published>2024-06-15T18:55:00.000Z</published>
    <updated>2024-06-24T02:28:17.638Z</updated>
    
    <content type="html"><![CDATA[<h1>ä¸€ã€è®¡ç®—æœºç³»ç»Ÿæ¦‚è®º</h1><h2 id="1-1-è®¡ç®—æœºç³»ç»Ÿç®€ä»‹">1.1 è®¡ç®—æœºç³»ç»Ÿç®€ä»‹</h2><h3 id="1-1-1-è®¡ç®—æœºç³»ç»Ÿçš„ç»„æˆ">1.1.1 è®¡ç®—æœºç³»ç»Ÿçš„ç»„æˆ</h3><ol><li>è®¡ç®—æœºç”±<strong>ç¡¬ä»¶</strong>ä¸<strong>è½¯ä»¶</strong>ä¸¤éƒ¨åˆ†ç»„æˆ</li><li>è½¯ä»¶åˆ†ä¸º<strong>ç³»ç»Ÿè½¯ä»¶</strong>ä¸<strong>åº”ç”¨è½¯ä»¶</strong>ä¸¤å¤§ç±»<ul><li>ç³»ç»Ÿè½¯ä»¶ï¼šç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿ</li><li>åº”ç”¨è½¯ä»¶ï¼šæ ¹æ®ä»»åŠ¡éœ€è¦ç¼–åˆ¶çš„ç¨‹åº</li></ul></li></ol><h3 id="1-1-2-è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„">1.1.2 è®¡ç®—æœºç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„</h3><table><thead><tr><th>å±‚æ¬¡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åº”ç”¨å±‚</td><td>ç”¨æˆ·ç›´æ¥ä½¿ç”¨çš„è½¯ä»¶</td></tr><tr><td>é«˜çº§è¯­è¨€æœºå™¨$M_4$</td><td>é«˜çº§è¯­è¨€ç¼–è¯‘æˆæ±‡ç¼–è¯­è¨€</td></tr><tr><td>æ±‡ç¼–è¯­è¨€æœºå™¨$M_3$</td><td>æ±‡ç¼–è¯­è¨€æ±‡ç¼–æˆæœºå™¨è¯­è¨€</td></tr><tr><td>æ“ä½œç³»ç»Ÿæœºå™¨$M_2$</td><td>ç”¨æœºå™¨è¯­è¨€è§£é‡Šæ“ä½œç³»ç»Ÿ</td></tr><tr><td>æœºå™¨è¯­è¨€æœºå™¨$M_1$</td><td>ç”¨å¾®ç¨‹åºè§£é‡Šæœºå™¨æŒ‡ä»¤</td></tr><tr><td>å¾®ç¨‹åºæœºå™¨$M_0$</td><td>ç”¨ç¡¬ä»¶ç›´æ¥æ‰§è¡Œå¾®æŒ‡ä»¤</td></tr></tbody></table><p>è™šæ‹Ÿæœºå™¨ï¼š$M_4$ã€$M_3$ã€$M_2$ï¼›å®é™…æœºå™¨ï¼š$M_1$ï¼›å¾®ç¨‹åºæœºå™¨ï¼š$M_0$</p><ul><li>æœºå™¨è¯­è¨€ã€æ±‡ç¼–è¯­è¨€ã€é«˜çº§è¯­è¨€çš„åŒºåˆ«<ul><li>æœºå™¨è¯­è¨€æ˜¯ä¸€ç§ç”¨äºŒè¿›åˆ¶ä»£ç è¡¨ç¤ºçš„è®¡ç®—æœºè¯­è¨€ï¼Œæœºå™¨å¯ä»¥ç›´æ¥æ‰§è¡Œç”¨æœºå™¨è¯­è¨€ç¼–å†™çš„ç¨‹åºã€‚</li><li>æ±‡ç¼–è¯­è¨€æ˜¯ä¸€ç§ç”¨åŠ©è®°ç¬¦è¡¨ç¤ºçš„ä¸æœºå™¨è¯­è¨€ä¸€ä¸€å¯¹åº”çš„è¯­è¨€ï¼Œç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™çš„ç¨‹åºéœ€ç»è¿‡æ±‡ç¼–åæ‰èƒ½æ‰§è¡Œã€‚</li><li>é«˜çº§è¯­è¨€æ˜¯ä¸€ç§æ¥è¿‘äººç±»è‡ªç„¶è¯­è¨€çš„ä¸è®¡ç®—æœºç»“æ„æ— å…³çš„è¯­è¨€ï¼Œç”¨é«˜çº§è¯­è¨€ç¼–å†™çš„ç¨‹åºè¦ç»è¿‡è§£é‡Šå’Œç¼–è¯‘æ‰èƒ½æ‰§è¡Œã€‚</li></ul></li></ul><h2 id="1-2-è®¡ç®—æœºçš„åŸºæœ¬ç»„æˆ">1.2 è®¡ç®—æœºçš„åŸºæœ¬ç»„æˆ</h2><h3 id="1-2-1-å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹">1.2.1 å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹</h3><ol><li>æ ¸å¿ƒç‰¹å¾ï¼šå­˜å‚¨ç¨‹åºçš„å·¥ä½œæ–¹å¼</li><li>è®¡ç®—æœºç”±äº”å¤§åŠŸèƒ½éƒ¨ä»¶ç»„æˆï¼šè¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡<ul><li>è¿ç®—å™¨ï¼šå®Œæˆç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—</li><li>æ§åˆ¶å™¨ï¼šæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œ</li><li>å­˜å‚¨å™¨ï¼šå­˜æ”¾æŒ‡ä»¤å’Œæ•°æ®</li><li>è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼šä¸å¤–éƒ¨ç¯å¢ƒäº¤æ¢ä¿¡æ¯</li></ul></li><li>æŒ‡ä»¤å’Œæ•°æ®ç”¨äºŒè¿›åˆ¶ä»£ç è¡¨ç¤º<ul><li>åŸå› ï¼š<ol><li>äºŒè¿›åˆ¶ç¼–ç çš„è¿ç®—è§„åˆ™ç®€å•</li><li>åˆ¶é€ 2ä¸ªç¨³å®šçŠ¶æ€çš„ç‰©ç†å™¨ä»¶è¾ƒå®¹æ˜“</li><li>ä¾¿äºä½¿ç”¨é€»è¾‘ç”µè·¯å®ç°ç®—æœ¯è¿ç®—</li></ol></li></ul></li><li>å·¥ä½œåŸç†ï¼šå­˜å‚¨ç¨‹åºã€ç¨‹åºæ§åˆ¶<ul><li>å­˜å‚¨ç¨‹åºç¨‹åºæ§åˆ¶æ–¹å¼ï¼šäº‹å…ˆç¼–å†™ç¨‹åºï¼Œå†ç”±è®¡ç®—æœºæŠŠè¿™äº›ç¨‹åºå­˜å‚¨èµ·æ¥ï¼Œç„¶åè¿ç»­åœ°ã€å¿«é€Ÿåœ°æ‰§è¡Œç¨‹åºï¼Œä»è€Œå®Œæˆå„ç§è¿ç®—è¿‡ç¨‹ã€‚</li><li>æ ¹æ®å­˜å‚¨ç¨‹åºåŸç†ï¼Œè®¡ç®—æœºå…·æœ‰äº”å¤§åŠŸèƒ½ï¼šæ•°æ®ä¼ é€ã€æ•°æ®å­˜å‚¨ã€æ•°æ®å¤„ç†ã€æ“ä½œæ§åˆ¶ã€æ“ä½œåˆ¤æ–­</li></ul></li><li>åŸºæœ¬å·¥ä½œæ–¹å¼ï¼šæ§åˆ¶æµé©±åŠ¨æ–¹å¼</li><li>æŒ‡ä»¤å’Œæ•°æ®ä»¥åŒç­‰åœ°ä½å­˜æ”¾åœ¨å­˜å‚¨å™¨ä¸­ï¼Œå¯æŒ‰åœ°å€å¯»è®¿</li><li>æŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆ</li><li>ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒ</li></ol><h3 id="1-2-2-è®¡ç®—æœºçš„ç¡¬ä»¶æ¡†å›¾">1.2.2 è®¡ç®—æœºçš„ç¡¬ä»¶æ¡†å›¾</h3><p>æ”¹è¿›ï¼šä»¥å­˜å‚¨å™¨ä¸ºæ ¸å¿ƒ<br><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC02.png" alt="å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºç»“æ„VSä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒçš„ä½“ç³»ç»“æ„"><br>ï¼ˆå®çº¿ï¼šæ•°æ®ä¼ è¾“ï¼›è™šçº¿ï¼šæŒ‡ä»¤ä¼ è¾“ï¼‰<br><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC01.png" alt="å†¯Â·è¯ºä¾æ›¼ä½“ç³»ç»“æ„VSå“ˆå¼—ä½“ç³»ç»“æ„"></p><h2 id="1-3-è®¡ç®—æœºç¡¬ä»¶çš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡">1.3 è®¡ç®—æœºç¡¬ä»¶çš„ä¸»è¦æŠ€æœ¯æŒ‡æ ‡</h2><h3 id="1-3-1-å­—é•¿">1.3.1 å­—é•¿</h3><ul><li>æœºå™¨å­—é•¿ï¼šè®¡ç®—æœºä¸€æ¬¡èƒ½å¤„ç†çš„äºŒè¿›åˆ¶æ•°çš„ä½æ•°ï¼Œé€šå¸¸ä¸CPUçš„å¯„å­˜å™¨ä½æ•°æœ‰å…³ã€‚ç­‰äºALUä½æ•°ï¼Œç›´æ¥å½±å“æ•°æ®æ€»çº¿å’Œå­˜å‚¨å­—é•¿çš„ä½æ•°</li><li>æŒ‡ä»¤å­—é•¿ï¼šè®¡ç®—æœºæŒ‡ä»¤ä¸­äºŒè¿›åˆ¶ä»£ç çš„æ€»ä½æ•°ã€‚</li><li>å­˜å‚¨å­—é•¿ï¼šå­˜å‚¨å™¨çš„ä¸€ä¸ªå­˜å‚¨å•å…ƒä¸­èƒ½å­˜æ”¾çš„äºŒè¿›åˆ¶æ•°çš„ä½æ•°ã€‚</li><li>ä¸‰è€…å¯ä»¥ç›¸å½“ä¹Ÿå¯ä»¥ä¸ç­‰ï¼Œè§†ä¸åŒæœºå™¨è€Œå®šã€‚</li></ul><h3 id="1-3-2-å­˜å‚¨å®¹é‡">1.3.2 å­˜å‚¨å®¹é‡</h3><ul><li>å­˜å‚¨å®¹é‡ï¼šè®¡ç®—æœºå­˜å‚¨å™¨ä¸­èƒ½å­˜æ”¾çš„äºŒè¿›åˆ¶æ•°çš„ä½æ•°</li><li>å­˜å‚¨å®¹é‡ = ä¸»å­˜+è¾…å­˜ = å­˜å‚¨å•å…ƒæ•°Ã—å­˜å‚¨å­—é•¿ ï¼ˆ/8ï¼ˆå­—èŠ‚ï¼‰ï¼‰</li></ul><h3 id="1-3-3-å­˜å‚¨å™¨å¸¦å®½">1.3.3 å­˜å‚¨å™¨å¸¦å®½</h3><ul><li>å­˜å‚¨å™¨å¸¦å®½ï¼šå­˜å‚¨å™¨çš„æ•°æ®ä¼ è¾“é€Ÿç‡</li><li>å­˜å‚¨å™¨å¸¦å®½=å­˜å‚¨å­—æ•°/å­˜å‚¨å‘¨æœŸï¼ˆå­—/ç§’ï¼‰</li><li>å­˜å‚¨å­—é•¿ï¼ˆå­—é•¿ï¼‰ï¼šä¸€ä¸ªå­˜å‚¨å•å…ƒä¸­å­˜æ”¾çš„äºŒè¿›åˆ¶æ•°çš„ä½æ•°</li><li>å­—èŠ‚ï¼š8ä½äºŒè¿›åˆ¶æ•°</li></ul><h3 id="1-3-4-è¿ç®—é€Ÿåº¦">1.3.4 è¿ç®—é€Ÿåº¦</h3><ol><li>CPIï¼ˆCycle Per Instructionï¼‰ï¼šæ¯æ¡æŒ‡ä»¤çš„å¹³å‡æ—¶é’Ÿå‘¨æœŸæ•°<ul><li>$CPI = CPUæ—¶é’Ÿå‘¨æœŸæ•° \div æŒ‡ä»¤æ•°ï¼ˆåŠ æƒå¹³å‡ï¼‰$</li><li>æ³¨æ„å¹³å‡æŒ‡ä»¤å‘¨æœŸï¼ˆæ—¶é—´ï¼‰ä¸CPIï¼ˆæ—¶é’Ÿå‘¨æœŸæ•°ï¼‰çš„åŒºåˆ«</li></ul></li><li>MIPSï¼ˆMillion Instructions Per Secondï¼‰ï¼šæ¯ç§’æ‰§è¡Œçš„ç™¾ä¸‡æ¡æŒ‡ä»¤æ•°<ul><li>$MIPS = \dfrac{æŒ‡ä»¤æ¡æ•°N}{æ‰§è¡Œæ—¶é—´tÃ—10^6} = \dfrac{ä¸»é¢‘f}{CPI\times 10^6}$</li></ul></li><li>ä¸»é¢‘fï¼šCPUæ—¶é’Ÿé¢‘ç‡ï¼›æ—¶é’Ÿå‘¨æœŸTï¼šCPUæ—¶é’Ÿå‘¨æœŸ</li><li>æ‰§è¡Œæ—¶é—´tï¼šæ‰§è¡Œä¸€ç»„æŒ‡ä»¤æ‰€éœ€çš„æ—¶é—´<ul><li>$t = \dfrac{æŒ‡ä»¤æ¡æ•°N\times CPI}{ä¸»é¢‘f}$ = $\dfrac{æŒ‡ä»¤æ¡æ•°N}{MIPS\times 10^6}$</li></ul></li><li>æ¯ç§’æµ®ç‚¹è¿ç®—æ¬¡æ•°ï¼šFLOPSï¼ˆFloating Point Operations Per Secondï¼‰</li></ol><h1>äºŒã€è®¡ç®—æœºå‘å±•å²ï¼ˆäº†è§£ï¼‰</h1><h1>ä¸‰ã€ç³»ç»Ÿæ€»çº¿</h1><h2 id="3-1-æ€»çº¿çš„åŸºæœ¬æ¦‚å¿µ">3.1 æ€»çº¿çš„åŸºæœ¬æ¦‚å¿µ</h2><h3 id="3-1-1-æ€»çº¿çš„ä½œç”¨">3.1.1 æ€»çº¿çš„ä½œç”¨</h3><ul><li>æ€»çº¿ï¼šè¿æ¥å„ä¸ªéƒ¨ä»¶çš„ä¿¡æ¯ä¼ è¾“çº¿ï¼Œå„ä¸ªéƒ¨ä»¶å…±äº«çš„ä¼ è¾“ä»‹è´¨</li><li>æä¾›ä¿¡æ¯äº¤æ¢æ—¶æ‰€éœ€çš„æ•°æ®ã€åœ°å€ã€æ—¶åºå’Œæ§åˆ¶ä¿¡æ¯</li><li>æä¾›ä¸€ä¸ªå…±åŒéµå¾ªçš„åè®®æˆ–æ ‡å‡†</li></ul><h2 id="3-2-æ€»çº¿çš„åˆ†ç±»ï¼ˆæŒ‰è¿æ¥éƒ¨ä»¶ï¼‰">3.2 æ€»çº¿çš„åˆ†ç±»ï¼ˆæŒ‰è¿æ¥éƒ¨ä»¶ï¼‰</h2><ol><li>ç‰‡å†…æ€»çº¿ï¼šCPUå†…éƒ¨çš„æ€»çº¿</li><li>ç³»ç»Ÿæ€»çº¿ï¼šCPUä¸å…¶ä»–éƒ¨ä»¶ä¹‹é—´çš„æ€»çº¿<ul><li>æ ¹æ®ä¼ è¾“çš„ä¿¡æ¯åˆ’åˆ†ï¼šæ•°æ®æ€»çº¿ã€åœ°å€æ€»çº¿ã€æ§åˆ¶æ€»çº¿</li><li>æ•°æ®æ€»çº¿ï¼šåŒå‘ï¼Œä½æ•°ä¸æœºå™¨å­—é•¿ç›¸å…³</li><li>åœ°å€æ€»çº¿ï¼šå•å‘ï¼Œä½æ•°ä¸å­˜å‚¨å•å…ƒä¸ªæ•°ç›¸å…³</li><li>æ§åˆ¶æ€»çº¿ï¼šåŒå‘ï¼Œä¼ è¾“æ§åˆ¶ä¿¡æ¯</li></ul></li><li>é€šä¿¡æ€»çº¿ï¼šè¿æ¥è®¡ç®—æœºä¸å…¶å®ƒç³»ç»Ÿçš„æ€»çº¿</li></ol><h2 id="3-3-æ€»çº¿çš„ç‰¹æ€§ä¸æ€§èƒ½æŒ‡æ ‡">3.3 æ€»çº¿çš„ç‰¹æ€§ä¸æ€§èƒ½æŒ‡æ ‡</h2><h3 id="3-3-1-æ€»çº¿çš„ç‰¹æ€§">3.3.1 æ€»çº¿çš„ç‰¹æ€§</h3><ol><li>æœºæ¢°ç‰¹æ€§ï¼ˆç‰©ç†ç‰¹æ€§ï¼‰ï¼šæ€»çº¿çš„ç‰©ç†è¿æ¥æ–¹å¼ï¼ˆæ ¹æ•°ã€æ’å£å½¢çŠ¶ï¼‰</li><li>ç”µæ°”ç‰¹æ€§ï¼šä¼ è¾“æ–¹å‘ã€æœ‰æ•ˆç”µå¹³èŒƒå›´</li><li>åŠŸèƒ½ç‰¹æ€§ï¼šæ ¹æ®ä¼ è¾“çš„ä¿¡æ¯åˆ’åˆ†ï¼ˆæ•°æ®ã€åœ°å€ã€æ§åˆ¶ï¼‰</li><li>æ—¶é—´ç‰¹æ€§ï¼šåŒæ­¥ã€å¼‚æ­¥ã€åŠŸèƒ½å¤ç”¨</li></ol><h3 id="3-3-2-æ€»çº¿çš„æ€§èƒ½æŒ‡æ ‡">3.3.2 æ€»çº¿çš„æ€§èƒ½æŒ‡æ ‡</h3><ol><li>æ€»çº¿å®½åº¦ï¼šæ•°æ®æ€»çº¿çš„ä½æ•°</li><li>æ€»çº¿å¸¦å®½ï¼šå•ä½æ—¶é—´å†…ä¼ è¾“çš„æ•°æ®é‡ï¼ˆBpsï¼šå­—èŠ‚/ç§’ï¼‰</li><li>æ€»çº¿æ—¶é’Ÿé¢‘ç‡ï¼šæ€»çº¿çš„å·¥ä½œé¢‘ç‡</li><li>æ€»çº¿å¤ç”¨</li><li>ä¿¡å·çº¿æ•°é‡</li><li>æ€»çº¿æ§åˆ¶æ–¹å¼</li></ol><h2 id="3-4-æ€»çº¿ç»“æ„">3.4 æ€»çº¿ç»“æ„</h2><h3 id="3-4-1-æ€»çº¿äº‹åŠ¡">3.4.1 æ€»çº¿äº‹åŠ¡</h3><ol><li>æ€»çº¿äº‹åŠ¡ï¼šä»è¯·æ±‚æ€»çº¿åˆ°å®Œæˆæ€»çº¿ä½¿ç”¨çš„æ“ä½œåºåˆ—</li><li>å…¸å‹äº‹åŠ¡ï¼šå­˜å‚¨å™¨R/Wï¼ŒI/O-R/Wï¼Œä¸­æ–­è¯·æ±‚ï¼ŒDMAè¯·æ±‚</li><li>å…¸å‹äº‹åŠ¡æ“ä½œï¼šè¯·æ±‚ã€ä»²è£ã€åœ°å€ä¼ è¾“ã€æ•°æ®ä¼ è¾“ã€æ€»çº¿é‡Šæ”¾</li></ol><h3 id="3-4-2-å•æ€»çº¿ç»“æ„">3.4.2 å•æ€»çº¿ç»“æ„</h3><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC25.png" alt=""></p><ul><li>ç»“æ„ç®€å•ã€ä½¿ç”¨æ–¹ä¾¿ã€æ˜“æ‰©å……</li><li>ç»Ÿä¸€ç¼–å€ã€ç®€åŒ–æŒ‡ä»¤ç³»ç»Ÿã€å­˜å‚¨ç©ºé—´å‡å°‘</li><li>å…±äº«æ€»çº¿ã€åˆ†æ—¶ä½¿ç”¨ã€é€šè®¯é€Ÿåº¦æ…¢</li><li>é«˜é€Ÿè®¾å¤‡çš„é«˜é€Ÿæ€§èƒ½å¾—ä¸åˆ°å‘æŒ¥</li></ul><h3 id="3-4-3-åŒæ€»çº¿ç»“æ„1ï¼šå¢åŠ CPU-ä¸»å­˜çš„å­˜å‚¨æ€»çº¿">3.4.3 åŒæ€»çº¿ç»“æ„1ï¼šå¢åŠ CPU-ä¸»å­˜çš„å­˜å‚¨æ€»çº¿</h3><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC26.png" alt=""></p><ul><li>å­˜å‚¨æ€»çº¿æœ‰æ•ˆçš„é™ä½äº†ç³»ç»Ÿæ€»çº¿çš„è´Ÿè½½ï¼Œæé«˜äº†å¹¶è¡Œæ€§èƒ½</li><li>éœ€è¦å¢åŠ ä¸“é—¨çš„I/OæŒ‡ä»¤ï¼Œå­˜å‚¨ç©ºé—´å¢åŠ </li><li>ç»“æ„ç®€å•ã€æ˜“æ‰©å……</li></ul><h3 id="3-4-4-åŒæ€»çº¿ç»“æ„2ï¼šå¢åŠ I-Oæ€»çº¿">3.4.4 åŒæ€»çº¿ç»“æ„2ï¼šå¢åŠ I/Oæ€»çº¿</h3><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC27.png" alt=""></p><h3 id="3-4-5-ä¸‰æ€»çº¿ç»“æ„">3.4.5 ä¸‰æ€»çº¿ç»“æ„</h3><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC28.png" alt=""></p><ul><li>é«˜é€Ÿä¸ä½é€Ÿä¼ è¾“æ´»åŠ¨åˆ†ç¦»<ul><li>I/Oè®¾å¤‡ä¸ä¸»å­˜ä¹‹é—´çš„é€šä¿¡å’ŒCPUæ´»åŠ¨åˆ†ç¦»</li><li>é«˜é€Ÿè®¾å¤‡é è¿‘CPUï¼Œä½é€Ÿè®¾å¤‡è¿œç¦»CPU</li></ul></li><li>ä¸åŒå±‚æ¬¡çš„æ€»çº¿ä¹‹é—´é‡‡ç”¨æ¡¥æ¥æ–¹å¼è¿æ¥å’Œç¼“å†²</li></ul><h3 id="3-4-6-æ€»çº¿ç»“æ„ä¸è®¾å¤‡æ€§èƒ½ä¹‹é—´çš„å…³ç³»">3.4.6 æ€»çº¿ç»“æ„ä¸è®¾å¤‡æ€§èƒ½ä¹‹é—´çš„å…³ç³»</h3><ul><li>æœ€å¤§å­˜å‚¨å®¹é‡ï¼šå•æ€»çº¿ç³»ç»Ÿä¸­ï¼Œå†…å­˜è¦ä¸ºå¤–éƒ¨è®¾å¤‡é¢„ç•™åœ°å€</li><li>æŒ‡ä»¤ç³»ç»Ÿï¼šå•æ€»çº¿ç»“æ„æ— éœ€ä¸“é—¨çš„I/OæŒ‡ä»¤</li><li>ååç‡ï¼šä¸‰æ€»çº¿ç³»ç»Ÿæ¯”å•æ€»çº¿ç³»ç»Ÿå¤§å¾—å¤š</li></ul><h3 id="3-4-7-é‡‡ç”¨å—åŒ—æ¡¥ç»“æ„çš„å¥”è…¾æœºç³»ç»Ÿæ€»çº¿ç»“æ„">3.4.7 é‡‡ç”¨å—åŒ—æ¡¥ç»“æ„çš„å¥”è…¾æœºç³»ç»Ÿæ€»çº¿ç»“æ„</h3><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC29.png" alt="å—åŒ—æ¡¥ç»“æ„"></p><ul><li>åŒ—æ¡¥é è¿‘CPUï¼Œè¿æ¥é«˜é€Ÿè®¾å¤‡ï¼šä¸»å­˜ã€å›¾å½¢è®¾å¤‡ã€CPU</li><li>å—æ¡¥è¿æ¥ä½é€Ÿè®¾å¤‡ï¼šI/Oè®¾å¤‡ã€ç¡¬ç›˜ã€USBã€ç½‘å¡</li><li>å—åŒ—æ¡¥ä¹‹é—´é€šè¿‡PCIæ€»çº¿è¿æ¥</li></ul><h2 id="3-5-æ€»çº¿æ§åˆ¶">3.5 æ€»çº¿æ§åˆ¶</h2><h3 id="3-5-1-ä¿¡æ¯ä¼ é€æ–¹å¼">3.5.1 ä¿¡æ¯ä¼ é€æ–¹å¼</h3><ol><li>ä¸²è¡Œä¼ é€<ul><li>ä½ä¿¡æ¯ä»ä½åˆ°é«˜åœ¨ä¸€æ¡ä¼ è¾“çº¿ä¸Šé€ä½ä»¥è„‰å†²æ–¹å¼ä¼ é€</li><li>æˆæœ¬ä½ã€é€Ÿåº¦æ…¢ã€ä¼ è¾“è·ç¦»è¿œ</li></ul></li><li>å¹¶è¡Œä¼ é€<ul><li>æ¯ä½ä¸€æ¡æ•°æ®çº¿ï¼ŒåŒæ—¶ä¼ é€å¤šä½ä¿¡æ¯</li><li>é€Ÿåº¦å¿«ã€ä¼ è¾“è·ç¦»çŸ­</li></ul></li><li>åˆ†æ—¶ä¼ é€<ul><li>é‡‡ç”¨æ€»çº¿å¤ç”¨æŠ€æœ¯ï¼Œåœ°å€æ•°æ®å…±ç”¨</li><li>åˆ†æ—¶ä½¿ç”¨æ€»çº¿</li></ul></li></ol><h3 id="3-5-2-æ€»çº¿åˆ¤ä¼˜æ§åˆ¶ï¼ˆæ€»çº¿ä»²è£ï¼‰">3.5.2 æ€»çº¿åˆ¤ä¼˜æ§åˆ¶ï¼ˆæ€»çº¿ä»²è£ï¼‰</h3><ul><li>æ€»çº¿ä»²è£ï¼šå¤šä¸ªè®¾å¤‡åŒæ—¶è¯·æ±‚æ€»çº¿æ—¶ï¼Œç”±æ€»çº¿æ§åˆ¶å™¨åˆ¤å®šå“ªä¸ªè®¾å¤‡ä¼˜å…ˆä½¿ç”¨æ€»çº¿</li><li>æ ¹æ®æ€»çº¿æ§åˆ¶éƒ¨ä»¶çš„ä½ç½®ï¼Œä»²è£æ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼šé›†ä¸­å¼ã€åˆ†å¸ƒå¼</li></ul><table><thead><tr><th>é›†ä¸­å¼ä»²è£</th><th>é“¾å¼æŸ¥è¯¢æ–¹å¼</th><th>è®¡æ•°å™¨å®šæ—¶æŸ¥è¯¢æ–¹å¼</th><th>ç‹¬ç«‹è¯·æ±‚æ–¹å¼</th></tr></thead><tbody><tr><td>æ§åˆ¶çº¿</td><td>3æ ¹ï¼šæ€»çº¿çŠ¶æ€BSï¼Œæ€»çº¿è¯·æ±‚BRï¼Œæ€»çº¿æˆæƒBG</td><td>$2+log_2n$æ ¹ï¼šæ€»çº¿çŠ¶æ€BSï¼Œæ€»çº¿è¯·æ±‚BRï¼Œåœ°å€è®¡æ•°çº¿ï¼ˆ$log_2n$æ ¹ï¼‰</td><td>$2n$æ ¹ï¼šæ€»çº¿è¯·æ±‚BRï¼ˆ$n$æ ¹ï¼‰ï¼Œæ€»çº¿æˆæƒBGï¼ˆ$n$æ ¹ï¼‰</td></tr><tr><td>å“åº”é€Ÿåº¦</td><td>æ…¢</td><td>æ…¢</td><td>å¿«</td></tr><tr><td>ä¼˜å…ˆçº§</td><td>å›ºå®š</td><td>å¯é€‚å½“å˜åŒ–</td><td>å¯çµæ´»è°ƒæ•´</td></tr><tr><td>æ•…éšœæ•æ„Ÿæ€§</td><td>æ•æ„Ÿ</td><td>ä¸æ•æ„Ÿ</td><td>ä¸æ•æ„Ÿ</td></tr><tr><td>æ‰©å±•æ€§</td><td>å®¹æ˜“</td><td>å›°éš¾</td><td>å®¹æ˜“</td></tr></tbody></table><h3 id="3-5-3-æ€»çº¿å®šæ—¶">3.5.3 æ€»çº¿å®šæ—¶</h3><ul><li>æ€»çº¿å®šæ—¶ä¸»è¦è§£å†³é€šä¿¡åŒæ–¹å¦‚ä½•è·çŸ¥ä¼ è¾“å¼€å§‹å’Œä¼ è¾“ç»“æŸï¼Œé€šä¿¡åŒæ–¹å¦‚ä½•é…åˆçš„é—®é¢˜</li><li>åŒæ­¥æ–¹å¼ï¼šç”¨å…¬å…±æ—¶é’Ÿä¿¡å·å¯¹ä¼ è¾“è¿‡ç¨‹çš„æ¯ä¸€æ­¥è¿›è¡Œæ§åˆ¶ï¼Œé€‚åˆå¿«é€Ÿè®¾å¤‡<ul><li>æ— åº”ç­”æ–¹å¼</li><li>äº‹ä»¶æ—¶åˆ»ç”±æ€»çº¿æ—¶é’Ÿä¿¡å·å†³å®šï¼Œé‡‡ç”¨å…¬å…±æ—¶é’Ÿï¼Œæ•°æ®ä¼ è¾“ç‡é«˜</li><li>æœ¨æ¡¶æ•ˆåº”ï¼šå¿…é¡»æŒ‰ç…§æœ€æ…¢çš„è®¾å¤‡å®šæ—¶</li></ul></li><li>å¼‚æ­¥æ–¹å¼ï¼šç”¨åº”ç­”ä¿¡å·å¯¹ä¼ è¾“è¿‡ç¨‹è¿›è¡Œæ§åˆ¶ã€‚åˆåˆ†ä¸ºéäº’é”ã€åŠäº’é”å’Œå…¨äº’é”ï¼›é€‚åˆæ…¢é€Ÿè®¾å¤‡<ul><li>ä¸äº’é”<ul><li>ä¸»æ¨¡å—ï¼šå‘å‡ºè¯·æ±‚ä¸€æ®µæ—¶é—´ï¼Œè®¤ä¸ºå‰¯æ¨¡å—æ”¶åˆ°è¯·æ±‚ï¼Œæ’¤é”€è¯·æ±‚å¹¶é€šä¿¡</li></ul></li><li>åŠäº’é”<ul><li>ä¸»æ¨¡å—ï¼šå‘å‡ºè¯·æ±‚ï¼Œæ”¶åˆ°å‰¯æ¨¡å—åº”ç­”åæ’¤é”€è¯·æ±‚å¹¶é€šä¿¡</li><li>å‰¯æ¨¡å—ï¼šæ”¶åˆ°è¯·æ±‚ååº”ç­”ä¸€æ®µæ—¶é—´ï¼Œè®¤ä¸ºä¸»æ¨¡å—æ”¶åˆ°åº”ç­”ï¼Œæ’¤é”€åº”ç­”å¹¶é€šä¿¡</li></ul></li><li>å…¨äº’é”<ul><li>ä¸»æ¨¡å—ï¼šå‘å‡ºè¯·æ±‚ï¼Œæ”¶åˆ°å‰¯æ¨¡å—åº”ç­”åæ’¤é”€è¯·æ±‚å¹¶é€šä¿¡</li><li>å‰¯æ¨¡å—ï¼šæ”¶åˆ°è¯·æ±‚ååº”ç­”ï¼Œæ”¶åˆ°ä¸»æ¨¡å—æ’¤é”€è¯·æ±‚åæ’¤é”€åº”ç­”å¹¶é€šä¿¡</li></ul></li></ul></li><li>åŠåŒæ­¥æ–¹å¼ï¼šç»“åˆåŒæ­¥æ–¹å¼å’Œå¼‚æ­¥æ–¹å¼çš„ç‰¹ç‚¹ï¼Œåœ¨åŒæ­¥æ—¶é’Ÿçš„æ§åˆ¶ä¸‹è¿›è¡Œé‡‡æ ·å’Œåº”ç­”</li><li>åˆ†ç¦»å¼é€šä¿¡</li></ul><h2 id="3-5-4-æ€»çº¿é€šè®¯æ§åˆ¶-æ€»çº¿ä¼ è¾“è¿‡ç¨‹">3.5.4 æ€»çº¿é€šè®¯æ§åˆ¶/æ€»çº¿ä¼ è¾“è¿‡ç¨‹</h2><ol><li>æ€»çº¿ç”³è¯·ï¼ˆæ€»çº¿ä»²è£ï¼‰ï¼šéƒ¨ä»¶æå‡ºè¯·æ±‚ï¼Œæ€»çº¿æ§åˆ¶å™¨ç¡®å®šå°†ä¸‹ä¸€ä¸ªæ€»çº¿ä½¿ç”¨æƒåˆ†é…ç»™è°</li><li>åœ°å€é˜¶æ®µï¼ˆæ€»çº¿å¯»å€ï¼‰ï¼šä¸»è®¾å¤‡é€šè¿‡æ€»çº¿å‘å‡ºä»éƒ¨ä»¶çš„å­˜å‚¨å™¨åœ°å€æˆ–I/Oç«¯å£åœ°å€åŠç›¸å…³å‘½ä»¤ï¼Œå¯åŠ¨ä»è®¾å¤‡</li><li>æ•°æ®ä¼ è¾“é˜¶æ®µ</li><li>ç»“æŸé˜¶æ®µï¼šä¸»éƒ¨ä»¶æ’¤æ¶ˆæ€»çº¿è¯·æ±‚ç­‰æœ‰å…³ä¿¡æ¯ï¼Œæ€»çº¿æ§åˆ¶å™¨é‡Šæ”¾æ€»çº¿</li></ol><h2 id="3-6-ä¾‹é¢˜">3.6 ä¾‹é¢˜</h2><ol><li>å‡å®šæŸæ€»çº¿çš„æ—¶é’Ÿå‘¨æœŸä¸º50ns,æ¯æ¬¡æ€»çº¿ä¼ è¾“éœ€è¦1ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œæ€»çº¿å®½åº¦ä¸º32ä½ï¼Œå­˜å‚¨å™¨çš„å­˜å‚¨å‘¨æœŸä¸º300ns,æ±‚åŒæ­¥æ–¹å¼ä¸‹ä»è¯¥å­˜å‚¨å™¨ä¸­è¯»ä¸€ä¸ªå­—æ—¶æ€»çº¿çš„æ•°æ®ä¼ è¾“ç‡ä¸ºå¤šå°‘?<ul><li>åŒæ­¥æ–¹å¼ä¸‹æŒ‰é¡ºåºè¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š<ol><li>é€åœ°å€å’Œè¯»å‘½ä»¤ï¼š1ä¸ªæ€»çº¿å‘¨æœŸ = 50ns</li><li>å­˜å‚¨å™¨è¯»æ•°æ®ï¼š300ns</li><li>æ€»çº¿ä¼ è¾“æ•°æ®ï¼š1ä¸ªæ€»çº¿å‘¨æœŸ = 50ns</li></ol></li><li>ä¸€ä¸ªå­—çš„æ€»æ—¶é—´ï¼š$50+300+50=400ns$</li><li>æ•°æ®ä¼ è¾“ç‡ï¼š$32bit/8/400ns=10MBps$</li></ul></li><li>ç³»ç»Ÿæ€»çº¿ä¼ è¾“çš„ä¿¡æ¯ç±»å‹ä¸ºï¼šæ•°æ®ã€åœ°å€ã€æ§åˆ¶ä¿¡å·<ul><li>æ¡æ‰‹åº”ç­”ä¿¡å·æ˜¯é€šä¿¡æ€»çº¿ä¼ è¾“çš„ä¿¡æ¯ç±»å‹ï¼</li></ul></li><li>æé«˜åŒæ­¥æ€»çº¿æ•°æ®ä¼ è¾“é€Ÿç‡çš„æ–¹æ³•<ol><li>å¢åŠ æ€»çº¿å®½åº¦</li><li>å¢åŠ æ€»çº¿æ—¶é’Ÿé¢‘ç‡</li><li>æ”¯æŒçªå‘ä¼ è¾“</li></ol><ul><li>åœ°å€/æ•°æ®çº¿å¤ç”¨ä¸èƒ½æé«˜æ•°æ®ä¼ è¾“é€Ÿç‡</li></ul></li><li>ä¸»å­˜é€šè¿‡<strong>æ€»çº¿ç±»å‹</strong>è¯†åˆ«åœ°å€å’Œæ•°æ®</li></ol><h1>å››ã€å­˜å‚¨å™¨</h1><h2 id="4-1-æ¦‚è¿°">4.1 æ¦‚è¿°</h2><h3 id="4-1-1-å­˜å‚¨å™¨çš„åˆ†ç±»">4.1.1 å­˜å‚¨å™¨çš„åˆ†ç±»</h3><ol><li>æŒ‰å­˜å‚¨ä»‹è´¨åˆ†ç±»<ul><li>åŠå¯¼ä½“å­˜å‚¨å™¨ï¼ˆæ˜“å¤±æ€§ï¼šæ–­ç”µå³å¤±ï¼‰<ul><li>TTLï¼šé«˜é€Ÿ</li><li>MOSï¼šé«˜é›†æˆåº¦ã€ä½åŠŸè€—ã€ä½æˆæœ¬ã€åº”ç”¨å¹¿æ³›</li></ul></li><li>ç£è¡¨é¢å­˜å‚¨å™¨ï¼šç£å¤´+ç£è½½ä½“</li><li>ç£èŠ¯å­˜å‚¨å™¨ï¼šä½“ç§¯å¤§ã€åŠŸè€—å¤§ã€å·¥è‰ºå¤æ‚</li><li>æ¿€å…‰å­˜å‚¨å™¨ï¼šCDã€DVD</li></ul></li><li>æŒ‰å­˜å–æ–¹å¼åˆ†ç±»<ul><li>ç‰©ç†åœ°å€å’Œå­˜å–æ—¶é—´æ— å…³ï¼ˆéšæœºè®¿é—®ï¼‰<ul><li>éšæœºå­˜å‚¨å™¨ï¼ˆRAMï¼‰ å¯è¯»å¯å†™<ul><li>SRAMï¼ˆé™æ€RAMï¼‰ï¼šé€Ÿåº¦å¿«ã€ä»·æ ¼é«˜ã€é›†æˆåº¦ä½</li><li>DRAMï¼ˆåŠ¨æ€RAMï¼‰ï¼šé€Ÿåº¦æ…¢ã€ä»·æ ¼ä½ã€é›†æˆåº¦é«˜</li></ul></li><li>åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰<ul><li>Mï¼šMaskedï¼ˆæ©æ¨¡ï¼‰ï¼›Pï¼šProgrammableï¼ˆå¯ç¼–ç¨‹ï¼‰ï¼›Eï¼šErasableï¼ˆå¯æ“¦å†™ï¼‰ï¼›EEï¼šElectrically-Erasableï¼ˆç”µå¯æ“¦å†™ï¼‰</li></ul></li></ul></li><li>ç‰©ç†åœ°å€å’Œå­˜å–æ—¶é—´æœ‰å…³ï¼ˆä¸²è¡Œè®¿é—®ï¼‰<ul><li>é¡ºåºå­˜å‚¨å™¨ï¼šç£å¸¦</li><li>ç›´æ¥å­˜å‚¨å™¨ï¼šç£ç›˜</li></ul></li></ul></li><li>æŒ‰åœ¨è®¡ç®—æœºä¸­çš„ä½œç”¨åˆ†ç±»<ul><li>$<br>å­˜å‚¨å™¨\begin{cases}<br>ä¸»å­˜\begin{cases}<br>éšæœºå­˜å‚¨å™¨ï¼ˆRAMï¼‰\begin{cases}<br>SRAM \\<br>DRAM<br>\end{cases} \\<br>åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰\begin{cases}<br>MROM\\<br>PROM\\<br>EPROM\\<br>EEPROM<br>\end{cases}<br>\end{cases}\\<br>é—ªé€Ÿå­˜å‚¨å™¨ï¼ˆFlash Memoryï¼‰\\<br>è¾…åŠ©å­˜å‚¨å™¨\begin{cases}<br>ç£ç›˜\\<br>ç£å¸¦\\<br>å…‰ç›˜<br>\end{cases}\\<br>ç¼“å­˜ï¼ˆCacheï¼‰<br>\end{cases}<br>$</li></ul></li></ol><h3 id="4-1-2-å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„">4.1.2 å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„</h3><ol><li>å­˜å‚¨ç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ï¼ˆè‡ªä¸Šåˆ°ä¸‹ä»å†…åˆ°å¤–ï¼‰ <figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CPUå¯„å­˜å™¨</span><br><span class="line">ç¼“å­˜<span class="keyword">Cache</span>ï¼ˆSRAMï¼‰ï¼ˆå†…å­˜ï¼‰</span><br><span class="line">ä¸»å­˜å‚¨å™¨ï¼ˆDRAMï¼‰ ï¼ˆå†…å­˜ï¼‰</span><br><span class="line">ç£ç›˜ ï¼ˆè¾…åŠ©å­˜å‚¨å™¨ï¼‰</span><br><span class="line">ç£å¸¦ã€å…‰ç›˜ ï¼ˆè¾…åŠ©å­˜å‚¨å™¨ï¼‰</span><br></pre></td></tr></table></figure></li><li>å­˜å‚¨å™¨çš„ä¸»è¦ç‰¹æ€§ï¼ˆè‡ªä¸Šåˆ°ä¸‹ï¼‰</li></ol><ul><li>é€Ÿåº¦ï¼šå¿« -&gt; æ…¢<ul><li>å­˜å‚¨æ—¶é—´ã€å­˜å–å‘¨æœŸã€å­˜å‚¨å¸¦å®½</li></ul></li><li>å®¹é‡ï¼šå° -&gt; å¤§</li><li>ä»·æ ¼ï¼šè´µ -&gt; ä¾¿å®œ</li></ul><ol start="3"><li>å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„çš„ä½œç”¨</li></ol><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC03.png" alt="å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„"></li><li>ç¼“å­˜-ä¸»å­˜å±‚æ¬¡ï¼šè§£å†³CPUä¸ä¸»å­˜ä¹‹é—´é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜<ul><li>é€æ˜ï¼šå¯¹ç³»ç»Ÿç¨‹åºå‘˜å’Œåº”ç”¨ç¨‹åºå‘˜å±è”½</li><li>ä¸»å­˜å‚¨å™¨ã€å®åœ°å€ã€ç‰©ç†åœ°å€</li></ul></li><li>ä¸»å­˜-è¾…å­˜å±‚æ¬¡ï¼šè§£å†³å­˜å‚¨ç³»ç»Ÿçš„å®¹é‡é—®é¢˜<ul><li>ä¸é€æ˜ï¼šç³»ç»Ÿç¨‹åºå‘˜å¯ä»¥å¯¹æ­¤å±‚æ¬¡è¿›è¡Œä¿®æ”¹</li><li>è™šæ‹Ÿå­˜å‚¨å™¨ã€è™šåœ°å€ã€é€»è¾‘åœ°å€</li></ul></li></ul><ol start="4"><li>å­˜å‚¨ç³»ç»Ÿä¸ºä»€ä¹ˆé‡‡ç”¨åˆ†å±‚ä½“ç³»ç»“æ„ï¼Ÿ<ul><li>é‡‡ç”¨å±‚æ¬¡åŒ–å­˜å‚¨ä½“ç³»çš„ç›®çš„åŒ…æ‹¬ä¸¤æ–¹é¢ï¼šå…¶ä¸€æ˜¯è§£å†³å¿«é€Ÿçš„CPUå’Œæ…¢é€Ÿçš„ä¸»å­˜ä¹‹é—´çš„é€Ÿåº¦å·®å¼‚ï¼›å…¶äºŒæ˜¯è§£å†³ä¸»å­˜å®¹é‡ä¸å¤Ÿå¤§çš„é—®é¢˜ã€‚å­˜å‚¨ç³»ç»Ÿçš„åˆ†çº§ç»“æ„ç”±Cacheã€ä¸»å­˜å’Œè¾…åŠ©å­˜å‚¨å™¨ä¸‰çº§ç»“æ„æ„æˆã€‚å…¶ç†è®ºåŸºç¡€æ˜¯æ—¶é—´å±€éƒ¨æ€§åŸç†å’Œç©ºé—´å±€éƒ¨æ€§åŸç†ï¼ŒCacheâ€”ä¸»å­˜å­˜å‚¨å±‚æ¬¡è§£å†³äº†ä¸»å­˜é€Ÿåº¦ä¸å¿«çš„é—®é¢˜ï¼›è€Œä¸»å­˜-è¾…å­˜å­˜å‚¨å±‚æ¬¡è§£å†³äº†ä¸»å­˜å®¹é‡ä¸è¶³çš„é—®é¢˜ã€‚</li></ul></li></ol><h2 id="4-2-ä¸»å­˜å‚¨å™¨">4.2 ä¸»å­˜å‚¨å™¨</h2><h3 id="4-2-1-æ¦‚è¿°">4.2.1 æ¦‚è¿°</h3><ol><li>ä¸»å­˜çš„åŸºæœ¬ç»„æˆ<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC05.png" alt=""></li><li>å­˜å‚¨ä½“ï¼šå­˜å‚¨æ•°æ®</li><li>MARï¼šå­˜å‚¨å™¨åœ°å€å¯„å­˜å™¨ï¼Œä¿å­˜è¦è®¿é—®çš„å­˜å‚¨å•å…ƒåœ°å€<ul><li>ç»è¿‡è¯‘ç å™¨è¿›è¡Œè¯‘ç ï¼Œé€‰å®šå­˜å‚¨å•å…ƒ</li></ul></li><li>MDRï¼šå­˜å‚¨å™¨æ•°æ®å¯„å­˜å™¨ï¼Œå­˜å‚¨è¦å†™å…¥æˆ–è¯»å‡ºçš„æ•°æ®<ul><li>é€šè¿‡è¯»å†™ç”µè·¯å’Œæ§åˆ¶ç”µè·¯æ§åˆ¶æ•°æ®çš„è¯»å†™</li></ul></li></ul></li><li>ä¸»å­˜ä¸­å­˜å‚¨å•ä½åœ°å€åˆ†é…æ–¹å¼<ul><li>å­åœ°å€+å­—èŠ‚åœ°å€</li><li>å¤§ç«¯å­˜å‚¨ï¼ˆå¤§å°¾å­˜å‚¨ï¼‰ï¼š<code>0x12345678</code>å­˜å‚¨ä¸º<code>12 34 56 78</code></li><li>å°ç«¯å­˜å‚¨ï¼ˆå°å°¾å­˜å‚¨ï¼‰ï¼š<code>0x12345678</code>å­˜å‚¨ä¸º<code>78 56 34 12</code></li><li>ï¼ˆå°æ ¼ä¸­é¡ºåºæ­£å¸¸ï¼Œå¤§æ ¼ä¸­é¡ºåºé¢ å€’ï¼‰ å°ç«¯å­˜å‚¨ä¾‹ï¼šx86</li><li>næ ¹åœ°å€çº¿å¯æŒ‰å­—èŠ‚å¯»å€$2^n$ä¸ªå­—èŠ‚ï¼ˆæŒ‰å­—å¯»å€æŒ‰æ¯”ä¾‹è®¡ç®—ï¼‰</li></ul></li><li>ä¸»å­˜ä¸­çš„æ•°æ®ç»„ç»‡å’Œè¾¹ç•Œå¯¹é½</li></ol><ul><li>å¯„å·§ï¼šæ¯ç§æ•°æ®ç±»å‹çš„æ•°æ®å­˜å‚¨åœ¨å­˜å‚¨å™¨ä¸­çš„<strong>èµ·å§‹åœ°å€</strong>å¿…é¡»æ˜¯è¯¥æ•°æ®æ‰€å å­—èŠ‚æ•°çš„<strong>æ•´æ•°å€</strong></li></ul><ol><li>ä¸»å­˜å‚¨å™¨çš„æŠ€æœ¯æŒ‡æ ‡<ol><li>å­—é•¿ï¼šä¸€ä¸ªå­˜å‚¨å•å…ƒå­˜æ”¾çš„äºŒè¿›åˆ¶æ•°çš„ä½æ•°</li><li>å­˜å‚¨å®¹é‡ï¼šå­˜å‚¨å™¨ä¸­èƒ½å­˜æ”¾çš„äºŒè¿›åˆ¶æ•°çš„æ€»ä½æ•°</li></ol><ul><li>å­˜å‚¨å®¹é‡=å­˜å‚¨å•å…ƒæ•°Ã—å­˜å‚¨å­—é•¿ï¼ˆä½ï¼‰/8ï¼ˆå­—èŠ‚ï¼‰</li></ul><ol start="3"><li>å­˜å‚¨é€Ÿåº¦ï¼šç”±å­˜å–å‘¨æœŸè¡¨ç¤º</li></ol><ul><li>å­˜å–å‘¨æœŸï¼šè¿ç»­2æ¬¡å­˜å–æ‰€éœ€çš„æœ€å°æ—¶é—´é—´éš”</li><li>åˆ†ä¸ºè¯»å‘¨æœŸå’Œå†™å‘¨æœŸ</li></ul><ol start="4"><li>å­˜å‚¨å™¨å¸¦å®½=å­˜å‚¨å­—æ•°/å­˜å‚¨å‘¨æœŸï¼ˆå­—/ç§’ï¼‰=(å­˜å‚¨å­—æ•°*å­˜å‚¨å­—é•¿)/8/å­˜å‚¨å‘¨æœŸï¼ˆå­—èŠ‚/ç§’ï¼‰</li></ol></li></ol><h3 id="4-2-2-åŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡">4.2.2 åŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡</h3><ol><li>åŸºæœ¬ç»“æ„ä¸èŠ¯ç‰‡å®¹é‡<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC13.png" alt="åŠå¯¼ä½“å­˜å‚¨èŠ¯ç‰‡"></li><li>ä¾‹ï¼šåœ°å€çº¿10ä½ï¼›æ•°æ®çº¿8ä½</li><li>å­˜å‚¨å•å…ƒï¼š$2^{10}$ä¸ªï¼›å­˜å‚¨å­—é•¿ï¼š8ä½ï¼›èŠ¯ç‰‡å®¹é‡ï¼š$2^{10}\times 8=1K*8ä½=8Kbit=1KB$</li><li>ç‰‡é€‰çº¿CS/CEï¼šé€‰æ‹©èŠ¯ç‰‡Chip Select/Enable</li><li>è¯»å†™æ§åˆ¶çº¿WE/OEï¼šè¯»å†™æ§åˆ¶Write/Output Enable</li></ul></li><li>è¯‘ç é©±åŠ¨æ–¹å¼<ul><li>å•è¯‘ç ç»“æ„ï¼š$n$ä½åœ°å€è¾“å…¥ï¼Œç»$n$ä½è¯‘ç å™¨è¯‘ç ï¼ŒæŒ‡å‘$2^n$ä¸ªå­˜å‚¨å•å…ƒ</li><li>åŒè¯‘ç ç»“æ„ï¼šå°†å­˜å‚¨èŠ¯ç‰‡é˜µåˆ—ï¼Œåˆ†ä¸ºè¡Œè¯‘ç å’Œåˆ—è¯‘ç ï¼ŒæŒ‡å‘$2^{2n}$ä¸ªå­˜å‚¨å•å…ƒ<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC04.png" alt="é™æ€å­˜å‚¨å™¨èŠ¯ç‰‡ç»“æ„"></li><li>åœ°å€è¯‘ç å™¨ï¼šå°†äºŒè¿›åˆ¶åœ°å€è¯‘ç ä¸ºå­˜å‚¨å•å…ƒçš„ç‰©ç†åœ°å€ï¼ˆç±»æ¯”3-8çº¿è¯‘ç å™¨ï¼‰</li><li>Yå‘é©±åŠ¨å™¨ï¼šå°†åœ°å€è¯‘ç åçš„åˆ—åœ°å€é€åˆ°å­˜å‚¨çŸ©é˜µçš„åˆ—é€‰æ‹©çº¿</li></ul></li></ul></li></ol><h3 id="4-2-3-éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰">4.2.3 éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰</h3><ol><li>SRAMï¼ˆé™æ€RAMï¼‰<ol><li>å­˜å‚¨åŸç†ï¼šè§¦å‘å™¨<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC06.png" alt="SRAMå­˜å‚¨å•å…ƒ"></li><li>ä¸­å¿ƒä¸GNDç›¸è¿çš„T1, T2ï¼šå­˜å‚¨æ•°æ®</li><li>ä¸­å¿ƒä¸VCCç›¸è¿çš„T3, T4ï¼šè¡¥å……ç”µè·</li><li>å¤–ä¾§çš„T5-T8ï¼šT5ã€T6è¡Œé€‰ï¼ŒT7ã€T8åˆ—é€‰</li></ul></li><li>SRAMèŠ¯ç‰‡ï¼ˆä»¥Intel 2114ä¸ºä¾‹ï¼‰<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC14.png" alt="SRAMèŠ¯ç‰‡"></li><li>åœ°å€çº¿ï¼š$A_{9-0}$ï¼Œåœ°å€æ•°=$2^{10}$ä¸ª</li><li>æ•°æ®çº¿ï¼š$I/O_{3-0}$ï¼Œæ•°æ®ä½æ•°=$4$ä½</li><li>èŠ¯ç‰‡å­˜å‚¨å®¹é‡=$2^{10}\times 4bit=1K\times 4bit$</li></ul></li><li>SRAMçš„ä¸è¶³<ul><li>æ™¶ä½“ç®¡æ•°é‡å¤šï¼Œé›†æˆåº¦ä½ï¼ŒåŠŸè€—å¤§</li></ul></li></ol></li><li>DRAMï¼ˆåŠ¨æ€RAMï¼‰<ol><li>åˆ†å•ç®¡å¼å’Œä¸‰ç®¡å¼ï¼Œå­˜å‚¨åŸç†ï¼šç”µå®¹</li><li>DRAMçš„ä¼˜ç‚¹</li></ol><ul><li>å­˜å‚¨å¯†åº¦é«˜ï¼Œé›†æˆåº¦é«˜ï¼ŒåŠŸè€—ä½</li><li>é€Ÿåº¦æ…¢ï¼Œéœ€è¦åˆ·æ–°</li></ul><ol start="3"><li>DRAMåˆ·æ–°<ol><li>åˆ·æ–°ï¼šDRAMå­˜å‚¨å•å…ƒä¸­çš„ç”µè·ä¼šé€æ¸æ³„æ¼ï¼Œéœ€è¦å®šæœŸåˆ·æ–°è¡¥å……</li><li>åˆ·æ–°å‘¨æœŸï¼šå­˜å‚¨å™¨ä¸¤æ¬¡å®Œæ•´åˆ·æ–°ä¹‹é—´çš„æ—¶é—´é—´éš”</li><li>åˆ·æ–°æ–¹å¼ï¼šé›†ä¸­å¼ã€åˆ†æ•£å¼ã€å¼‚æ­¥å¼ï¼ˆå‡è®¾åˆ·æ–°å‘¨æœŸä¸º2msï¼‰<ul><li>é›†ä¸­å¼<ul><li>ä¸€ä¸ªåˆ·æ–°é—´éš”ï¼ˆ2msï¼‰ï¼š|-----R/W/ç»´æŒ-----|â€”é›†ä¸­åˆ·æ–°nè¡Œâ€”|</li><li>åœ¨æ•°æ®ä¸¢å¤±ä¹‹å‰é›†ä¸­åˆ·æ–°æ‰€æœ‰è¡Œ</li><li>ä¿æŒå­˜å‚¨å•ä½“çš„é«˜é€Ÿç‰¹æ€§ï¼Œå­˜åœ¨æ­»åŒºï¼ˆæ­»æ—¶é—´ï¼‰</li><li>æ­»åŒº=å­˜å–å‘¨æœŸ*åˆ·æ–°è¡Œæ•°ï¼Œæ­»æ—¶é—´ç‡=æ­»åŒº/åˆ·æ–°é—´éš”</li><li>åœºæ™¯ï¼šå®æ—¶æ€§è¦æ±‚ä¸é«˜</li></ul></li><li>åˆ†æ•£å¼<ul><li>ä¸€ä¸ªåˆ·æ–°é—´éš”ï¼ˆå°äº2msï¼‰ï¼š|R/W|åˆ·æ–°ç¬¬0è¡Œ|R/W|åˆ·æ–°ç¬¬1è¡Œ|â€¦|R/W|åˆ·æ–°ç¬¬nè¡Œ|</li><li>å­˜å‚¨å‘¨æœŸ=è¯»å†™+åˆ·æ–°ï¼šå„åˆ·æ–°å‘¨æœŸåˆ†æ•£å®‰æ’åœ¨å­˜å–å‘¨æœŸä¸­</li><li>è¿‡åº¦åˆ·æ–°ï¼Œé€šå¸¸åˆ·æ–°é—´éš”è¿œå°äºæ‰€éœ€æœ€å¤§åˆ·æ–°é—´éš”ï¼ŒèŠ¯ç‰‡æ€§èƒ½ä¸‹é™</li><li><strong>ä¸å­˜åœ¨æ­»åŒº</strong></li></ul></li><li>å¼‚æ­¥å¼<ul><li>ä¸€ä¸ªåˆ·æ–°é—´éš”ï¼ˆ2msï¼‰ï¼š|R/W|R/W|â€¦|R/W|åˆ·æ–°ç¬¬0è¡Œ|R/W|R/W|â€¦|R/W|åˆ·æ–°ç¬¬nè¡Œ|</li><li>æ¯è¡Œæ¯éš”ä¸€å®šæ—¶é—´/å¤šæ¬¡è¯»å†™ååˆ·æ–°ä¸€æ¬¡ï¼Œï¼ˆå¹³å‡ï¼‰åˆ†æ•£åœ¨ä¸€ä¸ªåˆ·æ–°é—´éš”çš„ä»»æ„éƒ¨åˆ†</li><li>å­˜åœ¨æ­»åŒºï¼Œä½†å¯ä»¥å°†åˆ·æ–°å®‰æ’åœ¨æŒ‡ä»¤è¯‘ç é˜¶æ®µ</li></ul></li></ul></li></ol></li></ol></li><li>SRAMä¸DRAMçš„æ¯”è¾ƒ</li></ol><table><thead><tr><th></th><th>SRAM</th><th>DRAM</th></tr></thead><tbody><tr><td>å­˜å‚¨åŸç†</td><td>è§¦å‘å™¨</td><td>ç”µå®¹</td></tr><tr><td>é›†æˆåº¦</td><td>ä½</td><td>é«˜</td></tr><tr><td>åˆ·æ–°</td><td>ä¸éœ€è¦</td><td>éœ€è¦</td></tr><tr><td>å­˜å‚¨æˆæœ¬ï¼ˆåŠŸè€—ï¼‰</td><td>é«˜</td><td>ä½</td></tr><tr><td>é€Ÿåº¦</td><td>å¿«ï¼ˆæ— éœ€é‡å†™ï¼‰</td><td>æ…¢ï¼ˆéœ€é‡å†™ï¼‰</td></tr><tr><td>ç ´åæ€§è¯»å‡º</td><td>é</td><td>æ˜¯</td></tr><tr><td>é€è¡Œåˆ—åœ°å€</td><td>åŒæ—¶</td><td>åˆ†2æ¬¡</td></tr><tr><td>ä¸»è¦ç”¨é€”</td><td>Cacheé«˜é€Ÿç¼“å­˜</td><td>ä¸»å­˜</td></tr></tbody></table><h3 id="4-2-4-åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰">4.2.4 åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰</h3><p>MROMï¼šMaskedï¼ˆæ©æ¨¡ï¼‰<br>PROMï¼šProgrammableï¼ˆå¯ç¼–ç¨‹ï¼‰<br>EPROMï¼šErasable Pï¼ˆå¯æ“¦å†™å¯ç¼–ç¨‹ï¼‰<br>EEPROMï¼šElectrically-Erasable Pï¼ˆç”µå¯æ“¦å†™å¯ç¼–ç¨‹ï¼‰<br>Flash Memoryï¼šé—ªé€Ÿå­˜å‚¨å™¨</p><h3 id="4-2-5-ä¸»å­˜ä¸CPUçš„è¿æ¥æ–¹å¼ï¼ˆä¸è€ƒå¯Ÿï¼‰">4.2.5 ä¸»å­˜ä¸CPUçš„è¿æ¥æ–¹å¼ï¼ˆä¸è€ƒå¯Ÿï¼‰</h3><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC07.png" alt="ä¸»å­˜ä¸CPUçš„è¿æ¥æ–¹å¼"></li><li>$MREQ(å­˜å‚¨å™¨è¯·æ±‚)\Rightarrow CS(ç‰‡é€‰çº¿)$</li><li>$A_{17-0}(åœ°å€çº¿)\Rightarrow A$ï¼šå­˜å‚¨å•å…ƒæ•°=$2^{18-10} K$ä¸ª</li><li>$R/W(è¯»å†™æ§åˆ¶)\Rightarrow WE(å†™ä½¿èƒ½)$</li><li>$D_{31-0}(æ•°æ®çº¿)\Rightarrow D$ï¼šæ•°æ®ä½æ•°=$32$ä½</li></ul><h3 id="4-2-6-å­˜å‚¨å™¨å®¹é‡æ‰©å±•ï¼ˆä¸è€ƒå¯Ÿï¼‰">4.2.6 å­˜å‚¨å™¨å®¹é‡æ‰©å±•ï¼ˆä¸è€ƒå¯Ÿï¼‰</h3><ul><li>ä½æ‰©å±•ï¼ˆDBUSï¼‰ï¼šå¢åŠ å­˜å‚¨å­—é•¿<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC08.png" alt="ä½æ‰©å±•"></li><li>æ–¹æ³•ï¼š<ul><li>MREQã€AåŒæ—¶è¿æ¥$n$ä¸ªèŠ¯ç‰‡</li><li>R/WåŒæ—¶è¿æ¥æ‰€æœ‰RAMèŠ¯ç‰‡</li><li>Dä½æ•°æ‰©å±•åˆ°åŸæ¥çš„$n$å€ï¼ŒæŒ‰é¡ºåºåˆ†é…ç»™æ¯ä¸ªèŠ¯ç‰‡</li></ul></li><li>ç‰¹ç‚¹ï¼š<ul><li>ä»æ¯ä¸ªèŠ¯ç‰‡å†…éƒ¨ç›¸åŒçš„åœ°å€å•å…ƒä¸­è¯»å–æ•°æ®ï¼ŒåŒæ—¶è¯»å†™</li><li>ä½æ‰©å±•åçš„å­˜å‚¨å®¹é‡=å•å…ƒæ•°Ã—ï¼ˆå­—é•¿Ã—ç‰‡æ•°ï¼‰</li></ul></li></ul></li><li>å­—æ‰©å±•ï¼ˆABUSï¼‰ï¼šå¢åŠ å­˜å‚¨å•å…ƒæ•°<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC09.png" alt="å­—æ‰©å±•"></li><li>æ–¹æ³•ï¼š<ul><li>DåŒæ—¶è¿æ¥$n$ä¸ªèŠ¯ç‰‡</li><li>R/WåŒæ—¶è¿æ¥æ‰€æœ‰RAMèŠ¯ç‰‡</li><li>MREQè¿æ¥åˆ°3-8è¯‘ç å™¨çš„OE</li><li>Aä½æ•°å¢åŠ $log_2n$ï¼ŒåŸæ¥çš„éƒ¨åˆ†ä¸æ¯ä¸€ç‰‡è¿æ¥ï¼Œå¢åŠ çš„éƒ¨åˆ†åˆ†é…ç»™3-8è¯‘ç å™¨</li><li>3-8è¯‘ç å™¨çš„è¾“å‡ºè¿æ¥åˆ°$n$ä¸ªèŠ¯ç‰‡çš„CSï¼ˆç‰‡é€‰ï¼‰</li></ul></li><li>ç‰¹ç‚¹ï¼š<ul><li>ä»å•ä¸ªèŠ¯ç‰‡ï¼ˆç»„ï¼‰ä¸­çš„åœ°å€å•å…ƒä¸­è¯»å–æ•°æ®</li><li>å­—æ‰©å±•åçš„å­˜å‚¨å®¹é‡=ï¼ˆå•å…ƒæ•°Ã—ç‰‡æ•°ï¼‰Ã—å­—é•¿</li></ul></li></ul></li><li>å­—ä½ç»¼åˆæ‰©å±•ï¼šåŒæ—¶å¢åŠ å­˜å‚¨å•å…ƒæ•°å’Œå­˜å‚¨å­—é•¿<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC10.png" alt="å­—ä½æ‰©å±•"></li><li>æ–¹æ³•ï¼š<ul><li>R/WåŒæ—¶è¿æ¥æ‰€æœ‰RAMèŠ¯ç‰‡ç»„</li><li>Dä½æ•°æ‰©å±•åˆ°åŸæ¥çš„$n$å€ï¼Œè¿æ¥æ¯ä¸ªèŠ¯ç‰‡ç»„</li><li>MREQè¿æ¥åˆ°3-8è¯‘ç å™¨çš„OE</li><li>Aä½æ•°å¢åŠ $log_2n$ï¼ŒåŸæ¥çš„éƒ¨åˆ†ä¸æ¯ä¸€ç‰‡è¿æ¥ï¼Œå¢åŠ çš„éƒ¨åˆ†åˆ†é…ç»™3-8è¯‘ç å™¨</li><li>3-8è¯‘ç å™¨çš„è¾“å‡ºè¿æ¥åˆ°$n$ä¸ªèŠ¯ç‰‡çš„CSï¼ˆç‰‡é€‰ï¼‰</li></ul></li></ul></li><li>ä¾‹ï¼šå­˜å‚¨å™¨å®¹é‡æ‰©å±•<ul><li>éœ€æ±‚ï¼š<ul><li>0x0000åˆ°3FFFä¸ºROMå­˜å‚¨åŒºåŸŸ</li><li>0x4000åˆ°0x5FFFä¸ºä¿ç•™åœ°å€åŒºåŸŸ</li><li>0x6000åˆ°0xFFFFä¸ºRAMåœ°å€åŒºåŸŸ</li><li>RAMçš„æ§åˆ¶ä¿¡å·ä¸ºCS#å’ŒWE#ï¼ŒCPUåœ°å€çº¿A15~A0ï¼Œæ•°æ®çº¿D7~D0ï¼Œæ§åˆ¶ä¿¡å·æœ‰è¯»å†™æ§åˆ¶R/W#å’Œè®¿å­˜è¯·æ±‚MREQ#</li></ul></li><li>ææ–™ï¼š16KÃ—8 ROM 4KÃ—8 RAM</li><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC11.png" alt="å­˜å‚¨å™¨å®¹é‡æ‰©å±•"></li><li>æ³¨æ„ï¼š<ul><li>è¯‘ç å™¨ä¸€ä½ä¿¡å·å¯¹åº”ä¸¤ç‰‡èŠ¯ç‰‡æ—¶ï¼Œé«˜ä½åœ°å€ï¼ˆ$A_{12}$ï¼‰å‚ä¸ç‰‡é€‰</li><li>è¯‘ç å™¨ä¸¤ä½ä¿¡å·å¯¹åº”ä¸€ç‰‡èŠ¯ç‰‡æ—¶ï¼Œä¿¡å·å–æˆ–ä¼ å…¥ç‰‡é€‰</li></ul></li><li>ä¸åŒåŒºåŸŸé€‰æ‹©èŠ¯ç‰‡ç±»å‹ï¼š<ul><li>ç³»ç»Ÿç¨‹åºåŒºåŸŸï¼šROM</li><li>ä¿ç•™åŒºåŸŸï¼šæ— éœ€é€‰æ‹©</li><li>ç”¨æˆ·ç¨‹åºåŒºåŸŸï¼šRAM</li></ul></li></ul></li></ul><h3 id="4-2-7-ä¼˜åŒ–ä¸»å­˜æ€§èƒ½çš„æ–¹æ³•">4.2.7 ä¼˜åŒ–ä¸»å­˜æ€§èƒ½çš„æ–¹æ³•</h3><ol><li>é‡‡ç”¨é«˜é€Ÿå™¨ä»¶ï¼šSDRAMï¼ˆåŒæ­¥DRAMï¼‰</li><li>å¢åŠ Cacheï¼šé‡‡ç”¨å±‚çº§ç»“æ„ Cache-ä¸»å­˜ ï¼ˆCDRAMï¼‰</li><li>åŒç«¯å£å­˜å‚¨å™¨</li></ol><ul><li>å…·æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„è¯»å†™æ§åˆ¶çº¿</li><li>åœ°å€ä¸å†²çªæ—¶ï¼Œå¯å¹¶è¡Œè¯»å†™</li></ul><ol start="4"><li>å¢åŠ å­—é•¿ã€æ¯ä¸ªå­˜å‚¨å‘¨æœŸå­˜å–å¤šä¸ªå­—ï¼šå•ä½“å¤šå­—å­˜å‚¨å™¨ï¼ˆä½æ‰©å±•ï¼‰</li></ol><ul><li>å¤šä¸ªå•å­—é•¿å­˜å‚¨å™¨å¹¶è¡Œå·¥ä½œ</li><li>å…±ç”¨ä¸€ä¸ªåœ°å€å¯„å­˜å™¨</li><li>å•å­˜å‚¨å‘¨æœŸå†…è®¿é—®å¤šä¸ªå­˜å‚¨å­—</li></ul><ol start="5"><li>å°†ä¸»å­˜åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œå¹¶è¡Œå­˜å–ï¼šå¤šä½“å¹¶è¡Œå­˜å‚¨å™¨</li></ol><ul><li>é«˜ä½äº¤å‰ã€é¡ºåºç¼–å€ï¼ˆé¡ºåºæ–¹å¼ï¼‰ï¼ˆå­—æ‰©å±•ï¼‰</li><li>ä½ä½äº¤å‰ã€è½®æµç¼–å€ï¼ˆäº¤å‰æ–¹å¼ï¼‰<ul><li>æµæ°´çº¿å¼å­˜å‚¨ï¼š<ul><li>æ€»çº¿ä¼ è¾“å‘¨æœŸ$\tau$ï¼Œå­˜å‚¨å‘¨æœŸ$T$ï¼Œäº¤å‰æ¨¡æ•°$m$</li><li>æµæ°´çº¿æ–¹å¼å­˜å‚¨çš„æ¡ä»¶ï¼š$T=m\tau$</li><li>è¿ç»­ä¼ è¾“nä¸ªå­—çš„æ—¶é—´ï¼š$T+(n-1)\tau$</li></ul></li><li>å­˜å‚¨ä½“æ•°é‡ï¼šä¸å°äº$\dfrac{å­˜å‚¨å‘¨æœŸ}{æ€»çº¿ä¼ è¾“å‘¨æœŸ}$</li></ul></li><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC12.png" alt="å¤šæ¨¡å—å­˜å‚¨å™¨"></li></ul><table><thead><tr><th></th><th>é«˜ä½äº¤å‰</th><th>ä½ä½äº¤å‰</th></tr></thead><tbody><tr><td>ç›¸é‚»æ•°æ®åœ°å€</td><td>åŒä¸€å­˜å‚¨ä½“</td><td>ä¸åŒå­˜å‚¨ä½“</td></tr><tr><td>åœ°å€å¯„å­˜å™¨</td><td>ä¸€ä¸ª</td><td>æ¯ä¸ªå­˜å‚¨ä½“ä¸€ä¸ª</td></tr><tr><td>å±€éƒ¨æ€§åŸç†</td><td>é«˜ä½ç‰‡é€‰ï¼Œå¤šæ¨¡å—ä¸²è¡Œ</td><td>ä½ä½ç‰‡é€‰ï¼Œå¤šæ¨¡å—å¹¶è¡Œ</td></tr><tr><td>æ€§èƒ½</td><td>æ— æå‡</td><td>æå‡</td></tr><tr><td>æ•…éšœéš”ç¦»</td><td>æ–¹ä¾¿</td><td>-</td></tr><tr><td>è¿ç»­è¯»å–$n$ä¸ªå­—çš„æ—¶é—´</td><td>$nT$</td><td>$T+(n-1)\tau$</td></tr></tbody></table><h2 id="4-3-é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨Cache">4.3 é«˜é€Ÿç¼“å­˜å­˜å‚¨å™¨Cache</h2><h3 id="4-3-1-æ¦‚è¿°">4.3.1 æ¦‚è¿°</h3><ol><li>Cacheè§£å†³çš„é—®é¢˜</li></ol><ul><li>é¿å…CPUâ€œç©ºç­‰â€çŠ¶æ€</li><li>å¼¥è¡¥CPUä¸ä¸»å­˜çš„é€Ÿåº¦å·®å¼‚</li></ul><ol start="2"><li>ç¨‹åºè®¿é—®çš„å±€éƒ¨æ€§åŸç†</li></ol><ul><li>æ—¶é—´å±€éƒ¨æ€§ï¼šåˆšè®¿é—®è¿‡çš„æ•°æ®å¾ˆå¯èƒ½é©¬ä¸Šå†æ¬¡è®¿é—®</li><li>ç©ºé—´å±€éƒ¨æ€§ï¼šåˆšè®¿é—®è¿‡çš„æ•°æ®é™„è¿‘çš„æ•°æ®å¾ˆå¯èƒ½é©¬ä¸Šè®¿é—®</li><li>ä¼˜åŒ–æ‰‹æ®µï¼šè°ƒåº¦ç®—æ³•ï¼ˆæ—¶é—´å±€éƒ¨æ€§ï¼‰ï¼›é¢„è¯»ä¼˜åŒ–ï¼ˆç©ºé—´å±€éƒ¨æ€§ï¼‰</li></ul><ol start="3"><li>Cacheçš„å·¥ä½œåŸç†</li></ol><ul><li>ä¸»å­˜åœ°å€ï¼šnä½=mä½ä¸»å­˜å—å·+bä½å—å†…åœ°å€ï¼ˆå­—åœ°å€ï¼‰</li><li>Cacheåœ°å€ï¼šcä½Cacheå—å·+bä½å—å†…åœ°å€ï¼ˆc &lt;&lt; mï¼‰</li><li>æŒ‰å—å­˜å‚¨ï¼Œå—å¤§å°ç›¸åŒ</li><li>å‘½ä¸­ï¼ˆHITï¼‰ï¼šCacheä¸­æœ‰æ‰€éœ€æ•°æ®</li><li>ç¼ºå¤±ï¼ˆMISSï¼‰ï¼šCacheä¸­æ— æ‰€éœ€æ•°æ®ï¼Œéœ€è¦ä»ä¸»å­˜ä¸­è¯»å–</li><li>æ ‡è®°è®°å½•æŸç¼“å­˜å—å¯¹åº”çš„ä¸»å­˜å—å·</li></ul><ol start="4"><li>å‘½ä¸­ç‡ã€è®¿é—®æ—¶é—´ã€è®¿é—®æ•ˆç‡</li></ol><ul><li>è®°$N$ä¸ºè®¿é—®æ¬¡æ•°ï¼Œ$N_c$ä¸ºå‘½ä¸­æ¬¡æ•°ï¼Œ$N_m$ä¸ºç¼ºå¤±æ¬¡æ•°ï¼ˆè®¿é—®ä¸»å­˜æ¬¡æ•°ï¼‰ï¼›$t_c$ä¸ºCacheå­˜å–æ—¶é—´ï¼Œ$t_m$ä¸ºä¸»å­˜å­˜å–æ—¶é—´</li><li>å‘½ä¸­ç‡ï¼š$h=\dfrac{N_c}{N}$ / ç¼ºå¤±ç‡ï¼š$1-h$</li><li>å¹³å‡è®¿é—®æ—¶é—´ï¼š$t_{avg}=ht_c+(1-h)t_m$</li><li>è®¿é—®æ•ˆç‡ï¼š$E=\dfrac{t_c}{t_{avg}}$</li></ul><ol start="5"><li>å…³é”®æŠ€æœ¯</li></ol><ul><li>æ•°æ®æŸ¥æ‰¾ã€åœ°å€æ˜ å°„ã€æ›¿æ¢ç­–ç•¥ã€å†™å…¥ç­–ç•¥</li></ul><ol start="6"><li>Cacheçš„è¯»æ“ä½œ</li></ol><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC15.png" alt="Cacheçš„è¯»æ“ä½œ"></li></ul><ol start="7"><li>Cacheçš„å†™æ“ä½œ</li></ol><ul><li>å†™ç©¿æ³•ï¼ˆWrite Throughï¼‰ï¼šå†™CacheåŒæ—¶å†™ä¸»å­˜<ul><li>ä¼˜ç‚¹ï¼šç»´æŒäº†ä¸»å­˜å’ŒCacheçš„æ•°æ®ä¸€è‡´æ€§</li><li>ç¼ºç‚¹ï¼šå†™ä¸»å­˜æ¬¡æ•°å¤šï¼Œåœ¨è¿ç»­å¤šæ¬¡æ›´æ–°åŒä¸€æ•°æ®æ—¶æ•ˆç‡ä½</li></ul></li><li>å†™å›æ³•ï¼ˆWrite Backï¼‰ï¼šåªå†™Cacheï¼Œæ ‡è®°ä¸ºè„ï¼Œè¢«æ›¿æ¢æ—¶æ‰å†™å›ä¸»å­˜<ul><li>ä¼˜ç‚¹ï¼šå‡å°‘äº†å†™ä¸»å­˜æ¬¡æ•°ï¼Œæé«˜äº†æ•ˆç‡</li><li>ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„æ ‡è®°ä½å’Œåˆ¤æ–­ï¼Œå¢åŠ äº†Cacheå¤æ‚åº¦</li></ul></li></ul><ol start="8"><li>Cacheçš„æ”¹è¿›</li></ol><ul><li>å¢åŠ Cacheçº§æ•°ï¼ˆCPUç‰‡å†…ã€ç‰‡å¤–ï¼‰</li><li>ç»Ÿä¸€Cacheï¼ˆæŒ‡ä»¤ã€æ•°æ®å…±ç”¨ï¼‰å’Œåˆ†ç«‹Cacheï¼ˆæŒ‡ä»¤ã€æ•°æ®åˆ†å¼€ï¼‰</li></ul><h3 id="4-3-2-Cache-ä¸»å­˜åœ°å€æ˜ å°„">4.3.2 Cache-ä¸»å­˜åœ°å€æ˜ å°„</h3><ol><li>ç›´æ¥æ˜ å°„</li></ol><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC16.png" alt="ç›´æ¥æ˜ å°„"></li><li>æ ¹æ®Cacheå—æ•°å¯¹ä¸»å­˜å—å·å–æ¨¡ï¼Œåªèƒ½å­˜æ”¾åœ¨å¯¹åº”æ¨¡æ•°çš„ä½ç½®</li><li>ä¸»å­˜åœ°å€nä½=tä½æ ‡è®°ä½+cä½Cacheå—å·+bä½å—å†…åœ°å€ï¼ˆt+c=mï¼‰</li></ul><ol start="2"><li>å…¨ç›¸è”æ˜ å°„ï¼ˆä¸»å­˜å®¹é‡å¤§è€ƒè™‘é‡‡ç”¨ï¼‰</li></ol><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC17.png" alt="å…¨ç›¸è”æ˜ å°„"></li><li>ä»»æ„ä¸»å­˜å—å¯ä»¥å­˜æ”¾åœ¨ä»»æ„Cacheå—ä¸­</li><li>ä¸»å­˜åœ°å€nä½=mä½æ ‡è®°ä½+bä½å—å†…åœ°å€</li></ul><ol start="3"><li>ç»„ç›¸è”æ˜ å°„</li></ol><ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC18.png" alt="ç»„ç›¸è”æ˜ å°„"></li><li>ç»„é—´ç›´æ¥æ˜ å°„ï¼Œç»„å†…å…¨ç›¸è”æ˜ å°„ï¼Œå…ˆåˆ†ç»„</li><li>ç»„æ•°$2^q$ï¼Œç»„å†…Cacheå—æ•°$2^r$ï¼Œ$q+r=c$</li><li>ä¸»å­˜åœ°å€nä½=(t+r)ä½æ ‡è®°ä½+q(c-r)ä½ç»„å·+bä½å—å†…åœ°å€</li></ul><table><thead><tr><th></th><th>ç›´æ¥æ˜ å°„</th><th>å…¨ç›¸è”æ˜ å°„</th><th>ç»„ç›¸è”æ˜ å°„</th></tr></thead><tbody><tr><td>å†²çª</td><td>æœ€å®¹æ˜“</td><td>æœ€ä¸å®¹æ˜“</td><td>ä¸­ç­‰</td></tr><tr><td>Cacheåˆ©ç”¨ç‡</td><td>ä½</td><td>é«˜</td><td>ä¸­ç­‰</td></tr><tr><td>æ·˜æ±°ç®—æ³•</td><td>æ— </td><td>éœ€è¦</td><td>éœ€è¦</td></tr></tbody></table><h3 id="4-3-3-Cacheçš„æ›¿æ¢ç­–ç•¥">4.3.3 Cacheçš„æ›¿æ¢ç­–ç•¥</h3><ol><li>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</li></ol><ul><li>ä¼˜ç‚¹ï¼šæ˜“å®ç°ã€å¼€é”€å°</li><li>ç¼ºç‚¹ï¼šæœªè€ƒè™‘å±€éƒ¨æ€§åŸç†ï¼Œè¢«æ›¿æ¢çš„æ•°æ®å†æ¬¡è¢«è®¿é—®</li></ul><ol start="2"><li>è¿‘æœŸæœ€å°‘ä½¿ç”¨ï¼ˆLeast Recently Usedï¼ŒLRUï¼‰</li></ol><ul><li>ä¼˜ç‚¹ï¼šå‡å°‘äº†è¢«æ›¿æ¢çš„æ•°æ®å†æ¬¡è¢«è®¿é—®çš„æ¦‚ç‡ï¼Œæé«˜äº†å‘½ä¸­ç‡</li></ul><ol start="3"><li>éšæœºæ³•</li></ol><h2 id="4-4-å­˜å‚¨å™¨çš„æ ¡éªŒ">4.4 å­˜å‚¨å™¨çš„æ ¡éªŒ</h2><ol><li>æ¦‚è¿°</li></ol><ul><li>å­˜å‚¨å™¨æ ¡éªŒçš„æ„ä¹‰ï¼šè§£å†³ç¼–ç åœ¨æ—¶é—´ã€ç©ºé—´ä¸Šä¼ è¾“å¯é æ€§é—®é¢˜ï¼›å‡å°‘åŸºäºè½¯ä»¶æ£€é”™çš„ä»£ä»·</li><li>ç è·ï¼šä¸¤ä¸ªåˆæ³•ç ä¹‹é—´çš„ä¸åŒä½æ•°ã€‚<ul><li>ç è·è¶Šå¤§ï¼ŒæŠ—å¹²æ‰°èƒ½åŠ›ã€çº é”™èƒ½åŠ›è¶Šå¼ºï¼Œæ•°æ®å†—ä½™è¶Šå¤§ï¼Œç¼–ç æ•ˆç‡è¶Šä½</li></ul></li><li>æ£€é”™å’Œçº é”™ï¼šæ£€é”™ä½æ•°=ç è·//2ï¼Œçº é”™ä½æ•°=ï¼ˆç è·-1ï¼‰//2</li></ul><ol start="2"><li>å¥‡å¶æ ¡éªŒï¼ˆä»¥å¶æ ¡éªŒä¸ºä¾‹ï¼‰</li></ol><ul><li>å¾…ä¼ è¾“æ•°æ®ï¼š$D_1D_2D_3D_4D_5D_6D_7D_8$</li><li>æ ¡éªŒä½ï¼š$P=D_1\oplus D_2\oplus D_3\oplus D_4\oplus D_5\oplus D_6\oplus D_7\oplus D_8$ï¼ˆå¥‡æ ¡éªŒå–åï¼‰</li><li>å‘é€ä¸æ¥æ”¶çš„æ•°æ®ï¼š$D_1D_2D_3D_4D_5D_6D_7D_8P$ï¼ˆæœ«å°¾åŠ æ ¡éªŒç ï¼‰</li><li>æ£€é”™ç ï¼š$G=D_1\oplus D_2\oplus D_3\oplus D_4\oplus D_5\oplus D_6\oplus D_7\oplus D_8\oplus P$<ul><li>$G=0$ï¼Œæ— é”™ï¼›$G=1$ï¼Œæœ‰é”™</li></ul></li><li>ç è·ï¼š2</li><li>æ£€1ä½é”™ï¼Œçº 0ä½é”™</li></ul><ol start="3"><li>æ±‰æ˜æ ¡éªŒ</li></ol><ul><li>å¾…ä¼ è¾“æ•°æ®ï¼š$D_nâ€¦D_3D_2D_1$</li><li>å¢åŠ æ ¡éªŒä½$P$æ•°é‡ï¼š$k$ï¼Œ$2^k\geq n+k+1$ ï¼ˆ$n=4$æ—¶ï¼Œ$k=3$ï¼‰</li><li>æ ¡éªŒä½$P_i$å¤„äº$2^{i-1}$ä½ç½®ï¼Œå³ä¼ è¾“æ•°æ®ï¼š$H_{7-1}=D_4D_3D_2P_3D_1P_2P_1$</li><li>æ ¡éªŒä½$P_i$ä¸ºä½ç½®ä¸‹æ ‡äºŒè¿›åˆ¶ç¬¬$i$ä½ä¸º1çš„æ•°æ®ï¼ˆé™¤è‡ªå·±å¤–ï¼‰çš„å¼‚æˆ–å’Œã€‚<ul><li>$P_1= H_3\oplus H_5\oplus H_7=D_1\oplus D_2\oplus D_4$</li><li>$P_2= H_3\oplus H_6\oplus H_7=D_1\oplus D_3\oplus D_4$</li><li>$P_3= H_5\oplus H_6\oplus H_7=D_2\oplus D_3\oplus D_4$</li></ul></li><li>æ£€é”™ç $G_i$ä¸ºä½ç½®ä¸‹æ ‡äºŒè¿›åˆ¶ç¬¬$i$ä½ä¸º1çš„æ•°æ®çš„å¼‚æˆ–å’Œã€‚<ul><li>$G_1=H_1\oplus H_3\oplus H_5\oplus H_7=P_1\oplus D_1\oplus D_2\oplus D_4$</li><li>$G_2=H_2\oplus H_3\oplus H_6\oplus H_7=P_2\oplus D_1\oplus D_3\oplus D_4$</li><li>$G_3=H_4\oplus H_5\oplus H_6\oplus H_7=P_3\oplus D_2\oplus D_3\oplus D_4$</li></ul></li><li>æ¯ä¸€ç»„æ•°æ®éƒ½æ˜¯ä¸€æ¬¡å¶æ ¡éªŒ</li><li>æ£€é”™ç çš„æ’åˆ—$G_3G_2G_1$æ‰€ç¤ºçš„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºå‡ºé”™çš„ä½ç½®</li><li>ç è·ï¼š3</li><li>æ£€1ä½é”™ï¼Œçº 1ä½é”™</li><li>å®ç°æ£€2ä½é”™<ul><li>å¼€å¤´å¢åŠ ä¸€ä¸ªæ€»å¶æ ¡éªŒä½$P_4=H_1\oplus H_2\oplus H_3\oplus H_4\oplus H_5\oplus H_6\oplus H_7$</li><li>æ£€é”™ç ï¼š$G_4=P_4\oplus H_1\oplus H_2\oplus H_3\oplus H_4\oplus H_5\oplus H_6\oplus H_7$</li></ul></li><li>ä¼˜ç‚¹<ul><li>ç¼–ç æ•ˆç‡é«˜ï¼šæ•°æ®å¢åŠ ä¸€å€ï¼Œæ ¡éªŒä½å¢åŠ 1ä½</li><li>å¯çº æ­£1ä½é”™ï¼Œæ£€é”™2ä½é”™</li></ul></li></ul><ol start="4"><li>CRCå¾ªç¯å†—ä½™æ ¡éªŒ</li></ol><ul><li>å¾…ä¼ è¾“æ•°æ®ï¼š$1100$</li><li>çº¦å®šä¸€ä¸ª$r+1$ä½äºŒè¿›åˆ¶æ•°$1011$ï¼ˆr=3ï¼‰</li><li>å°†å¾…ä¼ è¾“æ•°æ®å·¦ç§»$r$ä½ï¼Œå¾—åˆ°$1100|000$</li><li>åšæ¨¡äºŒé™¤æ³•ï¼Œåšå‡æ³•æ—¶åšå¼‚æˆ–ï¼Œä½™æ•°é¦–ä½ä¸º1æ—¶å•†ä¸Š1</li><li>$1100000\div1011=1110\cdots 010$å…¶ä¸­ä½™æ•°$010$æ˜¯æ ¡éªŒä½</li><li>$1100|000$å’Œä½™æ•°$010$ç›¸åŠ ï¼Œå¾—åˆ°ä¼ è¾“æ•°æ®$D=1100|010$</li><li>æ¥æ”¶æ–¹å°†æ¥æ”¶åˆ°çš„æ•°æ®$D$é™¤ä»¥çº¦å®šçš„æ•°$1011$ï¼Œä½™æ•°ä¸º0åˆ™æ— é”™</li></ul><h2 id="4-5-è¾…åŠ©å­˜å‚¨å™¨-å¤–å­˜å‚¨å™¨">4.5 è¾…åŠ©å­˜å‚¨å™¨/å¤–å­˜å‚¨å™¨</h2><h3 id="4-5-1-æ¦‚è¿°">4.5.1 æ¦‚è¿°</h3><ul><li>ç£è¡¨é¢å­˜å‚¨å™¨ã€ç¡¬ç›˜å­˜å‚¨å™¨ã€å…‰ç›˜å­˜å‚¨å™¨</li><li>ç‰¹ç‚¹ï¼›å®¹é‡å¤§ã€é€Ÿåº¦æ…¢ã€ä»·æ ¼ä½ã€é•¿æœŸå­˜å‚¨ã€éç ´åæ€§è¯»å‡º</li><li>åŸç†ï¼šç”µç£å˜æ¢</li></ul><h3 id="4-5-2-ç£è¡¨é¢å­˜å‚¨å™¨çš„æŠ€æœ¯æŒ‡æ ‡">4.5.2 ç£è¡¨é¢å­˜å‚¨å™¨çš„æŠ€æœ¯æŒ‡æ ‡</h3><ol><li>è®°å½•å¯†åº¦</li></ol><ul><li>é“å¯†åº¦$D_t(TPI)$</li><li>ä½å¯†åº¦$D_b(BPI)$</li><li>é¢å¯†åº¦$D_s=D_t\times D_b$</li></ul><ol start="2"><li>$åœ†æŸ±é¢æ•°N_c=(å¤–å¾„R-å†…å¾„r)\times F_t$</li><li>$ç£é“é•¿åº¦l=2\pi r(å†…å¾„)$</li><li>$å­˜å‚¨å®¹é‡C=l\times D_b\times N_c\times ç›˜é¢æ•°$</li><li>$å¯»å€æ—¶é—´/å®šä½æ—¶é—´T_a=å¯»é“æ—¶é—´t_s+ç­‰å¾…æ—¶é—´t_w$</li><li>æ•°æ®ä¼ è¾“ç‡$D_r$ï¼šå•ä½æ—¶é—´ä¼ è¾“çš„æ•°æ®é‡</li><li>è¯¯ç ç‡ï¼š$\dfrac{é”™è¯¯ä½æ•°}{æ€»ä½æ•°}$ï¼Œé€šå¸¸ç”¨CRCæ ¡éªŒçº æ­£</li></ol><h3 id="4-5-3-ç¡¬ç£ç›˜å­˜å‚¨å™¨">4.5.3 ç¡¬ç£ç›˜å­˜å‚¨å™¨</h3><ol><li>ç±»å‹</li></ol><ul><li>å›ºå®šç£å¤´/ç§»åŠ¨ç£å¤´</li><li>å¯æ¢ç›˜/å›ºå®šç›˜</li></ul><ol start="2"><li>ç»“æ„</li></ol><ul><li>$ä¸»æœº\Leftrightarrow ç£ç›˜æ§åˆ¶å™¨\Leftrightarrow ç£ç›˜é©±åŠ¨å™¨\Leftrightarrow ç£ç›˜ç›˜ç‰‡$</li></ul><ol start="3"><li>ç£ç›˜æ§åˆ¶å™¨ï¼šä¸»æœºä¸ç£ç›˜é©±åŠ¨å™¨ä¹‹é—´çš„æ¥å£</li></ol><ul><li>åŠŸèƒ½ï¼šæ•°æ®ä¼ è¾“ã€æ•°æ®æ ¡éªŒã€ç£ç›˜è°ƒåº¦ã€ç£ç›˜æ ¼å¼åŒ–</li></ul><h3 id="4-5-4-è½¯ç›˜å­˜å‚¨å™¨">4.5.4 è½¯ç›˜å­˜å‚¨å™¨</h3><table><thead><tr><th></th><th>ç¡¬ç›˜</th><th>è½¯ç›˜</th></tr></thead><tbody><tr><td>é€Ÿåº¦</td><td>å¿«</td><td>æ…¢</td></tr><tr><td>ç£å¤´</td><td>å›ºå®š/æ´»åŠ¨ã€æµ®åŠ¨</td><td>å›ºå®šã€æ¥è§¦ç›˜ç‰‡</td></tr><tr><td>ç›˜ç‰‡</td><td>å›ºå®šã€ç›˜ç»„ã€å¤§éƒ¨åˆ†ä¸å¯æ¢</td><td>å¯æ¢ç›˜ç‰‡</td></tr><tr><td>ä»·æ ¼</td><td>é«˜</td><td>ä½</td></tr><tr><td>å·¥ä½œç¯å¢ƒ</td><td>è‹›åˆ»</td><td></td></tr></tbody></table><h3 id="4-5-5-å…‰ç›˜å­˜å‚¨å™¨">4.5.5 å…‰ç›˜å­˜å‚¨å™¨</h3><ul><li>é‡‡ç”¨å…‰å­˜å‚¨æŠ€æœ¯ï¼Œåˆ©ç”¨æ¿€å…‰è¯»å†™</li><li>ç¬¬ä¸€ä»£ï¼šéç£æ€§ä»‹è´¨ã€ä¸å¯æ“¦å†™</li><li>ç¬¬äºŒä»£ï¼šç£æ€§ä»‹è´¨ã€å¯æ“¦å†™</li><li>åªè¯»å‹/åªå†™ä¸€æ¬¡å‹ï¼šçƒ­ä½œç”¨</li><li>å¯æ“¦å†™å‹ï¼šçƒ­ç£æ•ˆåº”</li></ul><h1>äº”ã€è¾“å…¥è¾“å‡ºç³»ç»Ÿ</h1><h2 id="5-1-æ¦‚è¿°">5.1 æ¦‚è¿°</h2><h3 id="5-1-1-è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„å‘å±•æ¦‚å†µ">5.1.1* è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„å‘å±•æ¦‚å†µ</h3><ol><li>æ—©æœŸé˜¶æ®µ<ul><li>åˆ†æ•£è¿æ¥</li><li>CPUä¸I/Oè®¾å¤‡ ä¸²è¡Œå·¥ä½œ</li><li>ç¨‹åºæŸ¥è¯¢æ–¹å¼</li></ul></li><li>æ¥å£æ¨¡å—å’ŒDMAé˜¶æ®µ<ul><li>æ€»çº¿è¿æ¥</li><li>CPUä¸I/Oè®¾å¤‡ å¹¶è¡Œå·¥ä½œ</li><li>ä¸­æ–­æ–¹å¼/ç›´æ¥å­˜å‚¨å™¨è®¿é—®ï¼ˆDMAï¼‰</li></ul></li><li>å…·æœ‰é€šé“ç»“æ„çš„é˜¶æ®µ</li><li>å…·æœ‰I/Oå¤„ç†æœºçš„é˜¶æ®µ</li></ol><h3 id="5-1-2-è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„ç»„æˆ">5.1.2* è¾“å…¥è¾“å‡ºç³»ç»Ÿçš„ç»„æˆ</h3><ol><li>I/Oè½¯ä»¶<ul><li>I/OæŒ‡ä»¤ï¼šCPUæŒ‡ä»¤çš„éƒ¨åˆ†ã€‚ æ“ä½œç |å‘½ä»¤ç |è®¾å¤‡ç <ul><li>æ“ä½œç ï¼šI/OæŒ‡ä»¤çš„æ ‡å¿—ï¼ŒæŒ‡å‡ºè¯¥æŒ‡ä»¤æ˜¯I/OæŒ‡ä»¤</li><li>å‘½ä»¤ç ï¼šæŒ‡å‡ºI/Oæ“ä½œçš„ç±»å‹ï¼šè¾“å…¥ã€è¾“å‡ºã€çŠ¶æ€æµ‹è¯•ã€æ§åˆ¶</li><li>è®¾å¤‡ç ï¼šæŒ‡å‡ºI/Oè®¾å¤‡çš„åœ°å€ï¼ˆç«¯å£å·ï¼‰</li></ul></li><li>é€šé“æŒ‡ä»¤<ul><li>é€šé“ï¼šå…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„å¤„ç†å™¨IOP</li><li>æŒ‡å‡ºè¦ä¼ è¾“çš„å­—èŠ‚æ•°ã€æ•°æ®åœ°å€ã€æ“ä½œå‘½ä»¤</li></ul></li></ul></li><li>I/Oç¡¬ä»¶<ul><li>æ¥å£æ–¹å¼ï¼šè®¾å¤‡ã€I/Oæ¥å£ï¼šè®¾å¤‡é€šè¿‡æ¥å£è¿æ¥åˆ°æ€»çº¿ï¼Œå’Œä¸»æœºè¿›è¡Œæ•°æ®äº¤æ¢</li><li>é€šé“æ–¹å¼ï¼šè®¾å¤‡ã€è®¾å¤‡æ§åˆ¶å™¨ã€é€šé“</li></ul></li></ol><h3 id="5-1-3-I-Oè®¾å¤‡ä¸ä¸»æœºçš„è”ç³»æ–¹å¼">5.1.3 I/Oè®¾å¤‡ä¸ä¸»æœºçš„è”ç³»æ–¹å¼</h3><ol><li>å¤–è®¾åˆ†ç±»<ul><li>æŒ‰åŠŸèƒ½ï¼šè¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡</li><li>æŒ‰é€Ÿåº¦ï¼šä½é€Ÿè®¾å¤‡ã€ä¸­é€Ÿè®¾å¤‡ã€é«˜é€Ÿè®¾å¤‡</li><li>æŒ‰ä½œç”¨ï¼šäººæœºäº¤äº’è®¾å¤‡ã€å¤–å­˜å‚¨å™¨è®¾å¤‡ã€é€šä¿¡è®¾å¤‡</li></ul></li><li>I/Oè®¾å¤‡çš„ç¼–å€æ–¹å¼<ul><li>ç»Ÿä¸€ç¼–å€æ–¹å¼ï¼šå°†I/Oè®¾å¤‡çœ‹ä½œæ˜¯å†…å­˜åœ°å€çš„ä¸€éƒ¨åˆ†ï¼Œå…±ç”¨åœ°å€ç©ºé—´ï¼ŒæŒ‡ä»¤é›†ç›¸å¯¹ç®€å•</li><li>ä¸ç»Ÿä¸€ç¼–å€æ–¹å¼ï¼šå†…å­˜ä¹‹å¤–ä¸“è®¾I/Oè®¾å¤‡åœ°å€ç©ºé—´ï¼Œæœ‰ä¸“é—¨çš„I/OæŒ‡ä»¤é›†</li></ul></li><li>è®¾å¤‡å¯»å€ï¼šé€šè¿‡è®¾å¤‡é€‰æ‹©ç”µè·¯</li><li>ä¼ é€æ–¹å¼ï¼šä¸²è¡Œã€å¹¶è¡Œ</li><li>è”ç»œæ–¹å¼/å¤–å›´è®¾å¤‡å®šæ—¶æ–¹å¼<ul><li>ç«‹å³å“åº”æ–¹å¼ï¼ˆææ…¢çš„è®¾å¤‡ï¼‰</li><li>å¼‚æ­¥å·¥ä½œé‡‡ç”¨åº”ç­”ä¿¡å·è”ç»œï¼ˆæ…¢é€Ÿå’Œä¸­é€Ÿè®¾å¤‡ï¼‰</li><li>åŒæ­¥å·¥ä½œé‡‡ç”¨åŒæ­¥æ—¶æ ‡è”ç»œï¼ˆé«˜é€Ÿè®¾å¤‡ï¼‰</li></ul></li><li>I/Oè®¾å¤‡å’Œä¸»æœºçš„è¿æ¥æ–¹å¼<ul><li>è¾å°„å¼ï¼ˆåˆ†æ•£è¿æ¥ï¼‰ï¼šæ¯å°è®¾å¤‡éƒ½é…æœ‰ç‹¬ç«‹çš„æ§åˆ¶ç”µè·¯å’Œä¿¡å·çº¿</li><li>æ€»çº¿å¼ï¼šä¾¿äºå¢åˆ è®¾å¤‡</li></ul></li></ol><h2 id="5-2-I-Oç«¯å£">5.2 I/Oç«¯å£</h2><ol><li>è®¾ç½®I/Oç«¯å£çš„åŸå› <ul><li>å¤–éƒ¨è®¾å¤‡å·¥ä½œçš„å¼‚æ­¥æ€§ï¼šå¤–éƒ¨è®¾å¤‡å·¥ä½œçš„æ—¶é’Ÿå’Œæ—¶åºä¸å¾®å¤„ç†å™¨ä¸åŒ</li><li>é€Ÿåº¦å·®å¼‚ï¼šå¤–éƒ¨è®¾å¤‡çš„é€Ÿåº¦è¿œè¿œä½äºå¾®å¤„ç†å™¨</li><li>ä¿¡å·çº¿ä¸æ•°æ®æ ¼å¼ä¸åŒ</li><li>ä¾¿äºå¤–è®¾å‘å±•</li></ul></li><li>I/Oç«¯å£çš„åŠŸèƒ½<ul><li>å®ç°æ•°æ®ç¼“å†²</li><li>æ‰§è¡ŒCPUçš„å‘½ä»¤è¿”å›å¤–è®¾çŠ¶æ€</li><li>è®¾å¤‡é€‰æ‹©</li><li>æ•°æ®æ ¼å¼ã€ä¿¡å·çš„è½¬æ¢</li><li>ä¸­æ–­ç®¡ç†</li></ul></li><li>I/Oæ¥å£çš„ç»„æˆ<ul><li>åŸºæœ¬ç”µè·¯ï¼šå¯„å­˜å™¨åŠé€»è¾‘æ§åˆ¶</li><li>ç«¯å£åœ°å€è¯‘ç ç”µè·¯</li><li>ä¾›é€‰ç”µè·¯ï¼šå¯é€‰å™¨ä»¶</li></ul></li></ol><h2 id="5-3-I-Oæ§åˆ¶æ–¹å¼-ä¿¡æ¯äº¤æ¢æ–¹å¼-æ€»è§ˆ">5.3 I/Oæ§åˆ¶æ–¹å¼ / ä¿¡æ¯äº¤æ¢æ–¹å¼ æ€»è§ˆ</h2><ol><li>ç¨‹åºæŸ¥è¯¢æ–¹å¼<ul><li>$å¯åŠ¨è®¾å¤‡\Rightarrow åå¤æŸ¥è¯¢è®¾å¤‡çŠ¶æ€ç›´è‡³è®¾å¤‡å‡†å¤‡å¥½\Rightarrow ä¼ è¾“å•ä¸ªæ•°æ®\Rightarrow ç»“æŸè®¾å¤‡$</li><li>ä¿¡æ¯äº¤æ¢å®Œå…¨ç”±CPUæ‰§è¡Œç¨‹åºå®ç°</li><li>ä¸²è¡Œå·¥ä½œã€åå¤æŸ¥è¯¢ã€ç³»ç»Ÿæ•ˆç‡ä½</li><li>ç”¨äºæ—©æœŸè®¡ç®—æœºç³»ç»Ÿ</li></ul></li><li>ç¨‹åºä¸­æ–­æ–¹å¼<ul><li>$CPUå‘èµ·æŒ‡ä»¤\Rightarrow è®¾å¤‡å‡†å¤‡æ•°æ®+CPUå¤„ç†å…¶ä»–è¿›ç¨‹\Rightarrow è®¾å¤‡å‡†å¤‡å¥½æ•°æ®ï¼Œå‘CPUå‘å‡ºä¸­æ–­è¯·æ±‚\Rightarrow CPUå“åº”ä¸­æ–­$</li><li>ä¸»åŠ¨å‘ŠçŸ¥é¿å…åå¤æŸ¥è¯¢</li><li>ä»éœ€CPUå ç”¨</li><li>ä¸€æ¬¡ä¸­æ–­ä¼ è¾“æ•°æ®å°‘ï¼ŒCPUå¼€é”€å¤§</li></ul></li><li>ç›´æ¥å­˜å‚¨å™¨å­˜å–ï¼ˆDMAï¼‰æ–¹å¼<ul><li>é€‚ç”¨äºæˆç»„æ•°æ®ä¼ è¾“</li><li>ä¼ è¾“é˜¶æ®µDMACä»CPUæ¥ç®¡æ€»çº¿ï¼Œç›´æ¥åœ¨å†…å­˜åŠå¤–è®¾ä¹‹é—´è¿›è¡Œï¼ŒèŠ‚çº¦äº†ä¸­æ–­å¼€é”€</li><li>éœ€è¦æ›´å¤šç¡¬ä»¶</li></ul></li><li>é€šé“æ–¹å¼<ul><li>é€šé“ï¼šå…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„å¤„ç†å™¨IOPï¼Œç‹¬ç«‹äºCPUï¼Œåˆ†æ‹…I/Oå¤„ç†ï¼Œå¯å®ç°å¤–è®¾çš„ç»Ÿä¸€ç®¡ç†å’ŒDMAæ“ä½œ</li><li>é€šé“æ‰§è¡Œé€šé“ç¨‹åºæ¥å®ŒæˆCPUæŒ‡å®šçš„I/Oä»»åŠ¡ï¼Œé€šé“ç¨‹åºæ˜¯ç”±ä¸€ç³»åˆ—é€šé“æŒ‡ä»¤ç»„æˆçš„</li></ul></li></ol><h2 id="5-4-ç¨‹åºä¸­æ–­æ–¹å¼">5.4 ç¨‹åºä¸­æ–­æ–¹å¼</h2><ol><li><p>ä¸­æ–­æ¦‚å¿µ</p><ul><li>ä¸­æ–­ï¼šCPUæš‚æ—¶ä¸­æ­¢ç°è¡Œç¨‹åºçš„æ‰§è¡Œï¼Œè½¬å»æ‰§è¡Œä¸ºæŸä¸ªéšæœºäº‹ä»¶æœåŠ¡çš„ä¸­æ–­å¤„ç†å­ç¨‹åºï¼Œå¤„ç†å®Œåè‡ªåŠ¨æ¢å¤åŸç¨‹åºçš„æ‰§è¡Œ</li><li>ä½œç”¨ï¼šå®ç°CPUä¸I/Oè®¾å¤‡çš„å¹¶è¡Œå·¥ä½œã€æ•…éšœå¤„ç†ç­‰</li></ul></li><li><p>ä¸­æ–­çš„åˆ†ç±»</p><ul><li>$<br>ä¸­æ–­\begin{cases}<br>å†…ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰ï¼šæ¥è‡ªCPUå†…éƒ¨\begin{cases}<br>è½¯ä»¶ä¸­æ–­\\<br>å¼‚å¸¸\begin{cases}<br>æ•…éšœFault\\<br>é™·é˜±Trap\\<br>ç»ˆæ­¢Abort<br>\end{cases}<br>\end{cases} \\<br>å¤–ä¸­æ–­ï¼ˆå¼ºè¿«ä¸­æ–­ï¼‰ï¼šæ¥è‡ªCPUå¤–éƒ¨\begin{cases}<br>ä¸å¯å±è”½ä¸­æ–­NMIï¼šç”±ç³»ç»Ÿå†…éƒ¨ç¡¬ä»¶å¼•å‘çš„ä¸­æ–­\\<br>å¯å±è”½ä¸­æ–­INTRï¼šç”±å¤–è®¾é€šè¿‡ä¸­æ–­è¯·æ±‚çº¿å‘å¤„ç†å™¨ç”³è¯·<br>\end{cases}<br>\end{cases}<br>$</li></ul></li><li><p>ä¸­æ–­ç³»ç»ŸåŸºæœ¬åŠŸèƒ½</p><ol><li>ä¸­æ–­è¯·æ±‚çš„ä¿æŒå’Œæ¸…é™¤ï¼šç¡¬ä»¶å®ç°</li><li>ä¸­æ–­ä»²è£ï¼šå¤šä¸ªä¸­æ–­è¯·æ±‚åŒæ—¶åˆ°è¾¾æ—¶ï¼Œç¡®å®šä¼˜å…ˆçº§</li><li>ä¸­æ–­æºè¯†åˆ«ï¼šè·å–ä¸­æ–­å·ï¼ˆè¯†åˆ«ä¸­æ–­æºï¼‰</li><li>ä¸­æ–­å¤„ç†</li><li>ä¸­æ–­æ§åˆ¶</li></ol><ul><li>ä¸­æ–­è§¦å‘æ–¹å¼ï¼šè¾¹æ²¿è§¦å‘ã€ç”µå¹³è§¦å‘</li><li>ä¸­æ–­æ’é˜Ÿæ–¹å¼ï¼šä¼˜å…ˆçº§é«˜å…ˆæœåŠ¡</li></ul></li><li><p>å•çº§ä¸­æ–­å’Œå¤šçº§ä¸­æ–­</p><ul><li>å•çº§ä¸­æ–­ï¼šæ‰€æœ‰ä¸­æ–­åŒçº§ï¼Œç¦»CPUè¿‘çš„ä¼˜å…ˆï¼Œå¤„ç†ä¸­æ–­æ—¶ä¸å“åº”å…¶ä»–ä¸­æ–­</li><li>å¤šçº§ä¸­æ–­ï¼šä¼˜å…ˆçº§é«˜çš„ä¸­æ–­å¯æ‰“æ–­ä¼˜å…ˆçº§ä½çš„ä¸­æ–­ï¼Œä¸­æ–­åµŒå¥—</li></ul></li><li><p>ä¼˜å…ˆçº§åˆ’åˆ†ä¸€èˆ¬è§„å¾‹</p><ul><li>ç¡¬ä»¶ä¸­æ–­æœ€é«˜ï¼Œç¨‹åºé”™è¯¯ä¸­æ–­å…¶æ¬¡</li><li>NMI&gt;INTR</li><li>DMA&gt;I/O</li><li>é«˜é€Ÿè®¾å¤‡&gt;ä½é€Ÿè®¾å¤‡</li><li>è¾“å…¥è®¾å¤‡&gt;è¾“å‡ºè®¾å¤‡</li><li>å®æ—¶è®¾å¤‡&gt;éå®æ—¶è®¾å¤‡</li></ul></li><li><p>ä¸­æ–­å±è”½å­—ä¸ä¼˜å…ˆçº§è®¾å®š</p><ul><li>ä»¥A,B,Cä¸ºä¾‹ï¼Œè®¾å®šä¼˜å…ˆçº§B&gt;C&gt;A</li><li>Aï¼š100ï¼›Bï¼š111ï¼›Cï¼š101</li><li>0æ‰€åœ¨çš„ä½ç½®è¡¨ç¤ºå…è®¸è¢«è¯¥ä½ä¸­æ–­</li></ul></li><li><p>ç¼ºç‚¹</p><ol><li>ä¼ è¾“ä¸€æ¬¡æ•°æ®å°±è¦ä¸­æ–­ä¸€æ¬¡ï¼ŒCPUå¼€é”€å¤§</li><li>æ•ˆç‡ä½ï¼Œä¸é€‚åˆé«˜é€Ÿä¼ è¾“ç³»ç»Ÿ</li></ol></li></ol><h2 id="5-5-DMAï¼ˆç›´æ¥å­˜å‚¨å™¨å­˜å–ï¼‰æ–¹å¼">5.5 DMAï¼ˆç›´æ¥å­˜å‚¨å™¨å­˜å–ï¼‰æ–¹å¼</h2><ol><li>ä¼˜ç‚¹<ul><li>å¤–è®¾ä¸ä¸»å­˜é—´å»ºç«‹ä¸€ä¸ªç”±ç¡¬ä»¶ç®¡ç†çš„æ•°æ®é€šè·¯</li><li>CPUä¸ä»‹å…¥å¤–è®¾ä¸ä¸»å­˜çš„æ•°æ®ä¼ è¾“</li><li>å‡å°‘CPUå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡</li></ul></li><li>å†…å­˜äº‰ç”¨ï¼š DMAæ§åˆ¶å™¨å’ŒCPUå¯èƒ½åŒæ—¶è®¿é—®å†…å­˜<ol><li>DMAè®¿å†…è¿‡ç¨‹ä¸­ï¼Œåœæ­¢CPUè®¿é—®å†…å­˜<ul><li>DMAæ‰¹é‡æ•°æ®ä¼ è¾“å‘¨æœŸè¿‡é•¿ï¼ŒCPUé•¿æœŸæ— æ³•è®¿å†…</li><li>å¤–è®¾ä¼ é€ä¸¤ä¸ªæ•°æ®çš„æ—¶é—´é—´éš”å¤§äºå­˜å‚¨å‘¨æœŸï¼Œå†…å­˜æœªå……åˆ†åˆ©ç”¨</li></ul></li><li>DMAä¸CPUäº¤æ›¿è®¿é—®å†…å­˜<ul><li>æ¯ä¸ªCPUå·¥ä½œå‘¨æœŸåˆ†æˆä¸¤æ®µï¼šDMAè®¿å†…å’ŒCPUè®¿å†…</li><li>æ— ä¸»å­˜ä½¿ç”¨æƒç§»äº¤è¿‡ç¨‹</li></ul></li><li>å‘¨æœŸæŒªç”¨æ³•<ul><li>DMAè¦æ±‚è®¿é—®ä¸»å­˜æ—¶ï¼ŒCPUæš‚åœä¸€ä¸ªæˆ–å¤šä¸ªå­˜å‚¨å‘¨æœŸã€‚ä¸€ä¸ªæ•°æ®ä¼ é€ç»“æŸåï¼ŒCPUç»§ç»­è¿è¡Œã€‚</li></ul></li></ol></li></ol><h1>å…­ã€è®¡ç®—æœºçš„è¿ç®—æ–¹æ³•</h1><h1>6.1 æ— ç¬¦å·æ•°å’Œæœ‰ç¬¦å·æ•°</h1><h2 id="6-1-1-æ— ç¬¦å·æ•°">6.1.1 æ— ç¬¦å·æ•°</h2><p>æŒ‰ç…§è§„å®šçš„é•¿åº¦ï¼ˆå­—é•¿ï¼‰ä»¥äºŒè¿›åˆ¶ä¿å­˜ï¼Œåªæœ‰æ•°å€¼éƒ¨åˆ†ï¼Œæ²¡æœ‰ç¬¦å·ä½ã€‚</p><h2 id="6-1-2-æœ‰ç¬¦å·æ•°">6.1.2 æœ‰ç¬¦å·æ•°</h2><ol><li>æœºå™¨æ•°ä¸çœŸå€¼<ul><li>æœºå™¨æ•°ï¼šè®¡ç®—æœºå†…éƒ¨è¡¨ç¤ºçš„æ•°</li><li>çœŸå€¼ï¼šæ•°çš„å®é™…å€¼</li><li>å››ç§æœºå™¨ç ï¼šåŸç ã€åç ã€è¡¥ç ã€ç§»ç <ul><li>æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ï¼š0ä¸ºæ­£ï¼Œ1ä¸ºè´Ÿ</li><li>å…¶ä½™ä½è¡¨ç¤ºæ•°å€¼</li><li>å°æ•°çš„å®šç‚¹è¡¨ç¤ºï¼šåŸç ã€åç ã€è¡¥ç </li></ul></li></ul></li><li>åŸç <ul><li>æ•´æ•°ï¼šæ•°å€¼ä½è¡¨ç¤ºå°æ•°ç‚¹å‰çš„æ•´æ•°éƒ¨åˆ†</li><li>å°æ•°ï¼šæ•°å€¼ä½è¡¨ç¤ºå°æ•°ç‚¹åçš„å°æ•°éƒ¨åˆ†ï¼ˆç»å¯¹å€¼å°äº1ï¼‰</li><li>ç‰¹ç‚¹ï¼š<ol><li>æœ‰+0(0,000)å’Œ-0(1,000)ä¸¤ç§0</li><li>åŠ ã€å‡è¿ç®—æ–¹å¼ä¸ç»Ÿä¸€ï¼Œç¬¦å·ç›¸å¼‚ä¸èƒ½ç›´æ¥è®¡ç®—</li></ol></li></ul></li><li>åç <ul><li>æ­£æ•°ï¼šåŸç </li><li>è´Ÿæ•°ï¼šå…¶æ­£æ•°åŸç çš„å„ä½å–å</li><li>ç‰¹ç‚¹ï¼š<ol><li>æœ‰+0(0,000)å’Œ-0(1,111)ä¸¤ç§0</li><li>è¿ç®—è¾ƒå¤æ‚</li></ol></li></ul></li><li>è¡¥ç <ul><li>æ­£æ•°ï¼šåŸç </li><li>è´Ÿæ•°ï¼šåç +1</li><li>ç‰¹ç‚¹ï¼š<ol><li>0æœ‰å”¯ä¸€çš„è¡¨ç¤ºæ–¹å¼</li><li>åŠ ã€å‡è¿ç®—æ–¹å¼ç»Ÿä¸€</li><li>æœºå™¨æ•°çš„å”¯ä¸€è¡¨ç¤º</li><li>å°æ•°å¯ä»¥è¡¨ç¤º-1(1.000)</li></ol></li><li>è¡¥ç è¿ç®—ï¼š<ol><li>$[[X]_è¡¥]_è¡¥=-(-X)=X$</li><li>//2ï¼šå³ç§»1ä½ï¼Œæœ€é«˜ä½è¡¥ç¬¦å·ä½ï¼ˆæ­£æ•°è¡¥0ï¼Œè´Ÿæ•°è¡¥1ï¼‰</li><li>*2ï¼šå·¦ç§»1ä½ï¼Œæœ€ä½ä½è¡¥0ï¼Œç¬¦å·ä½å˜åŒ–å³ä¸ºæº¢å‡º</li><li>ä¸åŒä½æ•°åŠ å‡æ³•ï¼šä½æ•°å°‘çš„æ•°ï¼Œé«˜ä½è¡¥ç¬¦å·ä½ç›´è‡³ä½æ•°ç›¸åŒï¼Œç„¶åæŒ‰ä½åŠ å‡</li></ol></li></ul></li><li>ç§»ç <ul><li>è¡¥ç çš„ç¬¦å·ä½å–å</li><li>ä¿æŒæ•°æ®åŸæœ‰çš„å¤§å°é¡ºåºï¼Œä¾¿äºæ¯”è¾ƒ</li><li>ä»…ç”¨äºè¡¨ç¤ºæ•´æ•°ï¼Œé€šå¸¸ç”¨äºæµ®ç‚¹æ•°çš„é˜¶ç </li></ul></li></ol><h1>6.2 å°æ•°çš„æµ®ç‚¹è¡¨ç¤ºï¼ˆåŸç è¡¨ç¤ºï¼‰</h1><ol><li>è¡¨ç¤ºæ ¼å¼<ul><li>$N=S\times r^j$</li><li>Sï¼šå°¾æ•°ï¼ˆå°æ•°ï¼‰ï¼›rï¼šåŸºæ•°($2^k$)ï¼›jï¼šé˜¶ç ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºï¼‰</li><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC19.png" alt="æµ®ç‚¹æ•°è¡¨ç¤º"></li><li>$S_f$ï¼šæµ®ç‚¹æ•°çš„ç¬¦å·</li><li>$n$ï¼šå†³å®šæµ®ç‚¹æ•°çš„ç²¾åº¦</li><li>$m$ï¼šå†³å®šæµ®ç‚¹æ•°çš„è¡¨ç¤ºèŒƒå›´</li></ul></li><li>è§„æ ¼åŒ–æ•°<ul><li>åŸºæ•°$r=2^k$æ—¶</li><li>å°¾æ•°$S$çš„æœ€é«˜çš„$k$ä½ï¼ˆå°æ•°ç‚¹å$k$ä½ï¼‰ä¸å…¨ä¸º0</li><li>ç‰¹åˆ«çš„ï¼Œ$r=2$æ—¶ï¼ŒS=0.1xxxxxx</li><li>å°¾æ•°å·¦å³ç§»åŠ¨$k$ä½ï¼Œé˜¶ç å˜åŒ–$1$</li></ul></li><li>è¡¨ç¤ºèŒƒå›´<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC20.png" alt="æµ®ç‚¹æ•°è¡¨ç¤ºèŒƒå›´"></li><li>å°¾æ•°$S$ï¼š$0,[2^{-n},1-2^{-n}]$</li><li>é˜¶ç $j$ï¼š$[-2^m+1,2^m-1]$</li><li>è¡¨ç¤ºèŒƒå›´ï¼š$[-(1-2^{-n})\times 2^{2^m-1},-(2^{-n})\times 2^{-2^m+1}],0,[2^{-n}\times 2^{-2^m+1},(1-2^{-n})\times 2^{2^m-1}]$</li></ul></li><li>æœºå™¨0<ul><li>å°¾æ•°$S=0$çš„æ•°ï¼šx,xxxx;0.0000000000</li><li>é˜¶ç å°äºç­‰äºç²¾åº¦ï¼ˆ$-2^m+1,-15$ï¼‰çš„æ•°ï¼š1,0000(-16);x.xxxxxxxxxx</li><li>é˜¶ç ç”¨ç§»ç æ—¶ï¼Œæœºå™¨$0$ä¸ºï¼š0,0000;0.0000000000</li></ul></li><li>IEEE754 Standard<ul><li>æ„æˆï¼šç¬¦å·ä½$m_s$ï¼ˆæ•°ç¬¦ï¼‰ï¼Œé˜¶ç $E$ï¼ˆå«é˜¶ç¬¦ï¼Œç§»ç è¡¨ç¤ºï¼ŒåŸºæ•°ä¸º2ï¼‰ï¼Œå°¾æ•°$M$ï¼ˆéšå»å¼€å¤´çš„1ï¼ŒåŸç è¡¨ç¤ºï¼‰</li><li>$(-1)^{m_s}\times 1.M\times 2^E$</li><li>åç½®å€¼ï¼šé˜¶ç çš„ç§»ç ä¸åŸç çš„å·®å€¼ï¼ˆ$2^{k-1}-1$ï¼‰</li></ul></li></ol><table><thead><tr><th></th><th>ç¬¦å·ä½</th><th>é˜¶ç </th><th>å°¾æ•°</th><th>æ€»ä½æ•°</th></tr></thead><tbody><tr><td>å•ç²¾åº¦float</td><td>1</td><td>8</td><td>23</td><td>32</td></tr><tr><td>åŒç²¾åº¦double</td><td>1</td><td>11</td><td>52</td><td>64</td></tr><tr><td>ä¸´æ—¶å®æ•°</td><td>1</td><td>15</td><td>64</td><td>80</td></tr></tbody></table><h1>6.3 å®šç‚¹è¿ç®—</h1><h2 id="6-3-1-ç§»ä½è¿ç®—">6.3.1 ç§»ä½è¿ç®—</h2><ol><li>ç®—æœ¯ç§»ä½ä¸é€»è¾‘ç§»ä½<ul><li>ç®—æœ¯ç§»ä½ï¼šç¬¦å·ä½ä¸å˜</li><li>é€»è¾‘ç§»ä½ï¼šå·¦ç§»å³ç§»è¡¥0</li></ul></li><li>ç®—æœ¯ç§»ä½æ·»è¡¥</li></ol><table><thead><tr><th>æ­£è´Ÿ</th><th>ç å€¼</th><th>æ·»è¡¥</th></tr></thead><tbody><tr><td>+</td><td>åŸç ã€åç ã€è¡¥ç </td><td>è¡¥0</td></tr><tr><td>-</td><td>åŸç </td><td>è¡¥0</td></tr><tr><td>-</td><td>åç </td><td>è¡¥1</td></tr><tr><td>-</td><td>è¡¥ç </td><td>å·¦ç§»è¡¥0ï¼Œå³ç§»è¡¥1</td></tr></tbody></table><ol start="3"><li>ä¸¢å¤±æœ‰æ•ˆä½<ul><li>å·¦ç§»ä¸¢é«˜ä½ï¼šæº¢å‡º</li><li>å³ç§»ä¸¢ä½ä½ï¼šæŸå¤±ç²¾åº¦</li></ul></li></ol><h2 id="6-3-2-åŠ å‡æ³•è¿ç®—">6.3.2 åŠ å‡æ³•è¿ç®—</h2><ol><li>è¡¥ç åŠ å‡è¿ç®—å…¬å¼<ol><li>åŠ æ³•ï¼š$[A]_è¡¥+[B]_è¡¥=[A+B]_è¡¥$</li><li>å‡æ³•ï¼š$[A]_è¡¥-[B]_è¡¥=[A+(-B_è¡¥)]_è¡¥=[A]_è¡¥+[-B]_è¡¥$</li><li>è¿åŒç¬¦å·ä½ä¸€èµ·ç›¸åŠ ï¼Œæº¢å‡ºä½èˆå»</li><li>çœŸå®æº¢å‡ºï¼šæ­£æ­£å¾—è´Ÿ/è´Ÿè´Ÿå¾—æ­£</li></ol></li><li>ç¡¬ä»¶å®ç°<ol><li>ä¸²è¡ŒåŠ æ³•å™¨ï¼šé€ä½ç›¸åŠ ï¼Œè¿›ä½ä¼ é€’<ol><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC21.png" alt="ä¸²è¡ŒåŠ æ³•å™¨"></li><li>ç¼ºç‚¹ï¼šé«˜ä½ä¾èµ–ä½ä½ï¼Œé€Ÿåº¦æ…¢</li><li>$S_i=X_i\oplus Y_i\oplus C_{i-1}$</li><li>$C_i=X_iY_i+X_iC_{i-1}+Y_iC_{i-1}=X_iY_i+(X_i\oplus Y_i)C_{i-1}$</li></ol></li><li>å¹¶è¡ŒåŠ æ³•å™¨ï¼šæ¯ä¸€ä½å¹¶è¡Œè®¡ç®—<ol><li>åŸç†<ol><li>è®°ï¼š<ul><li>$G_i=X_iY_i$ï¼šç”Ÿæˆä½ï¼ˆGenerateï¼‰</li><li>$P_i=X_i\oplus Y_i$ï¼šä¼ é€’ä½ï¼ˆPropagateï¼‰</li></ul></li><li>åˆ™ï¼š<ul><li>$C_i = G_i + P_iC_{i-1}$</li></ul></li><li>ä¼ é€’å¾—åˆ°ï¼š<ul><li>$C_i = G_i + P_iG_{i-1} + P_iP_{i-1}G_{i-2} + \cdots + P_iP_{i-1}\cdots P_1C_0$</li><li>$ä»¥i=4ä¸ºä¾‹ï¼ŒC_4 = G_4 + P_4G_3 + P_4P_3G_2 + P_4P_3P_2G_1 + P_4P_3P_2P_1C_0$</li></ul></li><li>è®°ï¼š<ul><li>$G_4^* = G_4 + P_4G_3 + P_4P_3G_2 + P_4P_3P_2G_1$ï¼šç»„è¿›ä½ç”Ÿæˆä½</li><li>$P_3^* = P_4P_3P_2P_1$ï¼šç»„è¿›ä½ä¼ é€’ä½</li><li>$C_4 = G_4^* + P_4^*C_0$ï¼šç»„è¿›ä½ä¼ é€’å‡½æ•°</li></ul></li><li>$S_i=P_i\oplus C_{i-1}$</li></ol></li><li>1çº§é—¨ç”µè·¯å»¶è¿Ÿ-ä¸é—¨å¼‚æˆ–é—¨ç”µè·¯ï¼šè®¡ç®—$G_i,P_i$<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC22.png" alt="1çº§é—¨ç”µè·¯"></li></ul></li><li>2çº§é—¨ç”µè·¯å»¶è¿Ÿ-å…ˆè¡Œè¿›ä½ç”µè·¯ï¼šè®¡ç®—$C_i$<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC23.png" alt="2çº§é—¨ç”µè·¯"></li></ul></li><li>å››ä½å¿«é€ŸåŠ æ³•å™¨<ul><li><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC24.png" alt="å››ä½å¿«é€ŸåŠ æ³•å™¨"></li></ul></li></ol></li></ol></li></ol><h2 id="6-3-3-ä¹˜æ³•è¿ç®—">6.3.3 ä¹˜æ³•è¿ç®—</h2><ul><li>æ€æƒ³ï¼šç§»ä½ç›¸åŠ </li></ul><h3 id="6-3-3-1-åŸç ä¹˜æ³•">6.3.3.1 åŸç ä¹˜æ³•</h3><ul><li>ç¬¦å·ä½ï¼šå•ç‹¬è®¡ç®—</li><li>æ•°å€¼ä½ï¼šä»$Y$çš„æœ€ä½ä½å¼€å§‹ï¼Œé€ä½å†³å®š$SUM$æ˜¯å¦åŠ $X$ï¼Œç„¶å$Sum$å³ç§»ä¸€ä½ã€‚</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC30.png" alt="åŸç ä¹˜æ³•"></p><h3 id="6-3-3-2-ï¼ˆé‡ç‚¹ï¼‰è¡¥ç ä¹˜æ³•ï¼šBoothç®—æ³•">6.3.3.2 ï¼ˆé‡ç‚¹ï¼‰è¡¥ç ä¹˜æ³•ï¼šBoothç®—æ³•</h3><ul><li>ç»™å®šï¼š$[X]_è¡¥,[Y]_è¡¥$ï¼Œæ±‚$[X]_è¡¥\times [Y]_è¡¥$</li></ul><ol><li>æ±‚$[-X]_è¡¥$ï¼Œ$[Y]_è¡¥$æœ€åè¡¥ä¸€ä½0</li><li>å½“å‰$Y$çš„æœ«2ä½$Y_{-2}Y_{-1}$å†³å®š$SUM$åŠ $X,0,-X$çš„å“ªä¸€ä¸ª<ul><li>$SUM+=X\times (Y_{-1}-Y_{-2})=\begin{cases}<br>0 &amp; Y_{-2}Y_{-1}=00\\<br>X &amp; Y_{-2}Y_{-1}=01\\<br>-X &amp; Y_{-2}Y_{-1}=10\\<br>0 &amp; Y_{-2}Y_{-1}=11<br>\end{cases}$</li></ul></li><li>å³ç§»$SUM$ï¼Œå·¦è¾¹è¡¥ç¬¦å·ä½</li><li>å»æ‰$Y$çš„æœ€ä½ä½ï¼Œé‡å¤æ­¥éª¤2-3ï¼Œç›´åˆ°$Y$åªå‰©1ä½</li></ol><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC31.png" alt="è¡¥ç ä¹˜æ³•"></p><h2 id="6-3-4-é™¤æ³•è¿ç®—">6.3.4 é™¤æ³•è¿ç®—</h2><h3 id="6-3-4-1-æ¢å¤ä½™æ•°æ³•">6.3.4.1 æ¢å¤ä½™æ•°æ³•</h3><ul><li>ç»™å®šï¼š$[X]_è¡¥,[Y]_è¡¥$ï¼Œæ±‚$[X]_è¡¥\div [Y]_è¡¥$ï¼ˆ$X,Y$ä¸ºæ­£æ•°ï¼‰</li></ul><ol><li>æ±‚$[-Y]_è¡¥$</li><li>è®¡ç®—$X+=(-Y)$</li><li>è‹¥åŒç¬¦å·ä½ä¸º$11$ï¼Œå³$X$ä¸ºè´Ÿæ•°ï¼Œä¸å¤Ÿå‡ï¼Œåˆ™è¯¥ä½ä¸º$0$ï¼Œæ¢å¤ä½™æ•°ï¼š$X+=Y$</li><li>è‹¥åŒç¬¦å·ä½ä¸º$00$ï¼Œå³$X$ä¸ºæ­£æ•°ï¼Œå¤Ÿå‡ï¼Œè¯¥ä½ä¸º$1$</li><li>$X$å·¦ç§»ä¸€ä½ï¼Œå³è¾¹è¡¥0</li><li>é‡å¤æ­¥éª¤2-5ï¼Œç›´åˆ°$X$å·¦ç§»$4$ä½ï¼ˆ$Y$çš„ä½æ•°ï¼‰</li><li>å½“å‰çš„ä½™æ•°ä¸º$X\times 2^{-4}$</li></ol><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC32.png" alt="æ¢å¤ä½™æ•°æ³•"></p><h3 id="6-3-4-2-é‡ç‚¹-éæ¢å¤ä½™æ•°æ³•-åŠ å‡äº¤æ›¿æ³•">6.3.4.2 (é‡ç‚¹)éæ¢å¤ä½™æ•°æ³•/åŠ å‡äº¤æ›¿æ³•</h3><ul><li>ç»™å®šï¼š$[X]_è¡¥,[Y]_è¡¥$ï¼Œæ±‚$[X]_è¡¥\div [Y]_è¡¥$ï¼ˆ$X,Y$ä¸ºæ­£æ•°ï¼‰</li></ul><ol><li>æ±‚$[-Y]_è¡¥$</li><li>è‹¥åŒç¬¦å·ä½ä¸º$00$ï¼Œå³$X$ä¸ºæ­£æ•°ï¼Œè®¡ç®—$X+=(-Y)$ï¼ˆç¬¬ä¸€æ¬¡å¿…å®šåšå‡æ³•ï¼‰</li><li>è‹¥åŒç¬¦å·ä½ä¸º$11$ï¼Œå³$X$ä¸ºè´Ÿæ•°ï¼Œè®¡ç®—$X+=Y$</li><li>è‹¥åŒç¬¦å·ä½ä¸º$00$ï¼Œå³$X$ä¸ºæ­£æ•°ï¼Œè¯¥ä½ä¸º$1$</li><li>è‹¥åŒç¬¦å·ä½ä¸º$11$ï¼Œå³$X$ä¸ºè´Ÿæ•°ï¼Œè¯¥ä½ä¸º$0$</li><li>$X$å·¦ç§»ä¸€ä½ï¼Œå³è¾¹è¡¥0</li><li>é‡å¤æ­¥éª¤2-6ï¼Œç›´åˆ°$X$å·¦ç§»$4$ä½ï¼ˆ$Y$çš„ä½æ•°ï¼‰</li><li>å½“å‰çš„ä½™æ•°ä¸º$X\times 2^{-4}$</li></ol><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC33.png" alt="éæ¢å¤ä½™æ•°æ³•"></p><h1>6.4 æµ®ç‚¹è¿ç®—</h1><p><a href="#62-%E5%B0%8F%E6%95%B0%E7%9A%84%E6%B5%AE%E7%82%B9%E8%A1%A8%E7%A4%BA%E5%8E%9F%E7%A0%81%E8%A1%A8%E7%A4%BA">è§„æ ¼åŒ–æµ®ç‚¹æ•°</a></p><h2 id="6-4-1-æµ®ç‚¹åŠ å‡æ³•">6.4.1 æµ®ç‚¹åŠ å‡æ³•</h2><p>ä¾‹ï¼š<br>$$<br>X=2^{E_x}M_x=2^{101}\times 0.11011011 \\<br>Y=2^{E_y}M_y=2^{111}\times-0.10101100<br>$$<br>å°¾æ•°åœ¨è®¡ç®—æœºä¸­ä»¥è¡¥ç è¡¨ç¤ºï¼Œå¯å­˜å‚¨10ä½å°¾æ•°ï¼Œ2ä½ç¬¦å·ä½ï¼Œé˜¶ç ä»¥è¡¥ç è¡¨ç¤ºï¼ŒåŒç¬¦å·ä½, æ±‚$X+Y$</p><h3 id="6-4-1-1-å°†X-Yè½¬åŒ–ä¸ºå¸¦ç¬¦å·çš„æµ®ç‚¹è¡¥ç æ ¼å¼">6.4.1.1 å°†X,Yè½¬åŒ–ä¸ºå¸¦ç¬¦å·çš„æµ®ç‚¹è¡¥ç æ ¼å¼</h3><p>$$<br>X=00101,00.11011011 \\<br>Y=00111,11.01010100(-0.10101100)<br>$$</p><h3 id="6-4-1-2-å¯¹é˜¶">6.4.1.2 å¯¹é˜¶</h3><ul><li>åŸåˆ™ï¼šå°é˜¶å¯¹å¤§é˜¶</li></ul><ol><li>è®¡ç®—$[-E_y]_è¡¥=11001$</li><li>è®¡ç®—é˜¶å·®$E=E_x+(-E_y)=00101+11001=11110=-2(D)&lt;0$</li><li>$X$æ˜¯å°é˜¶ï¼Œ$M_x$å³ç§»$|E|=2$ä½ï¼š$M_x=00.0011011011$ï¼Œ$E=111$</li><li>$X=00111,00.0011011011$</li></ol><h3 id="6-4-1-3-å°¾æ•°æ±‚å’Œ-å·®">6.4.1.3 å°¾æ•°æ±‚å’Œ/å·®</h3><p>$$M=M_x+M_y=00.0011011011+11.01010100=11.1000101011 \\<br>X+Y=00111,11.1000101011<br>$$</p><h3 id="6-4-1-4-ç»“æœè§„æ ¼åŒ–">6.4.1.4 ç»“æœè§„æ ¼åŒ–</h3><ul><li>åŒç¬¦å·ä½ä¸º$11$ï¼Œæ˜¯è´Ÿæ•°ï¼Œè§„æ ¼åŒ–åˆ°å°æ•°ç‚¹åä¸€ä½ä¸º$0$ã€‚ï¼ˆæœ¬é¢˜ä¸­ï¼Œ$M$åŒç¬¦å·ä½ä¸º$11$ï¼‰</li><li>åŒç¬¦å·ä½ä¸º$00$ï¼Œæ˜¯æ­£æ•°ï¼Œè§„æ ¼åŒ–åˆ°å°æ•°ç‚¹åä¸€ä½ä¸º$1$ã€‚</li><li>ç»“æœå·¦ç§»ä¸€ä½å¾—åˆ°ï¼š<br>$$<br>X+Y=00110,11.000101011<br>$$</li><li>å°¾æ•°æº¢å‡ºæ—¶å¯èƒ½éœ€è¦å°¾æ•°å³ç§»</li></ul><h3 id="6-4-1-5-èˆå…¥å¤„ç†">6.4.1.5 èˆå…¥å¤„ç†</h3><ul><li>0èˆ1å…¥ï¼š$X+Y=00111,11.00010110$</li><li>æˆªæ–­ï¼š$X+Y=00111,11.00010101$</li></ul><h3 id="6-4-1-6-å¾—å‡ºç»“æœ">6.4.1.6 å¾—å‡ºç»“æœ</h3><p>$$<br>X+Y=00110,11.00010101 \\<br>=2^{110}\times -0.11101011<br>$$</p><h3 id="6-4-1-7-æº¢å‡ºåˆ¤æ–­">6.4.1.7 æº¢å‡ºåˆ¤æ–­</h3><p>æ ¹æ®é˜¶ç çš„åŒç¬¦å·ä½è¿›è¡Œåˆ¤æ–­ï¼š</p><ul><li>01ï¼šæ­£æº¢å‡º</li><li>10ï¼šè´Ÿæº¢å‡º</li></ul><h2 id="6-4-2-æµ®ç‚¹ä¹˜æ³•-é™¤æ³•">6.4.2 æµ®ç‚¹ä¹˜æ³•/é™¤æ³•</h2><ul><li>ä¹˜æ³•ï¼šå°¾æ•°å®šç‚¹ç›¸ä¹˜ï¼Œé˜¶ç ç›¸åŠ </li><li>é™¤æ³•ï¼šå°¾æ•°å®šç‚¹ç›¸é™¤ï¼Œé˜¶ç ç›¸å‡</li></ul><h1>ä¸ƒã€æŒ‡ä»¤ç³»ç»Ÿ</h1><h1>7.0 åŸºæœ¬æ¦‚å¿µ</h1><ol><li>æŒ‡ä»¤ï¼šè®¡ç®—æœºèƒ½ç›´æ¥è¯†åˆ«ã€æ‰§è¡Œçš„æ“ä½œå‘½ä»¤ï¼ˆæœºå™¨æŒ‡ä»¤ï¼‰ï¼›å†¯è¯ºä¾æ›¼ç»“æ„â€œç¨‹åºæ§åˆ¶â€åŸç†å®ç°çš„è½½ä½“</li><li>æŒ‡ä»¤é›†ï¼šä¸€å°è®¡ç®—æœºèƒ½æ‰§è¡Œçš„å…¨éƒ¨æŒ‡ä»¤çš„é›†åˆ</li><li>ç­‰é•¿æŒ‡ä»¤ï¼ˆMIPSï¼‰/å˜é•¿æŒ‡ä»¤ï¼ˆx86ï¼‰</li><li>æŒ‡ä»¤ç³»ç»Ÿçš„ç‰¹ç‚¹ï¼šå®Œå¤‡ã€é«˜æ•ˆã€è§„æ•´ã€å…¼å®¹</li><li>ä¸ºä»€ä¹ˆè¯´â€œæŒ‡ä»¤ç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿç¡¬ä»¶ä¸è½¯ä»¶ä¹‹é—´çš„ç•Œé¢â€ï¼Ÿ<ul><li>ä»ç¨‹åºçš„ç¼–å†™ä¸æ‰§è¡Œè§’åº¦çœ‹ï¼ŒæŒ‡ä»¤è§„å®šäº†è®¡ç®—æœºçš„æ“ä½œç±»å‹åŠæ“ä½œæ•°åœ°å€ï¼Œå®ƒä»¬æ˜¯äº§ç”Ÿå„ç§æ§åˆ¶ä¿¡å·çš„åŸºç¡€ã€‚</li><li>ä»ç¡¬ä»¶è®¾è®¡è§’åº¦çœ‹ï¼Œåœ¨è®¾è®¡è®¡ç®—æœºçš„æ—¶å€™å…ˆè¦ç¡®å®šç¡¬ä»¶èƒ½å¤Ÿç›´æ¥æ‰§è¡Œå“ªäº›æ“ä½œï¼Œè¡¨ç°ä¸ºä¸€ç»„æŒ‡ä»¤é›†åˆï¼Œç§°ä¹‹ä¸ºè®¡ç®—æœºçš„æŒ‡ä»¤ç³»ç»Ÿã€‚</li><li>å› æ­¤ï¼ŒæŒ‡ä»¤ç³»ç»Ÿä½“ç°äº†ä¸€å°è®¡ç®—æœºçš„è½¯ã€ç¡¬ä»¶ç•Œé¢ã€‚</li></ul></li></ol><h1>7.1 æœºå™¨æŒ‡ä»¤</h1><h2 id="7-1-1-æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼">7.1.1 æŒ‡ä»¤çš„ä¸€èˆ¬æ ¼å¼</h2><p>$æ“ä½œç OP|(å¯»å€æ¨¡å¼Mode)|åœ°å€ç A_1|åœ°å€ç A_2|\cdots$</p><ol><li>æ“ä½œç å­—æ®µï¼šåæ˜ æœºå™¨ï¼ˆå¯¹ä»€ä¹ˆæ•°æ®ï¼‰åšä»€ä¹ˆæ“ä½œ<ol><li><ul><li>å®šé•¿æ“ä½œç ï¼šæ€»æ“ä½œç§ç±»=2^k</li><li>å˜é•¿æ“ä½œç ï¼šæ“ä½œç å‘ä¸ç”¨çš„åœ°å€ç å­—æ®µæ‰©å±•</li></ul></li><li>æ‰©å±•æ“ä½œç æŠ€æœ¯<ul><li>å‡è®¾äºŒæ“ä½œæ•°æŒ‡ä»¤æ ¼å¼ä¸ºï¼š$OP(4)|A_1(6)|A_2(8)$ 15æ¡</li><li>åªä¿ç•™å…¨1ä¸ºé•¿æ“ä½œæ•°çš„é”šç‚¹ï¼Œé‚£ä¹ˆï¼š<ul><li>å•æ“ä½œæ•°æŒ‡ä»¤æ ¼å¼å¯ä»¥ä¸ºï¼š$1111|OP(6)|A_1(8)$ 63æ¡</li><li>æ— æ“ä½œæ•°æŒ‡ä»¤æ ¼å¼å¯ä»¥ä¸ºï¼š$1111|111111|OP(8)$ 256æ¡</li></ul></li><li>åŸåˆ™ï¼šçŸ­æ“ä½œç ä¸èƒ½æ˜¯é•¿æ“ä½œç çš„å‰ç¼€</li><li>å¯ä»¥æ ¹æ®å®é™…æŒ‡ä»¤æ•°é‡ï¼Œé€šè¿‡ä¿ç•™å¤šä¸ªé”šç‚¹ï¼Œè¯†åˆ«æ›´å¤šçš„æ“ä½œç ï¼š<ul><li>å‡è®¾äºŒæ“ä½œæ•°æŒ‡ä»¤æœ‰10æ¡ï¼Œåˆ™å¯ä»¥ä¿ç•™6ä¸ªé”šç‚¹</li><li>å¯ç”¨äºå•æ“ä½œæ•°æŒ‡ä»¤çš„æ¡æ•°å˜ä¸º$6\times 2^6$ æ¡</li><li>æŒ‰éœ€åˆ†é…åå‰©ä¸‹çš„å¯ä»¥ä½œä¸ºæ— æ“ä½œæ•°æŒ‡ä»¤çš„é”šç‚¹</li></ul></li><li>ä¾‹é¢˜ï¼šè®¾æŸæŒ‡ä»¤ç³»ç»ŸæŒ‡ä»¤å­—é•¿16ä½ï¼Œæ¯ä¸ªåœ°å€ç ä¸º6ä½ã€‚è‹¥è¦æ±‚è®¾è®¡äºŒåœ°å€æŒ‡ä»¤15æ¡ã€ä¸€åœ°å€æŒ‡ä»¤34æ¡ï¼Œé—®æœ€å¤šè¿˜å¯è®¾è®¡å¤šå°‘æ¡é›¶åœ°å€æŒ‡ä»¤ï¼Ÿ<ul><li>æŒ‡ä»¤æ ¼å¼ï¼š$OP(4)|A_1(6)|A_2(6)$</li><li>äºŒåœ°å€æŒ‡ä»¤æ¡æ•°15ï¼Œä¿ç•™é”šç‚¹æ•°$2^4-15=1$</li><li>ä¸€åœ°å€æŒ‡ä»¤æ¡æ•°34ï¼Œä¿ç•™é”šç‚¹æ•°$1\times 2^6 - 34 = 30$</li><li>é›¶åœ°å€æŒ‡ä»¤æ¡æ•°ï¼š$30\times 2^6 = 1920$</li></ul></li></ul></li><li>ç»å¸¸ä½¿ç”¨çš„æ“ä½œè®¾è®¡ä¸ºçŸ­æ“ä½œç ï¼Œä¸å¸¸ç”¨çš„è®¾è®¡ä¸ºé•¿æ“ä½œç </li></ol></li><li>æ“ä½œæ•°å­—æ®µï¼ˆåœ°å€ç å­—æ®µï¼‰ï¼š<ul><li>å››åœ°å€æŒ‡ä»¤ï¼ˆ$OP|A_1|A_2|A_3|A_4$ï¼‰ï¼š$(A_1)OP(A_2)\rightarrow A_3$ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤ä½äº$A_4$</li><li>ä¸‰åœ°å€æŒ‡ä»¤ï¼ˆ$OP|A_1|A_2|A_3$ï¼‰ï¼š$(A_1)OP(A_2)\rightarrow A_3$ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤ä½äº$PC+1$ï¼ˆåˆ©ç”¨$PC$ä»£æ›¿$A_4$ï¼‰</li><li>äºŒåœ°å€æŒ‡ä»¤ï¼ˆ$OP|A_1|A_2$ï¼‰ï¼š$(A_1)OP(A_2)\rightarrow AC$ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤ä½äº$PC+1$ï¼ˆåˆ©ç”¨$AC$ä»£æ›¿$A_3$ï¼‰</li><li>ä¸€åœ°å€æŒ‡ä»¤ï¼ˆ$OP|A_1$ï¼‰ï¼š$(A_1)OP(AC)\rightarrow AC$ï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤ä½äº$PC+1$ï¼ˆåˆ©ç”¨$AC$ä»£æ›¿$A_2,A_3$ï¼‰</li><li>é›¶åœ°å€æŒ‡ä»¤ï¼ˆ$OP$ï¼‰ï¼šåŸºæœ¬çš„æ— æ“ä½œæ•°æ“ä½œæŒ‡ä»¤ï¼Œå¦‚ç©ºæ“ä½œã€åœæœºã€ä¸­æ–­ã€è¿”å›ç­‰</li><li>è®¿å­˜æ¬¡æ•°ï¼šå–æŒ‡ä»¤1æ¬¡+è¯»å–æ“ä½œæ•°æ¬¡æ•°+å­˜ç»“æœåˆ°æ“ä½œæ•°æ¬¡æ•°ï¼ˆè‹¥å­˜å…¥ACåˆ™ä¸è®¡ï¼‰</li><li>ç›´æ¥å¯»å€èŒƒå›´ï¼š$2^k$ï¼Œkæ˜¯å•ä¸ªåœ°å€ç ä½æ•°</li><li>å‡å°‘æ“ä½œæ•°ä¸ªæ•°çš„ä¼˜ç‚¹ï¼š<ol><li>åˆ©ç”¨ç¡¬ä»¶èµ„æºä»£æ›¿åœ°å€ç å­—æ®µ</li><li>æ‰©å¤§æŒ‡ä»¤çš„å¯»å€èŒƒå›´</li><li>ç¼©çŸ­æŒ‡ä»¤å­—é•¿</li></ol></li></ul></li></ol><h2 id="7-1-2-æŒ‡ä»¤å­—é•¿">7.1.2 æŒ‡ä»¤å­—é•¿</h2><ol><li>æŒ‡ä»¤å­—é•¿å†³å®šäºï¼š</li></ol><ul><li>æ“ä½œç çš„é•¿åº¦</li><li>æ“ä½œæ•°åœ°å€çš„é•¿åº¦</li><li>æ“ä½œæ•°çš„ä¸ªæ•°</li></ul><ol start="2"><li><ul><li>å®šé•¿æŒ‡ä»¤ï¼šæŒ‡ä»¤å­—é•¿=å­˜å‚¨å­—é•¿</li><li>å˜é•¿æŒ‡ä»¤ï¼šé€šå¸¸æŒ‰å­—èŠ‚çš„å€æ•°å­˜å‚¨</li></ul></li></ol><h1>7.2* æ“ä½œæ•°ç±»å‹å’Œæ“ä½œç±»å‹</h1><h2 id="7-2-1-æ“ä½œæ•°ç±»å‹">7.2.1 æ“ä½œæ•°ç±»å‹</h2><ol><li>åœ°å€ï¼šç”¨äºè¡¨ç¤ºåœ°å€çš„æ— ç¬¦å·æ•´æ•°</li><li>æ•°å­—ï¼šå®šç‚¹æ•°ã€æµ®ç‚¹æ•°ã€åè¿›åˆ¶æ•°</li><li>å­—ç¬¦ï¼šASCII</li><li>é€»è¾‘ï¼šé€»è¾‘æ•°æ®/è¿ç®—</li></ol><h2 id="7-2-2-æ•°æ®åœ¨å­˜å‚¨å™¨ä¸­çš„å­˜å‚¨æ–¹å¼">7.2.2 æ•°æ®åœ¨å­˜å‚¨å™¨ä¸­çš„å­˜å‚¨æ–¹å¼</h2><ul><li>è¾¹ç•Œå¯¹é½/è¾¹ç•Œä¸å¯¹é½</li><li>å¤§ç«¯å­˜å‚¨/å°ç«¯å­˜å‚¨</li></ul><h2 id="7-2-3-æ“ä½œç±»å‹">7.2.3 æ“ä½œç±»å‹</h2><p>1.æ•°æ®ä¼ é€ 2.ç®—æœ¯/é€»è¾‘è¿ç®— 3.ç§»ä½è¿ç®— 4.æ§åˆ¶è½¬ç§»</p><h1>7.3 å¯»å€æ–¹å¼</h1><h2 id="7-3-1-æŒ‡ä»¤å¯»å€">7.3.1 æŒ‡ä»¤å¯»å€</h2><ol><li>é¡ºåºå¯»å€ï¼šé€šè¿‡ç¨‹åºè®¡æ•°å™¨PC+æŒ‡ä»¤å ç”¨å­—èŠ‚æ•°ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€<ul><li>PCçš„å˜åŒ–æ—¶æœºï¼šæ¯å½“CPUä»å­˜å‚¨å™¨ä¸­è¯»å–å‡ºä¸€ä¸ªå­—èŠ‚æ—¶ï¼ŒPC+1</li></ul></li><li>è·³è·ƒå¯»å€ï¼šé€šè¿‡æŒ‡ä»¤ä¸­çš„è½¬ç§»ç±»æ“ä½œï¼Œè·³è½¬åˆ°æŒ‡å®šåœ°å€</li></ol><h2 id="7-3-2-æ•°æ®å¯»å€">7.3.2 æ•°æ®å¯»å€</h2><p>$æ“ä½œç OP|(å¯»å€æ¨¡å¼Mode)|åœ°å€ç A_1|åœ°å€ç A_2|\cdots$</p><p>è®°ï¼šå½¢å¼åœ°å€$D$/å¯„å­˜å™¨åœ°å€$R$ã€å®é™…åœ°å€$E$ã€å®é™…æ“ä½œæ•°$S$ã€åŸºå€/å˜å€å¯„å­˜å™¨$B$ã€è§£åœ°å€ç¬¦å·$()$</p><ol><li>éšå«å¯»å€ï¼šæ“ä½œæ•°åœ°å€éšå«åœ¨æ“ä½œç æˆ–å¯„å­˜å™¨ä¸­ï¼ˆæœ‰åˆ©äºå‡å°‘æŒ‡ä»¤å­—é•¿ï¼‰</li><li>ç«‹å³å¯»å€ï¼šæ“ä½œæ•°ç›´æ¥åœ¨æŒ‡ä»¤ä¸­ç»™å‡ºï¼ˆè¡¥ç ï¼Œå½¢å¼åœ°å€ä½æ•°é™åˆ¶äº†èŒƒå›´ï¼‰$S=D$</li><li>ç›´æ¥å¯»å€ï¼šæ“ä½œæ•°åœ¨å­˜å‚¨å™¨ä¸­ï¼Œåœ°å€ç åœ¨æŒ‡ä»¤ä¸­ç»™å‡º $E=D$</li><li>å¯„å­˜å™¨å¯»å€ï¼šæ“ä½œæ•°åœ¨å¯„å­˜å™¨ä¸­ï¼Œå¯„å­˜å™¨ç¼–å·åœ¨æŒ‡ä»¤ä¸­ç»™å‡º $E=R$</li><li>é—´æ¥å¯»å€ï¼šåœ°å€ç æŒ‡å‘çš„å­˜å‚¨å™¨ä¸­å­˜æ”¾çš„åœ°å€æ˜¯æ“ä½œæ•°çš„åœ°å€ï¼ˆäºŒçº§æŒ‡é’ˆï¼‰$E=(D),S=((D))$<ul><li>ä¼˜ç‚¹ï¼šå‡å°‘æŒ‡ä»¤å­—é•¿ï¼Œå¢åŠ å¯»å€èŒƒå›´ï¼Œæ–¹ä¾¿ç¼–ç¨‹</li><li>ç¼ºç‚¹ï¼šä¸¤æ¬¡è®¿å­˜ï¼Œé€Ÿåº¦æ…¢ï¼Œå·²æ·˜æ±°</li></ul></li><li>å¯„å­˜å™¨é—´æ¥å¯»å€ï¼šåœ°å€ç ï¼ˆå¯„å­˜å™¨ç¼–å·ï¼‰æŒ‡å‘çš„å¯„å­˜å™¨ä¸­å­˜æ”¾çš„åœ°å€æ˜¯æ“ä½œæ•°åœ°å€ï¼ˆåº”ç”¨å¹¿æ³›ï¼‰$E=Â®$</li><li>ç›¸å¯¹å¯»å€ï¼šæ“ä½œæ•°åœ°å€=PC+åç§»é‡ $E=D+(PC)$</li><li>åŸºå€/å˜å€å¯»å€ï¼šæ“ä½œæ•°åœ°å€=åŸºå€/å˜å€+åç§»é‡ï¼ˆå¯ä»¥æŒ‡å®šé€šç”¨å¯„å­˜å™¨ä½œä¸ºåŸºå€/å˜å€å¯„å­˜å™¨ï¼‰$E=D+(B)$</li><li>å †æ ˆå¯»å€ï¼šæ“ä½œæ•°åœ°å€=æ ˆé¡¶æŒ‡é’ˆå¯„å­˜å™¨SP<ul><li>å…¥æ ˆï¼šSP-1ï¼ˆä¸Šç§»ï¼‰ï¼Œå­˜å…¥æ•°æ®</li><li>å‡ºæ ˆï¼šå–å‡ºæ•°æ®ï¼ŒSP+1ï¼ˆä¸‹ç§»ï¼‰</li><li>å•æ¬¡å˜åŒ–é‡å–å†³äºä¸»å­˜ç¼–å€æ–¹å¼ï¼š<ul><li>æŒ‰å­—ç¼–å€ï¼š$SP\pm 1$</li><li>æŒ‰å­—èŠ‚ç¼–å€å­˜å‚¨å­—é•¿32ä½ï¼š$SP\pm 4(32/8)$</li></ul></li></ul></li></ol><h1>7.4 æŒ‡ä»¤æ ¼å¼åˆ†æä¸è®¾è®¡</h1><h2 id="7-4-1-æŒ‡ä»¤æ ¼å¼åˆ†æ">7.4.1 æŒ‡ä»¤æ ¼å¼åˆ†æ</h2><p>ä¾‹ï¼š$OP(15-12)|Mode(11-9)|Reg(8-6)|Mode(5-3)|Reg(2-0)$</p><ol><li>äºŒåœ°å€æŒ‡ä»¤</li><li>æ“ä½œç ï¼šæœ€å¤šæ”¯æŒ16ç§æŒ‡ä»¤</li><li>å¯»å€æ–¹å¼ï¼šæºæ•°æ®å’Œç›®çš„æ•°æ®éƒ½æœ€å¤šæ”¯æŒ8ç§å¯»å€æ–¹å¼</li><li>å¯„å­˜å™¨ä¸ªæ•°ï¼šæºåœ°å€å’Œç›®çš„åœ°å€éƒ½æœ€å¤šæ”¯æŒ8ä¸ªå¯„å­˜å™¨</li><li>å¯å¯»å€èŒƒå›´ï¼š<ul><li>ç›´æ¥å¯»å€èŒƒå›´ï¼š$2^3=8$ï¼ˆå¯„å­˜å™¨åœ°å€ï¼‰</li><li>é—´æ¥å¯»å€èŒƒå›´ï¼šé»˜è®¤å­˜å‚¨å­—é•¿=æŒ‡ä»¤å­—é•¿ï¼Œ$2^{16}=64K$ï¼ˆå­˜å‚¨å™¨åœ°å€ï¼‰</li></ul></li></ol><h1>7.5 RISC/CISC</h1><ul><li>CISCï¼šå¤æ‚æŒ‡ä»¤é›†è®¡ç®—æœºï¼ˆComplex Instruction Set Computerï¼‰</li><li>RISCï¼šç²¾ç®€æŒ‡ä»¤é›†è®¡ç®—æœºï¼ˆReduced Instruction Set Computerï¼‰</li><li>80-20è§„å¾‹ï¼šç»å…¸ç¨‹åºä¸­80%çš„æŒ‡ä»¤åªä½¿ç”¨äº†å¤„ç†æœºæŒ‡ä»¤é›†20%çš„æŒ‡ä»¤</li></ul><table><thead><tr><th></th><th>CISC</th><th>RISC</th></tr></thead><tbody><tr><td>æŒ‡ä»¤ç³»ç»Ÿ</td><td>å¤æ‚ã€åºå¤§</td><td>ç®€å•ã€ç²¾ç®€</td></tr><tr><td>æŒ‡ä»¤æ•°ç›®</td><td>ä¸€èˆ¬&gt;200</td><td>ä¸€èˆ¬&lt;100</td></tr><tr><td>æŒ‡ä»¤å­—é•¿</td><td>å˜é•¿</td><td>å®šé•¿</td></tr><tr><td>å¯»å€æ–¹å¼</td><td>å¤š</td><td>å°‘</td></tr><tr><td>è®¿å­˜æŒ‡ä»¤</td><td>ä¸é™</td><td>åªæœ‰LOAD/STORE</td></tr><tr><td>å•æ¡æŒ‡ä»¤æ‰§è¡Œæ—¶é—´</td><td>ç›¸å·®è¾ƒå¤§</td><td>å¤šæ•°åœ¨ä¸€ä¸ªå‘¨æœŸå†…</td></tr><tr><td>å„æŒ‡ä»¤ä½¿ç”¨é¢‘åº¦</td><td>ç›¸å·®è¾ƒå¤§</td><td>éƒ½è¾ƒå¸¸ç”¨</td></tr><tr><td>é€šç”¨å¯„å­˜å™¨æ•°é‡</td><td>è¾ƒå°‘</td><td>å¤š</td></tr><tr><td>ç›®æ ‡ä»£ç </td><td>éš¾ä»¥ä¼˜åŒ–</td><td>ä¼˜åŒ–ç¼–è¯‘ç”Ÿæˆé«˜æ•ˆä»£ç </td></tr><tr><td>æ§åˆ¶æ–¹å¼</td><td>å¤§å¤šä¸ºå¾®ç¨‹åºæ§åˆ¶</td><td>å¤§å¤šä¸ºç¡¬å¸ƒçº¿æ§åˆ¶</td></tr></tbody></table><h1>å…«ã€CPUçš„ç»“æ„å’ŒåŠŸèƒ½</h1><h1>8.0 åŸºæœ¬æ¦‚å¿µ</h1><ol><li>CPUçš„åŠŸèƒ½ï¼ˆæ§åˆ¶å™¨ï¼š1~4ï¼ŒALUï¼š5ï¼‰<ol><li>ç¨‹åºæ§åˆ¶ï¼šæ§åˆ¶ç¨‹åºçš„é¡ºåºæ‰§è¡Œ</li><li>æ“ä½œæ§åˆ¶ï¼šäº§ç”Ÿå®Œæˆæ¯æ¡æŒ‡ä»¤æ‰€éœ€çš„æ§åˆ¶å‘½ä»¤</li><li>æ—¶åºæ§åˆ¶ï¼šå¯¹å„ç§æ“ä½œå®æ–½æ—¶é—´ä¸Šçš„æ§åˆ¶</li><li>å¼‚å¸¸æ§åˆ¶ï¼šå¤„ç†ä¸­æ–­</li><li>æ•°æ®åŠ å·¥ï¼šå¯¹æ•°æ®è¿›è¡Œç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—</li></ol></li><li>CPUçš„ç»„æˆï¼š<ol><li>ä¸“ç”¨å¯„å­˜å™¨ä»¥åŠé€šç”¨å¯„å­˜å™¨:ç¨‹åºæ§åˆ¶å…ƒç”Ÿæˆå„ç§å¾®æ“ä½œå‘½ä»¤åºåˆ—</li><li>ç®—æœ¯é€»è¾‘å•å…ƒALUï¼šè¿›è¡Œç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—</li><li>æ§åˆ¶å™¨ï¼šä¸­æ–­ç³»ç»Ÿç”¨äºå¤„ç†å„ç§ä¸­æ–­</li></ol></li><li>æ•°æ®é€šè·¯åˆ†ä¸ºï¼šå…±äº«é€šè·¯ï¼ˆæ€»çº¿å‹ï¼‰ã€ä¸“ç”¨é€šè·¯ï¼ˆçœ‹ä½œå¤šæ€»çº¿å‹ï¼‰</li></ol><h1>8.1 CPUçš„ç»“æ„</h1><ol><li>å¯„å­˜å™¨</li><li>ALU</li><li>æ§åˆ¶å•å…ƒå’Œä¸­æ–­ç³»ç»Ÿ<ul><li>æ§åˆ¶å™¨çš„åŸºæœ¬åŠŸèƒ½ï¼šå–æŒ‡ä»¤ã€åˆ†ææŒ‡ä»¤ã€æ‰§è¡ŒæŒ‡ä»¤</li></ul></li></ol><h1>8.2 æŒ‡ä»¤å‘¨æœŸ</h1><p>æŒ‡ä»¤å‘¨æœŸï¼šå»é™¤å¹¶æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€è¦çš„å…¨éƒ¨æ—¶é—´</p><ol><li>å–å€å‘¨æœŸï¼šå–æŒ‡ä»¤çš„æ—¶é—´</li><li>é—´å€å‘¨æœŸï¼šç”¨äºé—´å€å¯»å€å–æ“ä½œæ•°</li><li>æ‰§è¡Œå‘¨æœŸï¼šæ‰§è¡ŒæŒ‡ä»¤ï¼Œå­˜å–æ“ä½œæ•°å’Œç»“æœçš„æ—¶é—´</li><li>ä¸­æ–­å‘¨æœŸï¼šCPUé‡‡ç”¨ä¸­æ–­æ–¹å¼å®ç°ä¸»æœºå’ŒI/Oè®¾å¤‡çš„é€šä¿¡æ—¶ï¼Œå‘é€ä¸­æ–­ä¿¡å·çš„æ—¶é—´</li></ol><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC34.png" alt="æŒ‡ä»¤å‘¨æœŸ"></p><ul><li>æé«˜æœºå™¨é€Ÿåº¦çš„æ–¹æ³•<ol><li>æé«˜è®¿å­˜é€Ÿåº¦ï¼šé«˜é€ŸèŠ¯ç‰‡ã€Cacheã€å¤šä½“å¹¶è¡Œ</li><li>æé«˜I/Oå’Œä¸»æœºä¹‹é—´çš„ä¼ è¾“é€Ÿåº¦ï¼šä¸­æ–­ã€DMAã€I/Oå¤„ç†æœºã€å¤šæ€»çº¿</li><li>æé«˜CPUçš„è¿ç®—é€Ÿåº¦ï¼šé«˜é€ŸèŠ¯ç‰‡ã€æ”¹è¿›ç®—æ³•ã€å¿«é€Ÿè¿›ä½é“¾</li></ol></li></ul><h1>8.3 æŒ‡ä»¤æµæ°´çº¿</h1><p>æŒ‡ä»¤æµæ°´çº¿ï¼šå°†æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œä½¿å¤šæ¡æŒ‡ä»¤åœ¨ä¸åŒé˜¶æ®µåŒæ—¶æ‰§è¡Œï¼ˆå¹¶è¡Œæ€§ï¼‰</p><h2 id="8-3-1-å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ ">8.3.1 å½±å“æµæ°´çº¿æ€§èƒ½çš„å› ç´ </h2><ol><li>ç»“æ„ç›¸å…³ï¼šä¸åŒæŒ‡ä»¤äº‰ç”¨åŒä¸€åŠŸèƒ½éƒ¨ä»¶äº§ç”Ÿèµ„æºå†²çª</li><li>æ•°æ®ç›¸å…³ï¼šä¸åŒæŒ‡ä»¤å› é‡å æ“ä½œï¼Œå¯èƒ½æ”¹å˜æ“ä½œæ•°çš„è¯»/å†™è®¿é—®é¡ºåº<ul><li>è¯»åå†™/å†™åè¯»/å†™åå†™</li></ul></li><li>æ§åˆ¶ç›¸å…³ï¼šåˆ†æ”¯æŒ‡ä»¤çš„æ‰§è¡Œå¯èƒ½æ”¹å˜ç¨‹åºè®¡æ•°å™¨çš„å€¼ï¼Œå¯¼è‡´æµæ°´çº¿ä¸­çš„å…¶ä»–æŒ‡ä»¤å¤±æ•ˆ</li></ol><h2 id="8-3-2-æµæ°´çº¿æ€§èƒ½">8.3.2 æµæ°´çº¿æ€§èƒ½</h2><ol><li>ååç‡$T_p$ï¼šå•ä½æ—¶é—´å†…å®Œæˆçš„æŒ‡ä»¤æ•°/è¾“å‡ºç»“æœçš„æ•°é‡<ul><li>è®¾$m$æ®µæµæ°´çº¿çš„å„æ®µæ—¶é—´ä¸º$\Delta t$</li><li>æœ€å¤§ååç‡ï¼š$\dfrac{1}{\Delta t}$</li><li>å®é™…ååç‡ï¼šè¿ç»­å¤„ç†$n$æ¡æŒ‡ä»¤çš„ååç‡ï¼š$\dfrac{n}{(m+n-1)\Delta t}$</li></ul></li><li>åŠ é€Ÿæ¯”$S_p$ï¼šæµæ°´çº¿å¤„ç†é€Ÿåº¦ä¸éæµæ°´çº¿å¤„ç†é€Ÿåº¦çš„æ¯”å€¼<ul><li>åŠ é€Ÿæ¯”=åŸå¤„ç†æ—¶é—´/æµæ°´çº¿å¤„ç†æ—¶é—´&gt;1</li><li>è¿ç»­å¤„ç†$n$æ¡æŒ‡ä»¤çš„åŠ é€Ÿæ¯”ï¼š$S_p=\dfrac{nm\Delta t}{(m+n-1)\Delta t}=\dfrac{mn}{m+n-1}$</li></ul></li><li>æ•ˆç‡$E_p$ï¼šæµæ°´çº¿ä¸­å„åŠŸèƒ½æ®µçš„åˆ©ç”¨ç‡<ul><li>ç”±äºæµæ°´çº¿æœ‰å»ºç«‹æ—¶é—´å’Œæ’ç©ºæ—¶é—´ ï¼Œå› æ­¤å„åŠŸèƒ½æ®µçš„è®¾å¤‡ä¸å¯èƒ½ä¸€ç›´å¤„äºå·¥ä½œçŠ¶æ€</li><li>$E_p=\dfrac{å®é™…å·¥ä½œçš„æ—¶ç©ºåŒºåŸŸ}{æ€»æ—¶ç©ºåŒºåŸŸ}=\dfrac{n}{m+n-1}$</li></ul></li></ol><h2 id="8-3-3-æµæ°´çº¿çš„å¤šå‘æŠ€æœ¯">8.3.3 æµæ°´çº¿çš„å¤šå‘æŠ€æœ¯</h2><ol><li>è¶…æ ‡é‡æŠ€æœ¯ï¼šå¤šä¸ªæµæ°´çº¿å¹¶è¡Œæ‰§è¡Œå¤šæ¡æŒ‡ä»¤</li><li>è¶…æµæ°´çº¿æŠ€æœ¯ï¼šå°†æµæ°´çº¿åˆ†ä¸ºå¤šä¸ªè¾ƒçŸ­çš„æ®µï¼Œæé«˜ååç‡</li><li>è¶…é•¿æŒ‡ä»¤å­—æŠ€æœ¯VLIWï¼šå°†å¤šæ¡èƒ½å¤Ÿå¹¶è¡Œæ“ä½œçš„æŒ‡ä»¤ç»„åˆæˆä¸€æ¡æŒ‡ä»¤ï¼Œæé«˜ååç‡</li></ol><h2 id="8-3-4-æµæ°´çº¿ç»“æ„">8.3.4 æµæ°´çº¿ç»“æ„</h2><ol><li>æŒ‡ä»¤æµæ°´çº¿ï¼šå–æŒ‡ä»¤ã€æŒ‡ä»¤è¯‘ç ã€åœ°å€å½¢æˆã€å–æ“ä½œæ•°ã€æ“ä½œæ‰§è¡Œã€å†™å›ç»“æœ</li><li>è¿ç®—æµæ°´çº¿ï¼ˆæµ®ç‚¹æ•°ï¼‰ï¼šå¯¹é˜¶åŠŸèƒ½ã€å°¾æ•°ç›¸åŠ ã€è§„æ ¼åŒ–</li></ol><h1>8.4 æŒ‡ä»¤å‘¨æœŸä¸æ—¶åº</h1><ul><li>æ—¶é’Ÿå‘¨æœŸ=èŠ‚æ‹è„‰å†²=éœ‡è¡å‘¨æœŸï¼šå®Œæˆä¸€æ¬¡å¾®æ“ä½œçš„æ—¶é—´</li><li>æœºå™¨å‘¨æœŸ=CPUå‘¨æœŸï¼šä»ä¸»å­˜è¯»å‡ºä¸€æ¡æŒ‡ä»¤çš„<strong>æœ€çŸ­æ—¶é—´</strong></li><li>æŒ‡ä»¤å‘¨æœŸï¼šä»ä¸»å­˜å–ä¸€æ¡æŒ‡ä»¤åˆ°æ‰§è¡Œå®Œæ¯•çš„æ—¶é—´</li></ul><p><img src="https://source.cclmsy.cc/Images/Posts/PoCC/PoCC35.png" alt="æ—¶åº"></p><h1>8.5 æ§åˆ¶å™¨è®¾è®¡</h1><table><thead><tr><th></th><th>ç¡¬å¸ƒçº¿æ§åˆ¶å™¨</th><th>å¾®ç¨‹åºæ§åˆ¶å™¨</th></tr></thead><tbody><tr><td>é€»è¾‘</td><td>åŒæ­¥é€»è¾‘</td><td>å­˜å‚¨é€»è¾‘</td></tr><tr><td>ç‰¹ç‚¹</td><td>ç¹ã€å¿«ã€è´µ</td><td>ç®€ã€æ…¢ã€å»‰</td></tr><tr><td>æ›´æ”¹</td><td>éš¾</td><td>æ˜“</td></tr></tbody></table><h2 id="8-5-1-ç¡¬å¸ƒçº¿æ§åˆ¶å™¨">8.5.1 ç¡¬å¸ƒçº¿æ§åˆ¶å™¨</h2><ol><li>è®¾è®¡æ—¶åºäº§ç”Ÿå™¨ï¼šæ ¹æ®å›ºå®šæœºå™¨å‘¨æœŸã€èŠ‚æ‹æ•°å›ºå®šæ„å»ºçŠ¶æ€å›¾</li><li>ç”»å‡ºæŒ‡ä»¤å‘¨æœŸæµç¨‹å›¾</li><li>æ‰¾æ§åˆ¶ä¿¡å·äº§ç”Ÿæ¡ä»¶</li><li>å†™å‡ºé€»è¾‘è¡¨è¾¾å¼</li><li>åŒ–ç®€è¡¨è¾¾å¼</li><li>åˆ©ç”¨ç»„åˆé€»è¾‘ç”µè·¯å®ç°</li></ol><p>ä¼˜åŒ–ï¼šæœ‰é™çŠ¶æ€æœºã€å¼‚æ­¥æ§åˆ¶</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>ç»“æ„å¤æ‚ã€æ— è§„åˆ™</li><li>è®¾è®¡å’Œè°ƒè¯•å›°éš¾</li><li>ä¸å¯æ”¹å˜æŒ‡ä»¤ç³»ç»Ÿå’ŒåŠŸèƒ½</li><li>é€Ÿåº¦å¿«ã€æˆæœ¬é«˜</li></ul><h2 id="8-5-2-å¾®ç¨‹åºæ§åˆ¶å™¨">8.5.2 å¾®ç¨‹åºæ§åˆ¶å™¨</h2><p>ï¼ˆè®¡ç»„å®éªŒç›¸å…³ï¼‰</p>]]></content>
    
    
    <summary type="html">ä¸€é—¨æ•™ä½ æ‰‹æ“è®¡ç®—æœºçš„å¥‡å¦™å­¦ç§‘</summary>
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://www.cclmsy.cc/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="ç¬”è®°" scheme="https://www.cclmsy.cc/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>é¢˜è§£|2024ç‰›å®¢å¯’å‡06</title>
    <link href="https://www.cclmsy.cc/posts/ACM_2024Winter_NCD06.html"/>
    <id>https://www.cclmsy.cc/posts/ACM_2024Winter_NCD06.html</id>
    <published>2024-02-22T16:00:00.000Z</published>
    <updated>2024-07-30T07:52:14.301Z</updated>
    
    <content type="html"><![CDATA[<h1>A.å®‡å®™çš„ç»ˆç»“</h1><p><strong>1ç­¾</strong></p><h2 id="é¢˜æ„">é¢˜æ„</h2><p>åœ¨$[1,100]$ä¸­ç»™å®šçš„æŸä¸ªåŒºé—´å†…æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼Œå®ƒæ˜¯$3$ä¸ªä¸åŒç´ æ•°çš„ç§¯ã€‚</p><h2 id="è§£é¢˜æ€è·¯">è§£é¢˜æ€è·¯</h2><p>æ‰“å‡º$100$ä»¥å†…ç´ æ•°è¡¨ï¼Œç„¶åæš´åŠ›æšä¸¾åˆ¤å®šã€‚</p><p>æ‰‹ç®—ä¹Ÿè¡Œï¼Œ$100$ä»¥å†…ç­”æ¡ˆåªæœ‰$30,42,66,70,78$ã€‚</p><h2 id="å‚è€ƒç¨‹åº">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;ll&gt; phi=&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">37</span>,<span class="number">41</span>,<span class="number">43</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">59</span>,<span class="number">61</span>,<span class="number">67</span>,<span class="number">71</span>,<span class="number">73</span>,<span class="number">79</span>,<span class="number">83</span>,<span class="number">89</span>,<span class="number">97</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">pend</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;p:phi)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x%p==<span class="number">0</span>) &#123; cnt++; x/=p; &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt&gt;=<span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;<span class="keyword">if</span>(x==<span class="number">1</span>&amp;&amp;cnt==<span class="number">3</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll l,r;cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,l,r) <span class="keyword">if</span>(<span class="built_in">pend</span>(i)) &#123;cout &lt;&lt; i &lt;&lt; endl;<span class="keyword">return</span>;&#125; </span><br><span class="line">    cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;ll&gt; ans=&#123;<span class="number">30</span>,<span class="number">42</span>,<span class="number">66</span>,<span class="number">70</span>,<span class="number">78</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll l,r;cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:ans) <span class="keyword">if</span>(x&gt;=l&amp;&amp;x&lt;=r) &#123;cout &lt;&lt; x &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;-1&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>B.çˆ±æ¨çš„çº è‘›</h1><p><strong>æ€ç»´</strong></p><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®š$2$ä¸ªé•¿åº¦ä¸º$n$çš„æ•°ç»„$a,b$ã€‚è°ƒæ•´$a$æ•°ç»„ä½¿å¾—$|a_i-b_i|$çš„æœ€å°å€¼æœ€å°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-2">è§£é¢˜æ€è·¯</h2><p>åœ¨$a,b$ä¸­åˆ†åˆ«æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼Œå®ƒä»¬çš„å·®çš„ç»å¯¹å€¼æœ€å°ã€‚</p><p>å¯¹æ•°ç»„$a$æ’åºï¼Œåœ¨æ•°ç»„$a$ä¸­äºŒåˆ†æŸ¥æ‰¾$b_i$çš„æœ€è¿‘é‚»ï¼Œè®°å½•å·®çš„ç»å¯¹å€¼æœ€å°çš„ä¸€å¯¹çš„ä¸‹æ ‡$i,j$ï¼Œæœ€åæŠŠ$a_i$å’Œ$a_j$äº¤æ¢ä½¿è¿™ä¸€å¯¹åœ¨åŒä¸€ä½ç½®ã€‚</p><h2 id="å‚è€ƒç¨‹åº-2">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,t;cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">a</span><span class="params">(n)</span>,<span class="title">b</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) cin &gt;&gt; b[i];</span><br><span class="line">    <span class="built_in">SORT</span>(a);</span><br><span class="line">    ll mindif=INF,idxa=<span class="number">-1</span>,idxb=<span class="number">-1</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> it=<span class="built_in">upper_bound</span>(<span class="built_in">ALL</span>(a),b[i]);</span><br><span class="line">        <span class="keyword">if</span>(it!=a.<span class="built_in">end</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            t=<span class="built_in">abs</span>(b[i]-*it);</span><br><span class="line">            <span class="keyword">if</span>(t&lt;mindif)</span><br><span class="line">            &#123;</span><br><span class="line">                mindif=t;</span><br><span class="line">                idxa=i;</span><br><span class="line">                idxb=it-a.<span class="built_in">begin</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(it!=a.<span class="built_in">begin</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            it--;</span><br><span class="line">            t=<span class="built_in">abs</span>(b[i]-*it);</span><br><span class="line">            <span class="keyword">if</span>(t&lt;mindif)</span><br><span class="line">            &#123;</span><br><span class="line">                mindif=t;</span><br><span class="line">                idxa=i;</span><br><span class="line">                idxb=it-a.<span class="built_in">begin</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">swap</span>(a[idxa],a[idxb]);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) cout &lt;&lt; a[i] &lt;&lt; <span class="built_in">Presentation</span>(i,n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>C.å¿ƒç»ªçš„è§£å‰–</h1><p><strong>æ€ç»´</strong></p><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªæ•°$x$ï¼Œé—®$x$æ˜¯å¦å¯ä»¥è¡¨ç¤ºä¸º$3$ä¸ªæ–æ³¢é‚£å¥‘æ•°ä¹‹å’Œã€‚<br>å…¶ä¸­ï¼Œæ–æ³¢é‚£å¥‘æ•°æŒ‡çš„æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—$0,1,1,2,3,5\cdots$ ä¸­çš„æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-3">è§£é¢˜æ€è·¯</h2><p>é¢„å¤„ç†$N$ä»¥å†…æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæ¯æ¬¡äºŒåˆ†æ‰¾åˆ°æ°å°äºç­‰äº$x$çš„æ•°ï¼Œç„¶å$x$å‡å»è¿™ä¸ªæ•°ã€‚<br>ä¸‰æ¬¡ä¹‹åï¼Œå¦‚æœ$x$ä¸º$0$ï¼Œåˆ™å¯ä»¥è¡¨ç¤ºã€‚</p><h2 id="å‚è€ƒç¨‹åº-3">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">preFeb</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Feb.<span class="built_in">pb</span>(<span class="number">0</span>);</span><br><span class="line">    Feb.<span class="built_in">pb</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(Feb.<span class="built_in">back</span>()&lt;=<span class="number">1e10</span>)&#123;</span><br><span class="line">        Feb.<span class="built_in">pb</span>(Feb[Feb.<span class="built_in">size</span>()<span class="number">-1</span>]+Feb[Feb.<span class="built_in">size</span>()<span class="number">-2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll x;cin &gt;&gt; x;</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">ans</span><span class="params">(<span class="number">3</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">auto</span> it = --<span class="built_in">upper_bound</span>(<span class="built_in">ALL</span>(Feb),x);</span><br><span class="line">        ans[i] = *it;</span><br><span class="line">        x -= *it;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x) cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; ans[<span class="number">0</span>] &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; ans[<span class="number">1</span>] &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; ans[<span class="number">2</span>] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>D.å‹è°Šçš„å¥—è·¯</h1><p><strong>2ç­¾</strong></p><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>åœ¨äº”å±€ä¸‰èƒœçš„æ¸¸æˆä¸­ï¼Œä¸€æ–¹å…ˆèƒœ$2$åœºï¼Œå¦ä¸€æ–¹å†èƒœ$3$åœºé€†è¢­ï¼Œè¿™ç§æƒ…å†µå«åšâ€œè®©äºŒè¿½ä¸‰â€ã€‚<br>å·²çŸ¥å°çº¢çš„èƒœç‡ä¸º$p$ï¼Œæ±‚è®©äºŒè¿½ä¸‰çš„æ¦‚ç‡ã€‚</p><h2 id="è§£é¢˜æ€è·¯-4">è§£é¢˜æ€è·¯</h2><p>åˆ†å°çº¢è®©äºŒè¿½ä¸‰å’Œå°çº¢è¢«è®©äºŒè¿½ä¸‰ä¸¤ç§æƒ…å†µã€‚</p><h2 id="å‚è€ƒç¨‹åº-4">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ld p;cin &gt;&gt; p;</span><br><span class="line">    ld np=<span class="number">1</span>-p;</span><br><span class="line">    ld ans=p*p*np*np*np+np*np*p*p*p;</span><br><span class="line">    cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">10</span>) &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>E.æœªæ¥çš„é¢„è¨€</h1><p><strong>æ€ç»´</strong></p><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªå½¢å¦‚â€œBOxâ€çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¿›è¡Œ$x$å±€çš„æ¸¸æˆï¼ˆ$x$ä¸ºå¥‡æ•°ï¼‰ï¼Œèµ¢å¾—æ›´å¤šåœºæ¬¡çš„é˜Ÿä¼è·èƒœã€‚<br>å¦ç»™ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ¯å±€èƒœåˆ©çš„é˜Ÿä¼ã€‚</p><p>é—®ç¬¬å‡ å±€å·²ç»ç¡®å®šäº†èƒœè´Ÿï¼Œæˆ–æ˜¯è¿˜æœªç¡®å®šã€‚</p><h2 id="è§£é¢˜æ€è·¯-5">è§£é¢˜æ€è·¯</h2><p>æ•°æ•°</p><h2 id="å‚è€ƒç¨‹åº-5">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">getnum</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line">    ll ret=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,s.<span class="built_in">length</span>()<span class="number">-1</span>)&#123;</span><br><span class="line">        ret*=<span class="number">10</span>;</span><br><span class="line">        ret+=s[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string ts;cin &gt;&gt; ts;</span><br><span class="line">    string s; cin &gt;&gt; s;</span><br><span class="line">    ll tn=<span class="built_in">getnum</span>(ts); tn/=<span class="number">2</span>;</span><br><span class="line">    ll cntR=<span class="number">0</span>,cntP=<span class="number">0</span>;</span><br><span class="line">    ll n=s.<span class="built_in">length</span>();</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="type">char</span> c=s[i];</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;R&#x27;</span>) cntR++;</span><br><span class="line">        <span class="keyword">else</span> cntP++;</span><br><span class="line">        <span class="keyword">if</span>(cntR&gt;tn)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;kou!&quot;</span> &lt;&lt; endl &lt;&lt; i+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(cntP&gt;tn)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;yukari!&quot;</span> &lt;&lt; endl &lt;&lt; i+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;to be continued.&quot;</span> &lt;&lt; endl &lt;&lt; n &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>F.å‘½è¿çš„æŠ‰æ‹©</h1><p><strong>æ€ç»´</strong></p><h2 id="é¢˜æ„-6">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$n$çš„æ•°ç»„ï¼ŒæŠŠå®ƒåˆ†æˆéç©ºçš„ä¸¤éƒ¨åˆ†$a,b$ï¼Œä½¿å¾—ä»$a,b$ä¸­åˆ†åˆ«ä»»å–ä¸€ä¸ªå…ƒç´ $a_i,b_j$ï¼Œå®ƒä»¬äº’è´¨$gcd(a_i,b_j)=1$</p><h2 id="è§£é¢˜æ€è·¯-6">è§£é¢˜æ€è·¯</h2><p>å…ˆåœ¨$a$ä¸­æ”¾ç½®ä¸€ä¸ªæ•°ï¼Œå¼€ä¸€ä¸ªsetè®°å½•$a$ä¸­å·²å­˜åœ¨çš„è´¨æ•°å› å­ã€‚</p><p>åœ¨å‰©ä½™çš„æ•°å­—ä¸­å¤šæ¬¡æ‰«æï¼Œä¸€æ—¦æŸä¸ªæ•°$x$èƒ½è¢«$a$ä¸­çš„è´¨æ•°å› å­æ•´é™¤ï¼Œå°±æŠŠå®ƒæ”¾å…¥$a$ä¸­ï¼Œç›´åˆ°æŸæ¬¡æ‰«ææ²¡æœ‰åŠ å…¥æ–°çš„æ•°å­—ã€‚<br>å‰©ä½™çš„æ•°å­—ä½œä¸º$b$ã€‚</p><p>æ—¶é—´å¤æ‚åº¦æ¯”è¾ƒæŠ½è±¡//</p><h2 id="å‚è€ƒç¨‹åº-6">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;ll&gt; <span class="title">GetFac</span><span class="params">(ll x)</span></span>&#123;<span class="comment">//è¿”å›xçš„è´¨å› æ•°é›†åˆ</span></span><br><span class="line">    vector&lt;ll&gt; ret;</span><br><span class="line">    ll i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(check[x])&#123;<span class="comment">//check[i]==1è¡¨ç¤ºiæ˜¯åˆæ•°</span></span><br><span class="line">            <span class="keyword">if</span>(x%prime[i]==<span class="number">0</span>)&#123;<span class="comment">//primeæ˜¯è´¨æ•°è¡¨</span></span><br><span class="line">                ret.<span class="built_in">pb</span>(prime[i]);</span><br><span class="line">                <span class="keyword">while</span>(x%prime[i]==<span class="number">0</span>) x/=prime[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; ret.<span class="built_in">pb</span>(x); <span class="keyword">return</span> ret; &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,t;cin &gt;&gt; n;</span><br><span class="line">    vector&lt;vector&lt;ll&gt;&gt; vFac;</span><br><span class="line">    vector&lt;ll&gt; v;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; t;</span><br><span class="line">        v.<span class="built_in">push_back</span>(t);</span><br><span class="line">        vFac.<span class="built_in">push_back</span>(<span class="built_in">GetFac</span>(t));</span><br><span class="line">    &#125;</span><br><span class="line">    set&lt;ll&gt; st;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">sa</span><span class="params">(n,<span class="number">0</span>)</span></span>;<span class="comment">//æ”¾å…¥é›†åˆa</span></span><br><span class="line">    sa[<span class="number">0</span>]=<span class="number">1</span>; t=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:vFac[<span class="number">0</span>]) st.<span class="built_in">insert</span>(x);<span class="comment">//å°†ç¬¬ä¸€ä¸ªæ•°çš„è´¨å› æ•°æ”¾å…¥é›†åˆ</span></span><br><span class="line">    <span class="keyword">while</span>(t)&#123;</span><br><span class="line">        t=<span class="number">0</span>;<span class="comment">//tè¡¨ç¤ºæœ¬è½®æ˜¯å¦æœ‰æ•°æ”¾å…¥é›†åˆa</span></span><br><span class="line">        <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) <span class="keyword">if</span>(sa[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:vFac[i]) <span class="keyword">if</span>(st.<span class="built_in">count</span>(x))&#123;</span><br><span class="line">                sa[i]=<span class="number">1</span>; t++;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;y:vFac[i]) st.<span class="built_in">insert</span>(y);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;ll&gt; a,b;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) <span class="keyword">if</span>(sa[i]) a.<span class="built_in">pb</span>(v[i]); <span class="keyword">else</span> b.<span class="built_in">pb</span>(v[i]);</span><br><span class="line">    <span class="keyword">if</span>(b.<span class="built_in">size</span>()==<span class="number">0</span>) &#123;cout &lt;&lt; <span class="string">&quot;-1 -1&quot;</span> &lt;&lt; endl;<span class="keyword">return</span>;&#125;</span><br><span class="line">    ll na=a.<span class="built_in">size</span>(),nb=b.<span class="built_in">size</span>();</span><br><span class="line">    cout &lt;&lt; na &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; nb &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,na<span class="number">-1</span>) cout &lt;&lt; a[i] &lt;&lt; <span class="built_in">Presentation</span>(i,na<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,nb<span class="number">-1</span>) cout &lt;&lt; b[i] &lt;&lt; <span class="built_in">Presentation</span>(i,nb<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>G.äººç”Ÿçš„èµ·è½</h1><p><strong>æ„é€ </strong></p><h2 id="é¢˜æ„-7">é¢˜æ„</h2><p>å½¢å¦‚$(a,b,a),a\gt b$çš„ä¸‰å…ƒç»„ç§°ä¸ºâ€œv-ä¸‰å…ƒç»„â€ã€‚<br>æ„é€ ä¸€ä¸ªé•¿åº¦ä¸º$n$ï¼Œå’Œä¸º$S$ï¼Œä¸”æ°å¥½æœ‰$k$ä¸ªâ€œv-ä¸‰å…ƒç»„â€çš„æ­£æ•´æ•°æ•°ç»„ã€‚</p><h2 id="è§£é¢˜æ€è·¯-7">è§£é¢˜æ€è·¯</h2><p>é™å®šæ­£æ•´æ•°ï¼Œâ€œv-ä¸‰å…ƒç»„â€è‡³å°‘ä¸º$(2,1,2)$ã€‚<br>ä¾æ­¤å¼€å±€ç‰¹åˆ¤ï¼š</p><ol><li>$n&lt;k*2+1$ï¼škä¸ªâ€œv-ä¸‰å…ƒç»„â€æœ€å°‘éœ€è¦$2k+1$ä¸ªæ•°ã€‚</li><li>$S&lt;n+k+1$ï¼škä¸ªâ€œv-ä¸‰å…ƒç»„â€æœ€å°‘éœ€è¦$k+1$ä¸ª$2$ï¼Œå…¶ä½™ä¸º$1$ï¼Œå’Œè‡³å°‘ä¸º$n+k+1$ã€‚</li></ol><p>æ„é€ æ–¹æ³•æ˜¯ï¼Œå…ˆåœ¨æœ€å‰çš„$k+1$ä¸ªå¥‡æ•°ä½ä¸Šæ”¾ç½®å°½å¯èƒ½å¤§çš„æ•°ï¼Œç„¶ååœ¨å‰©ä½™çš„ä½ç½®ä¸Šæ”¾ç½®$1$ã€‚è‹¥è¿˜æœ‰å¤šä½™çš„æ•°ï¼Œæ”¾åœ¨ç¬¬$k+1$ä¸ªå¥‡æ•°ä½ï¼ˆ$k*2+1$ï¼‰ä¸Šã€‚</p><p>è‹¥$n$æ°å¥½ç­‰äº$k*2+1$ï¼Œåˆ™å°†å¤šä½™çš„æ•°æ”¾ç½®åœ¨å¶æ•°ä½ä¸Šï¼Œä½†å¶æ•°ä½ä¸Šçš„æ•°ä¸èƒ½è¶…è¿‡å¥‡æ•°ä½ä¸Šçš„æ•°ã€‚</p><h2 id="å‚è€ƒç¨‹åº-7">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,S,k;cin &gt;&gt; n &gt;&gt; S &gt;&gt; k;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">0</span>) cout &lt;&lt; S &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(k==<span class="number">0</span>) cout &lt;&lt; S/<span class="number">2</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; S-S/<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n<span class="number">-1</span>) cout &lt;&lt; <span class="string">&quot;1&quot;</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        cout &lt;&lt; S-n+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">2</span>*k+<span class="number">1</span>) &#123;cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;<span class="keyword">return</span> ;&#125;</span><br><span class="line">    <span class="keyword">if</span>(k&amp;&amp;S&lt;n+k+<span class="number">1</span>) &#123;cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;<span class="keyword">return</span> ;&#125;</span><br><span class="line">    ll t=(S-(n-(k+<span class="number">1</span>)))/(k+<span class="number">1</span>);</span><br><span class="line">    vector&lt;ll&gt; ans;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,k)&#123;</span><br><span class="line">        ans.<span class="built_in">pb</span>(t);</span><br><span class="line">        ans.<span class="built_in">pb</span>(<span class="number">1</span>);</span><br><span class="line">        S-=t+<span class="number">1</span>;</span><br><span class="line">    &#125;ans.<span class="built_in">pb</span>(t); S-=t;</span><br><span class="line">    <span class="keyword">if</span>(ans.<span class="built_in">size</span>()&gt;=n)&#123;</span><br><span class="line">        t=S/(n/<span class="number">2</span>);</span><br><span class="line">        <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n/<span class="number">2</span><span class="number">-1</span>)&#123;</span><br><span class="line">            ans[i*<span class="number">2</span>+<span class="number">1</span>]+=t;</span><br><span class="line">            S-=t;</span><br><span class="line">        &#125;</span><br><span class="line">        t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(S)&#123;</span><br><span class="line">            ans[t*<span class="number">2</span>+<span class="number">1</span>]++;</span><br><span class="line">            S--;</span><br><span class="line">            t++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;<span class="number">1</span>&amp;&amp;ans[<span class="number">1</span>]&gt;=ans[<span class="number">0</span>]) &#123;cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;<span class="keyword">return</span> ;&#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        t=ans.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">while</span>(ans.<span class="built_in">size</span>()&lt;n)&#123;</span><br><span class="line">            ans.<span class="built_in">pb</span>(<span class="number">1</span>);</span><br><span class="line">            S--;</span><br><span class="line">        &#125;</span><br><span class="line">        ans[t]+=S;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) cout &lt;&lt; ans[i] &lt;&lt; <span class="string">&quot; \n&quot;</span>[i==n<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>I.æ—¶ç©ºçš„äº¤ç»‡</h1><p><strong>è´ªå¿ƒ</strong></p><h2 id="é¢˜æ„-8">é¢˜æ„</h2><p>ç»™å®š$n$ä¸ªæ•°çš„æ•°ç»„$a$å’Œ$m$ä¸ªæ•°çš„æ•°ç»„$b$ï¼Œè¡¨ç¤ºä¸€ä¸ª$n\times m$çš„çŸ©é˜µï¼ŒçŸ©é˜µä¸­çš„å…ƒç´ $m_{i,j}=a_i*b_j$ã€‚<br>é€‰æ‹©ä¸€ä¸ªå­çŸ©é˜µï¼Œä½¿å¾—å­çŸ©é˜µä¸­çš„å…ƒç´ ä¹‹å’Œæœ€å¤§ï¼Œè¾“å‡ºè¿™ä¸ªå’Œã€‚</p><h2 id="è§£é¢˜æ€è·¯-8">è§£é¢˜æ€è·¯</h2><p>å‡è®¾é€‰å®šçš„çŸ©é˜µåŒºé—´ä¸º$(r_i,r_j):(c_i,c_j)$ï¼Œåˆ™å­çŸ©é˜µçš„å’Œä¸º$\sum_{i=r_i}^{r_j}\sum_{j=c_i}^{c_j}a_i<em>b_j=\sum_{i=r_i}^{r_j}a_i</em>\sum_{j=c_i}^{c_j}b_j$ã€‚</p><p>é—®é¢˜è½¬åŒ–ä¸ºæ±‚$a$æ•°ç»„çš„ä¸€ä¸ªéç©ºè¿ç»­å­æ•°ç»„å’Œä¹˜ä¸Š$b$æ•°ç»„çš„ä¸€ä¸ªéç©ºè¿ç»­å­æ•°ç»„å’Œçš„æœ€å¤§å€¼ã€‚</p><p>å¯ä¸ºç©ºçš„æ•°ç»„åŒºé—´å’Œçš„æœ€å¤§å€¼å¯ä»¥è´ªå¿ƒçš„æ±‚è§£ï¼š</p><ol><li>ç”¨$cur$è¡¨ç¤ºå¯¹å½“å‰åŒºé—´å’Œï¼Œ$max$è¡¨ç¤ºåŒºé—´å’Œçš„æœ€å¤§å€¼ã€‚</li><li>å°†å½“å‰å…ƒç´ $a_i$åŠ å…¥åŒºé—´ï¼Œå’Œå½“å‰æœ€å¤§å€¼æ¯”è¾ƒã€‚</li><li>è‹¥å½“å‰åŒºé—´å’Œ$cur&lt;0$ï¼Œåˆ™èˆå¼ƒä¹‹å‰çš„åŒºé—´ï¼Œé‡æ–°å¼€å§‹è®¡ç®—ï¼ˆ$cur:=0$ï¼‰ã€‚</li></ol><p>æœ¬é¢˜ä¸­çš„åŒºé—´è¦æ±‚éç©ºï¼Œå¯ä»¥ç”¨æœ€å€¼ä¿®æ­£ã€‚</p><p>æ­¤å¤–ï¼Œ$a$æ•°ç»„å’Œ$b$æ•°ç»„çš„å…ƒç´ å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œå› æ­¤åŒæ—¶æ±‚å‡ºåŒºé—´å’Œçš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œä¸¤ä¸¤ç›¸ä¹˜å–æœ€å¤§å³å¯ã€‚</p><h2 id="å‚è€ƒç¨‹åº-8">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,m;cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="built_in">create_vec</span>(a,n);</span><br><span class="line">    <span class="built_in">create_vec</span>(b,m);</span><br><span class="line">    ll mxa,mxb,mna,mnb,curmn,curmx;</span><br><span class="line">    mxa=mxb=-INF; mna=mnb=INF;</span><br><span class="line">    curmn=curmx=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        curmn+=a[i];</span><br><span class="line">        curmx+=a[i];</span><br><span class="line">        <span class="keyword">if</span>(curmn&gt;<span class="number">0</span>) curmn=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(curmx&lt;<span class="number">0</span>) curmx=<span class="number">0</span>;</span><br><span class="line">        mna=<span class="built_in">min</span>(mna,curmn);</span><br><span class="line">        mxa=<span class="built_in">max</span>(mxa,curmx);</span><br><span class="line">    &#125;</span><br><span class="line">    curmn=curmx=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,m<span class="number">-1</span>)&#123;</span><br><span class="line">        curmn+=b[i];</span><br><span class="line">        curmx+=b[i];</span><br><span class="line">        <span class="keyword">if</span>(curmn&gt;<span class="number">0</span>) curmn=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(curmx&lt;<span class="number">0</span>) curmx=<span class="number">0</span>;</span><br><span class="line">        mnb=<span class="built_in">min</span>(mnb,curmn);</span><br><span class="line">        mxb=<span class="built_in">max</span>(mxb,curmx);</span><br><span class="line">    &#125;</span><br><span class="line">    curmn=INF; curmx=-INF;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>)&#123;</span><br><span class="line">        curmn=<span class="built_in">min</span>(curmn,a[i]);</span><br><span class="line">        curmx=<span class="built_in">max</span>(curmx,a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(curmx&lt;=<span class="number">0</span>) mxa=<span class="built_in">min</span>(mxa,curmx);</span><br><span class="line">    <span class="keyword">if</span>(curmn&gt;=<span class="number">0</span>) mna=<span class="built_in">max</span>(mna,curmn);</span><br><span class="line">    curmn=INF; curmx=-INF;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,m<span class="number">-1</span>)&#123;</span><br><span class="line">        curmn=<span class="built_in">min</span>(curmn,b[i]);</span><br><span class="line">        curmx=<span class="built_in">max</span>(curmx,b[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(curmx&lt;=<span class="number">0</span>) mxb=<span class="built_in">min</span>(mxb,curmx);</span><br><span class="line">    <span class="keyword">if</span>(curmn&gt;=<span class="number">0</span>) mnb=<span class="built_in">max</span>(mnb,curmn);</span><br><span class="line">    cout &lt;&lt; <span class="built_in">max</span>(&#123;mna*mnb,mna*mxb,mxa*mnb,mxa*mxb&#125;) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>J.æ—¶ç©ºçš„äº¤ç»‡</h1><p><strong>è´ªå¿ƒã€æ„é€ </strong></p><h2 id="é¢˜æ„-9">é¢˜æ„</h2><p>ç»™å®šä¸€æ£µæœ‰æ ¹æ ‘ï¼Œè‹¥å¹²ä¸ªèŠ‚ç‚¹ä¸ºçº¢è‰²ã€‚<br>ä¸ºæ¯ä¸ªèŠ‚ç‚¹èµ‹å€¼$1$æˆ–$2$ï¼Œä½¿å¾—æ¯ä¸ªä»¥çº¢è‰²èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ï¼Œå…¶èŠ‚ç‚¹å€¼ä¹‹å’Œä¸º$3$çš„å€æ•°ã€‚</p><h2 id="è§£é¢˜æ€è·¯-9">è§£é¢˜æ€è·¯</h2><p>å¯¹äºæ¯ä¸ªçº¢è‰²èŠ‚ç‚¹ï¼Œå¦‚æœå®ƒæ²¡æœ‰ç™½è‰²å­èŠ‚ç‚¹ï¼Œåˆ™å®ƒçš„å­æ ‘é™¤å®ƒä»¥å¤–çš„å’Œå·²ç»æ˜¯$3$çš„å€æ•°ï¼Œå®ƒä¸º$1$æˆ–$2$éƒ½ä¸å¯èƒ½å†ä½¿å®ƒçš„å­æ ‘å’Œä¸º$3$çš„å€æ•°ã€‚</p><p>å¦‚æœå®ƒè‡³å°‘æœ‰1ä¸ªç™½è‰²å­èŠ‚ç‚¹ï¼Œåˆ™å®ƒå’Œç™½è‰²å­èŠ‚ç‚¹å¯ä»¥é…åˆä½¿å¾—å®ƒçš„å­æ ‘å’Œä¸º$3$çš„å€æ•°ã€‚</p><p>å› æ­¤ï¼ŒæŒ‰DFSé€†åºéå†ï¼Œç™½è‰²èŠ‚ç‚¹å…ˆèµ‹å€¼ä¸º$1$ã€‚è‹¥çº¢è‰²èŠ‚ç‚¹é™¤å…¶æœ¬èº«å¤–ï¼Œå’Œä¸æ˜¯$3$çš„å€æ•°ï¼Œåˆ™ç”¨å®ƒè¡¥ä¸Šï¼›å¦åˆ™å°†ä»»ä¸€ç™½è‰²å­èŠ‚ç‚¹æ”¹ä¸º$2$ï¼Œå®ƒèµ‹ä¸º$2$ã€‚</p><h2 id="å‚è€ƒç¨‹åº-9">å‚è€ƒç¨‹åº</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;ll&gt;&gt; G;</span><br><span class="line">vector&lt;ll&gt; vDFS_rev;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(ll x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;y:G[x]) <span class="built_in">DFS</span>(y);</span><br><span class="line">    vDFS_rev.<span class="built_in">pb</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll n,t;cin &gt;&gt; n; G.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">    string s;cin &gt;&gt; s;</span><br><span class="line">    bitset&lt;N&gt; red;<span class="comment">//red[i]è¡¨ç¤ºç¬¬iä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">0</span>,n<span class="number">-1</span>) red[i+<span class="number">1</span>]=(s[i]==<span class="string">&#x27;R&#x27;</span>);</span><br><span class="line">    <span class="function">vector&lt;ll&gt; <span class="title">white</span><span class="params">(n+<span class="number">1</span>,<span class="number">0</span>)</span></span>;<span class="comment">//white[i]è¡¨ç¤ºç¬¬iä¸ªèŠ‚ç‚¹ä¸‹çš„æŸä¸€ç™½è‰²èŠ‚ç‚¹ï¼Œ0è¡¨ç¤ºæ²¡æœ‰</span></span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">2</span>,n)&#123;</span><br><span class="line">        cin &gt;&gt; t; G[t].<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="keyword">if</span>(white[t]==<span class="number">0</span>&amp;&amp;!red[i]) white[t]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) <span class="keyword">if</span>(white[i]==<span class="number">0</span>&amp;&amp;red[i]) &#123;cout &lt;&lt; <span class="string">&quot;-1\n&quot;</span>;<span class="keyword">return</span> ;&#125;<span class="comment">//çº¢è‰²èŠ‚ç‚¹ä¸‹å¿…é¡»æœ‰ç™½è‰²èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">DFS</span>(<span class="number">1</span>);<span class="comment">//è·å–é€†DFSåºåˆ—</span></span><br><span class="line">    ll S[N]=&#123;<span class="number">0</span>&#125;,ans[N]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;x:vDFS_rev)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;y:G[x]) S[x]+=S[y];</span><br><span class="line">        <span class="keyword">if</span>(red[x])&#123;</span><br><span class="line">            <span class="keyword">if</span>(S[x]%<span class="number">3</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                ans[x]=<span class="number">2</span>; S[x]+=<span class="number">3</span>;</span><br><span class="line">                ans[white[x]]=<span class="number">2</span>; S[white[x]]+=<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(S[x]%<span class="number">3</span>==<span class="number">1</span>)&#123;</span><br><span class="line">                ans[x]=<span class="number">2</span>; S[x]+=<span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                ans[x]=<span class="number">1</span>; S[x]+=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            ans[x]=<span class="number">1</span>;</span><br><span class="line">            S[x]+=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">FORLL</span>(i,<span class="number">1</span>,n) cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¢˜è§£|2024ç‰›å®¢å¯’å‡06</summary>
    
    
    
    <category term="ç®—æ³•ç«èµ›" scheme="https://www.cclmsy.cc/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/"/>
    
    
    <category term="2024ç‰›å®¢å¯’å‡" scheme="https://www.cclmsy.cc/tags/2024%E7%89%9B%E5%AE%A2%E5%AF%92%E5%81%87/"/>
    
  </entry>
  
</feed>
